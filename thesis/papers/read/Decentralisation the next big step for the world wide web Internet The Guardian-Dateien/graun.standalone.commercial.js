/*! For license information please see graun.standalone.commercial.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,r,o={7829:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AD_LABEL_HEIGHT=void 0,t.AD_LABEL_HEIGHT=24},4e3:(e,t,n)=>{t.O2=void 0;var r=n(7829);Object.defineProperty(t,"O2",{enumerable:!0,get:function(){return r.AD_LABEL_HEIGHT}});var o=n(4673);var i=n(4469)},4673:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PREBID_TIMEOUT=void 0,t.PREBID_TIMEOUT=1500},4469:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TOP_ABOVE_NAV_HEIGHT=void 0,t.TOP_ABOVE_NAV_HEIGHT=90},4586:(e,t,n)=>{n.d(t,{ai:()=>m,jt:()=>Qe,ZN:()=>H,lL:()=>Ce,Iq:()=>Ye,NV:()=>T,x8:()=>Te,_G:()=>r,PH:()=>L,dQ:()=>Ne,qp:()=>o,aC:()=>Je,wJ:()=>K,Nw:()=>J,Ie:()=>W,Iv:()=>u,YR:()=>Xe,$M:()=>et,N9:()=>R,eo:()=>i,oi:()=>Ie,qK:()=>tt,Q$:()=>p,oe:()=>U,km:()=>s});var r={};n.r(r),n.d(r,{O2:()=>De});const o=({shouldRun:e})=>({shouldRun:e,url:"//cdn.adsafeprotected.com/iasPET.1.js",name:"ias"}),i=({shouldRun:e})=>({shouldRun:e,url:"//cdn.permutive.com/d6691a17-6fdb-4d26-85d6-b3dd27f55f08-web.js",name:"permutive"}),a=()=>{var e,t,n,r,o,i;e=window,t=document,n="script",e.twq||((r=e.twq=function(){r.exe?r.exe(...arguments):r.queue.push(arguments)}).version="1.1",r.queue=[],(o=t.createElement(n)).async=!0,o.src="//static.ads-twitter.com/uwt.js",(i=t.getElementsByTagName(n)[0]).parentNode.insertBefore(o,i)),twq("init","nyl43"),twq("track","PageView"),twq("init","ny4k9"),twq("track","PageView")},s=({shouldRun:e})=>({shouldRun:e,name:"twitter",insertSnippet:a}),c=(e,t)=>{e&&(window.googletag&&window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting("inizio","t")})),console.log(`surveyAvailable: ${t.measurementId}`))},l=()=>{window._brandmetrics||(window._brandmetrics=[]),window._brandmetrics.push({cmd:"_querySurvey",val:{callback:c}})},u=({shouldRun:e})=>({shouldRun:e,url:"//cdn.brandmetrics.com/survey/script/e96d04c832084488a841a06b49b8fb2d.js",name:"inizio",onLoad:l}),d=()=>{window.google_trackConversion?.({google_conversion_id:971225648,google_custom_params:window.google_tag_params,google_remarketing_only:!0})},p=({shouldRun:e})=>({shouldRun:e,url:"//www.googleadservices.com/pagead/conversion_async.js",name:"remarketing",onLoad:d});class f{constructor(e,t){this.name=e,this.ts=t.startTime}}class m{static init(){var e;return(e=window.guardian).commercialTimer||(e.commercialTimer=new m)}static get(){return this.init()}get events(){return void 0!==window.performance&&"getEntriesByName"in window.performance?[...this._events,...m._externallyDefinedEventNames.map((e=>{const t=window.performance.getEntriesByName(e)[0];return t?new f(e,t):void 0})).filter((e=>e instanceof f))]:this._events}constructor(){this._events=[],this.startTS=window.performance.now(),this.triggers={first:{slotReady:!1,prebidStart:!1,prebidEnd:!1,slotInitialised:!1,adOnPage:!1},"top-above-nav":{slotReady:!1,prebidStart:!1,prebidEnd:!1,slotInitialised:!1,adOnPage:!1},page:{commercialStart:!1,commercialExtraModulesLoaded:!1,commercialBaseModulesLoaded:!1,commercialModulesLoaded:!1}},this.gaConfig={logEvents:[{timingVariable:"slotReady"},{timingVariable:"slotInitialised"},{timingVariable:"commercialStart",timingLabel:"Commercial start parse time"},{timingVariable:"commercialModulesLoaded",timingLabel:"Commercial end parse time"}]},this.properties={},window.navigator.connection&&(this.properties.type=window.navigator.connection.type,this.properties.downlink=window.navigator.connection.downlink,this.properties.effectiveType=window.navigator.connection.effectiveType)}setProperty(e,t){this.properties[e]=t}trigger(e,t="page"){const n="top-above-nav";if("page"===t&&!this.triggers.page[e])return this.mark(e),this.trackInGA(e),void(this.triggers.page[e]=!0);if(!this.triggers.first[e]){const t=`first-${e}`;this.mark(t),this.trackInGA(e,t),this.triggers.first[e]=!0}if(t===n&&!this.triggers[n][e]){const t=`${n}-${e}`;this.mark(t),this.trackInGA(e,t),this.triggers[n][e]=!0}}mark(e){const t=`gu.commercial.${e}`;if(void 0!==window.performance&&"mark"in window.performance&&"function"==typeof window.performance.mark){const n=window.performance.mark(t);"number"==typeof n?.startTime&&this._events.push(new f(e,n))}}trackInGA(e,t=""){const n=this.gaConfig.logEvents.find((t=>t.timingVariable===e));if(n){const e=n.timingLabel??t;((e,t,n)=>{const{ga:r,guardian:o}=window,i=o.config.googleAnalytics?.trackers.editorial;if("function"!=typeof r)return;const a=Math.round(window.performance.now()),s=i?`${i}.send`:"send";window.ga(s,"timing",e,t,a,n)})("Commercial Events",n.timingVariable,e)}}}m._externallyDefinedEventNames=["cmp-init","cmp-ui-displayed","cmp-got-consent"];var g,h=n(813),v=n(582);!function(e){e.CODE="//performance-events.code.dev-guardianapis.com/commercial-metrics",e.PROD="//performance-events.guardianapis.com/commercial-metrics"}(g||(g={}));let b,w={page_view_id:void 0,browser_id:void 0,platform:"NEXT_GEN",metrics:[],properties:[]},y=[],_=[],S=!1;const E=e=>Object.entries(e),O=e=>e.map((([e,t])=>({name:String(e),value:String(t)}))),P=e=>e.map((({name:e,ts:t})=>({name:e,value:Math.ceil(t)})));const k=()=>"number"==typeof window.guardian.offlineCount?[{name:"offlineCount",value:window.guardian.offlineCount}]:[];function C(){const e=m.get(),t=E(e.properties).filter((e=>void 0!==e[1])),n=O(t).concat(y).concat(_);w.properties=n;const r=P(e.events).concat(k());w.metrics=r,(0,v.c)("commercial","About to send commercial metrics",w),navigator.sendBeacon(b,JSON.stringify(w))}const A=e=>{switch(e.type){case"visibilitychange":return void("hidden"===document.visibilityState&&C());case"pagehide":return void C()}},j=()=>{window.addEventListener("visibilitychange",A,{once:!0}),window.addEventListener("pagehide",A,{once:!0})},x=async()=>{const e=await(0,h.B4)();if(e.tcfv2){const t=e.tcfv2.consents;return[7,8].every((e=>t[e]))}return!0};async function T(){if(!S)return void console.warn("initCommercialMetrics not yet initialised");await x()?j():(0,v.c)("commercial","Metrics won't be sent because consent wasn't given")}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class M extends Array{constructor([e,t]){super(),this[0]=e,this[1]=t}toString(){return 0===this.width&&0===this.height?"fluid":`${this.width},${this.height}`}toArray(){return[this[0],this[1]]}isProxy(){const e=1===this.width&&1===this.height,t=2===this.width&&2===this.height,n="fluid"===this.toString(),r=88===this.width;return e||t||n||r}get width(){return this[0]}get height(){return this[1]}}const L=(e,t)=>new M([e,t]),B={billboard:L(970,250),halfPage:L(300,600),leaderboard:L(728,90),mobilesticky:L(320,50),mpu:L(300,250),portrait:L(300,1050),skyscraper:L(160,600),cascade:L(940,230),portraitInterstitial:L(320,480)},F={"970x250":B.billboard,"300x600":B.halfPage,"728x90":B.leaderboard,"300x250":B.mpu,"300x1050":B.portrait,"160x600":B.skyscraper},R={outstreamDesktop:L(620,350),outstreamGoogleDesktop:L(550,310),outstreamMobile:L(300,197)},$={fluid:L(0,0),googleCard:L(300,274),outOfPage:L(1,1)},Z={empty:L(2,2),fabric:L(88,71),inlineMerchandising:L(88,85),merchandising:L(88,88),merchandisingHigh:L(88,87),merchandisingHighAdFeature:L(88,89)},H=D(D(D(D(D({},B),F),R),$),Z),U={inline:{mobile:[H.outOfPage,H.empty,H.outstreamMobile,H.mpu,H.googleCard,H.fluid],phablet:[H.outOfPage,H.empty,H.outstreamMobile,H.mpu,H.googleCard,H.fluid],desktop:[H.outOfPage,H.empty,H.mpu,H.googleCard,H.fluid]},right:{mobile:[H.outOfPage,H.empty,H.mpu,H.googleCard,H.halfPage,H.fluid]},comments:{mobile:[H.outOfPage,H.empty,H.outstreamMobile,H.mpu,H.googleCard,H.fluid],phablet:[H.outOfPage,H.empty,H.outstreamMobile,H.mpu,H.googleCard,H.fluid],desktop:[H.outOfPage,H.empty,H.mpu,H.googleCard,H.fluid]},"comments-expanded":{mobile:[H.outOfPage,H.empty,H.mpu,H.googleCard,H.fluid,H.skyscraper,H.halfPage]},"top-above-nav":{mobile:[H.outOfPage,H.empty,H.fabric,H.outstreamMobile,H.mpu,H.fluid],tablet:[H.outOfPage,H.empty,H.fabric,H.fluid,H.leaderboard],desktop:[H.outOfPage,H.empty,H.leaderboard,L(940,230),L(900,250),H.billboard,H.fabric,H.fluid]},mostpop:{mobile:[H.outOfPage,H.empty,H.mpu,H.googleCard,H.fluid],phablet:[H.outOfPage,H.empty,H.outstreamMobile,H.mpu,H.googleCard,H.halfPage,H.fluid],tablet:[H.outOfPage,H.empty,H.mpu,H.googleCard,H.halfPage,H.leaderboard,H.fluid],desktop:[H.outOfPage,H.empty,H.mpu,H.googleCard,H.halfPage,H.fluid]},im:{mobile:[H.outOfPage,H.empty,H.inlineMerchandising,H.fluid]},"merchandising-high":{mobile:[H.outOfPage,H.empty,H.merchandisingHigh,H.fluid]},"merchandising-high-lucky":{mobile:[H.outOfPage,H.empty,H.fluid]},merchandising:{mobile:[H.outOfPage,H.empty,H.merchandising,H.fluid]},survey:{desktop:[H.outOfPage]},carrot:{mobile:[H.fluid]},epic:{mobile:[H.fluid]},"mobile-sticky":{mobile:[H.mobilesticky]},"crossword-banner":{phablet:[H.outOfPage,H.empty,H.leaderboard],tablet:[H.outOfPage,H.empty,H.leaderboard]},exclusion:{mobile:[H.empty],phablet:[H.empty],desktop:[H.empty]}};var z=n(8394);const q="_papns",G="_pdfps",V=e=>{try{const t=z.t.local.getRaw(e),n=t?JSON.parse(t):null;return Array.isArray(n)?n.slice(0,250).map((e=>Number.parseInt(e,10))).filter((e=>"number"==typeof e&&!Number.isNaN(e))).map(String):[]}catch(e){return[]}},W=()=>{const e=document.body.offsetHeight,t=window.innerHeight,n=Math.floor(e/t),r=m.get();r.setProperty("pageHeightVH",n);const o=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const t=String(e.target.getAttribute("data-depth"));(0,v.c)("commercial",`current scroll depth ${t}`),r.trigger(`scroll-depth-vh-${t}`),o.unobserve(e.target)}}))}));for(let e=1;e<=n;e++){const t=document.createElement("div");t.dataset.depth=String(e),t.style.top=String(100*e)+"%",t.style.position="absolute",t.className="scroll-depth-marker",document.body.appendChild(t),o.observe(t)}},J=()=>{const e=document.querySelector("section.dumathoin");if(null===e)return;const t=document.querySelector("h1.dumathoin__title a")?.getAttribute("href");if(null===t)return;const n=m.get();(0,v.c)("commercial","Page has labs container"),n.setProperty("hasLabsContainer",!0),n.setProperty("labsUrl",t);const r=new IntersectionObserver((e=>{e.map((e=>{e.isIntersecting&&((0,v.c)("commercial","Labs container in view"),n.trigger("labsContainerInView"),r.unobserve(e.target))}))}));r.observe(e)},K=e=>{const t=void 0===e.gpcSignal?-1:+e.gpcSignal,n=m.get();(0,v.c)("commercial",`gpcSignal ${t}`),n.setProperty("gpcSignal",t)};var Y=n(1565),Q=n(435);const X=/^[A-Z]{2}$/,ee=e=>(0,Y.H)(e)&&X.test(e);let te;const ne={UK:"GB",US:"US",AU:"AU"},re=()=>{if(te)return te;const e=z.t.local.get("gu.geo.override");if(ee(e))return te=e;const t=(0,Q.e)({name:"GU_geo_country"});if(t&&ee(t))return te=t;const n=(r=window.guardian.config.page.edition,ne[r]);var r;return te=n},oe=["25","30","60","90","120","150","180","210","240","270","300"],ie=e=>{const t=Math.min(Math.ceil(e/30),10);return oe[t]??null},ae=e=>{const t=(Date.now()-e)/1e3/60/60,n=t/24,r=n/30;return t<2?"0":t<24?"1":n<3?"2":n<7?"3":n<30?"4":r<10?"5":r<14?"6":"7"},se=({eligibleForDCR:e,path:t,renderingPlatform:n,section:r,sensitive:o,videoLength:i,webPublicationDate:a,keywords:s})=>{const c=(e=>{const t=e.split("/").filter(Boolean).slice(-1)[0];return(0,Y.H)(t)?t.split("-").filter(Boolean):[]})(t);return{dcre:e?"t":"f",rc:ae(a),rp:n,s:r,sens:o?"t":"f",urlkw:c,vl:i?ie(i):null,allkw:(l=c,u=s,[...new Set([...l,...u])])};var l,u};function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ue=["0","1","2","3","4","5","6-9","10-15","16-19","20-29","30plus"],de="gu.adManagerGroup",pe=["1","2","3","4","5","6","7","8","9","10","11","12"],fe=e=>{const t=((e,t)=>t.tcfv2&&t.tcfv2.consents[1]||t.ccpa&&!t.ccpa.doNotSell||t.aus&&t.aus.personalisedAdvertising?z.t.local.getRaw(e):null)("gu.alreadyVisited",e);if(!t)return"0";const n=parseInt(t,10);return n<=5?ue[n]??"0":n>=6&&n<=9?"6-9":n>=10&&n<=15?"10-15":n>=16&&n<=19?"16-19":n>=20&&n<=29?"20-29":n>=30?"30plus":"0"},me=e=>{if(!e.framework)return z.t.local.remove(de),null;if(e.tcfv2&&!e.canTarget)return z.t.local.remove(de),null;const t=z.t.local.getRaw(de);return n=t,pe.some((e=>e===n))?t:(()=>{const e=Math.floor(Math.random()*pe.length),t=pe[e]??"12";return z.t.local.setRaw(de,t),t})();var n},ge=(e,t)=>e.canTarget?V(t?G:q):(z.t.local.remove(q),z.t.local.remove(G),[]),he=({state:e,youtube:t})=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({amtgrp:me(e),fr:fe(e),permutive:ge(e,t)},(e=>e.tcfv2?{cmp_interaction:e.tcfv2.eventStatus,pa:e.canTarget?"t":"f",consent_tcfv2:e.canTarget?"t":"f",rdp:"na"}:e.ccpa?{consent_tcfv2:"na",rdp:e.canTarget?"f":"t",pa:e.canTarget?"t":"f"}:e.aus?{consent_tcfv2:"na",rdp:"na",pa:e.canTarget?"t":"f"}:{cmp_interaction:"na",consent_tcfv2:"na",rdp:"na",pa:"f"})(e)),ve=[{id:"facebook",match:"facebook.com"},{id:"google",match:"www.google"},{id:"twitter",match:"/t.co/"},{id:"reddit",match:"reddit.com"}],be=e=>{if(""===e)return null;const t=ve.find((t=>e.includes(t.match)))??null;return t?t.id:null},we=({clientSideParticipations:e,serverSideParticipations:t})=>{const n=(e,t)=>"notintest"===t?null:`${e}-${t}`.substring(0,40),r=Object.entries(e).map((e=>{const[t,r]=e;return n(t,r.variant)})).filter(Y.H),o=Object.entries(t).map((e=>n(...e))).filter(Y.H);return r.length+o.length===0?null:[...r,...o]},ye=({adTest:e,countryCode:t,isSignedIn:n,pageViewId:r,participations:o,referrer:i})=>({ab:we(o),at:e,cc:t,pv:r,ref:be(i),si:n?"t":"f"}),_e=e=>(0,Y.H)(e)&&""!==e,Se=e=>{return!!_e(e)||(t=e,!!(Array.isArray(t)&&t.filter(_e).length>0));var t},Ee=e=>{return t=e,Object.entries(t).reduce(((e,[t,n])=>(Se(n)&&(e[t]=Array.isArray(n)?n.filter(_e):n),e)),{});var t};function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ce=({adFree:e,clientSideParticipations:t,consentState:n,youtube:r=!1})=>{const{page:o,isDotcomRendering:i}=window.guardian.config,a=e?{af:"t"}:{},s=o.sharedAdTargeting?Ee(o.sharedAdTargeting):{},c=se({webPublicationDate:o.webPublicationDate,eligibleForDCR:o.dcrCouldRender,path:`/${o.pageId}`,renderingPlatform:i?"dotcom-rendering":"dotcom-platform",section:o.section,sensitive:o.isSensitive,videoLength:o.videoDuration,keywords:s.k??[]}),l=ye({adTest:(0,Q.e)({name:"adtest",shouldMemoize:!0}),countryCode:re(),isSignedIn:!!(0,Q.e)({name:"GU_U"}),pageViewId:window.guardian.config.ophan.pageViewId,participations:{clientSideParticipations:t,serverSideParticipations:window.guardian.config.tests??{}},referrer:document.referrer||""}),u=(({viewPortWidth:e,cmpBannerWillShow:t})=>{const n=window.guardian.config.page.isPreview;return{bp:(r=e,r>=980?"desktop":r>=660?"tablet":"mobile"),skinsize:e>=1560?"l":"s",inskin:t||n?"f":"t"};var r})({viewPortWidth:[window.innerWidth||document.body.clientWidth||0,window.innerHeight||document.body.clientHeight][0],cmpBannerWillShow:!h.ER.hasInitialised()||h.ER.willShowPrivacyMessageSync()}),d=(e=>{const t={};for(const n in e){const r=e[n];((0,Y.H)(r)||Array.isArray(r)&&r.length>0&&r.every(Y.H))&&(t[n]=r)}return t})(Pe(Pe(Pe(Pe(Pe(Pe({},he({state:n,youtube:r})),s),a),c),l),u));return d};function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xe={im:{label:!1,refresh:!1},"high-merch":{label:!1,refresh:!1,name:"merchandising-high"},"high-merch-lucky":{label:!1,refresh:!1,name:"merchandising-high-lucky"},"high-merch-paid":{label:!1,refresh:!1,name:"merchandising-high"},carrot:{label:!1,refresh:!1,name:"carrot"},epic:{label:!1,refresh:!1,name:"epic"},"mobile-sticky":{label:!0,refresh:!0,name:"mobile-sticky"}},Te=(e,t={})=>Object.entries(t).reduce(((e,[t,n])=>{var r;return("mobile"===(r=t)||"phablet"===r||"tablet"===r||"desktop"===r)&&(e[t]=(e[t]??[]).concat(n)),e}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),Ne=(e,t={})=>{const n=xe[e]??{},r=t.name??n.name??e,o={};return!1===n.label&&(o.label="false"),!1===n.refresh&&(o.refresh="false"),((e,t,n)=>{const r=`dfp-ad--${e}`;if(window.guardian.config.isDotcomRendering&&"top-above-nav"===e){const t=document.getElementById(r);if(t?.parentNode){const n=t.parentNode;console.log(`warning: cleaning up dom node id: dfp-ad--${e}`),n.removeChild(t)}}const o=document.createElement("div");return o.id=r,o.className=`js-ad-slot ad-slot ${n.join(" ")}`,o.dataset.linkName=`ad slot ${e}`,o.dataset.name=e,o.setAttribute("aria-hidden","true"),Object.entries(t).forEach((([e,t])=>o.dataset[e]=t)),o})(r,o,((e,t)=>[...t?.split(" ")??[],e].map((e=>`ad-slot--${e}`)))(r,t.classes))},De=24,Ie=(e,t,n="*")=>{t.postMessage(JSON.stringify(e),{targetOrigin:n})},Me={};let Le=0,Be=()=>{};const Fe={code:405,message:"Service %% not implemented"},Re={code:500,message:"Internal server error\n\n%%"},$e=(e,t)=>{if(e.slotId){return document.getElementById(`dfp-ad--${e.slotId}`)?.querySelector("iframe")??void 0}if(e.iframeId){const t=document.getElementById(e.iframeId);return t instanceof HTMLIFrameElement?t:void 0}if(t){const e=document.querySelectorAll("iframe");return Array.from(e).find((e=>e.contentWindow===t))}},Ze=/^[a-f0-9]{8}-([a-f0-9]{4}-){3}[a-f0-9]{12}$/,He=(e,...t)=>t.reduce(((e,t)=>(e.message=e.message.replace("%%",t),e)),e),Ue=e=>{try{const n=JSON.parse(e.data),r=(e=>{const t=e;return"set-ad-height"===t.type&&("id"in t.value||"slotId"in t.value)&&"height"in t.value})(n)?{id:"aaaa0000-bb11-cc22-dd33-eeeeee444444",type:"resize",iframeId:(t=n).value.id,slotId:t.value.slotId,value:{height:t.value.height,width:t.value.width}}:n;if((e=>{const t=e;return"type"in t&&"value"in t&&"id"in t&&t.type in Me&&Ze.test(t.id)})(r))return r}catch(e){}var t},ze=(e,t,n,r)=>{Ie({id:e,error:n,result:r},t??window)},qe=async e=>{const t=Ue(e);if(!t)return;const n=Me[t.type];if(Array.isArray(n)&&n.length){const r=n.reduce(((n,r)=>n.then((n=>{const o=r(t.value,n,$e(t,e.source));return void 0===o?n:o}))),Promise.resolve());return r.then((n=>{ze(t.id,e.source,null,n)})).catch((n=>{Be(n,{feature:"native-ads"}),ze(t.id,e.source,He(Re,n.toString()),null)}))}"function"==typeof n?n(((n,r)=>ze(t.id,e.source,n,r)),t.value,$e(t,e.source)):ze(t.id,e.source,He(Fe,t.type),null)},Ge=e=>{e.addEventListener("message",(e=>{qe(e)}))},Ve=(e,t,n)=>{0===Le&&Ge(n?.window??window);const r=Me[e]??[];Array.isArray(r)&&!r.includes(t)&&(Me[e]=[...r,t],Le+=1)},We=(e,t,n)=>{0===Le&&Ge(n?.window??window),Me[e]=t,Le+=1},Je=(e,t,n)=>{Be=n,e.forEach((e=>e(Ve,n))),t.forEach((e=>e(We,n)))},Ke=["ab","at","bl","bp","br","cc","ct","dcre","edition","k","rc","rp","s","se","sens","sh","si","skinsize","su","tn","url","urlkw"],Ye=(e,t)=>{const n=Ce({adFree:t,consentState:e,clientSideParticipations:{}});return Object.fromEntries(Object.entries(n).filter((([e])=>{return t=e,Ke.includes(t);var t})))},Qe=()=>{!function(e,t,n,r,o,i,a){function s(n,r){t[e]._Q.push([n,r])}t[e]||(t[e]={init(){s("i",arguments)},fetchBids(){s("f",arguments)},setDisplayBids(){},targetingKeys:()=>[],_Q:[]},(i=n.createElement(r)).async=!0,i.src="//c.amazon-adsystem.com/aax2/apstag.js",(a=n.getElementsByTagName(r)[0]).parentNode.insertBefore(i,a))}("apstag",window,document,"script")},Xe=()=>{window.dm=window.dm||{AjaxData:[]},window.dm.AjaxEvent=(e,t,n,r)=>{dm.AjaxData.push({et:e,d:t,ssid:n,ad:r}),window.DotMetricsObj&&DotMetricsObj.onAjaxDataUpdate()}},et=()=>{var e,t,n,r,o,i;e=window,t=document,n="script",e[r="launchpad"]||(e.GlobalSnowplowNamespace=e.GlobalSnowplowNamespace||[],e.GlobalSnowplowNamespace.push(r),e[r]=function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].q=e[r].q||[],o=t.createElement(n),i=t.getElementsByTagName(n)[0],o.async=1,o.src="https://lps.qantas.com/sp.js",i.parentNode.insertBefore(o,i))},tt=function(e,t,n,r,o){if(o)e=o(e,t,n);else{let e=[];try{const t=JSON.parse(localStorage._psegs||"[]").map(String),n=JSON.parse(localStorage._ppam||"[]"),r=JSON.parse(localStorage._pcrprs||"[]");e=[...t,...n,...r]}catch(e){}n&&t.ac&&t.ac.length>0&&(e=e.concat(t.ac)),e=e.map((function(e){return{id:e}})),pbjs.setBidderConfig({bidders:["pubmatic"],config:{ortb2:{user:{data:[{name:"permutive.com",segment:e}]}}}})}}},2710:(e,t,n)=>{n.d(t,{_k:()=>h,bc:()=>d,qZ:()=>g,vv:()=>p});var r=n(8232),o=n(7695);const i={mobile:r.A.mobile,tablet:r.A.tablet,desktop:r.A.desktop,wide:r.A.wide},a={mobileMedium:r.A.mobileMedium,mobileLandscape:r.A.mobileLandscape,phablet:r.A.phablet,leftCol:r.A.leftCol},s=["wide","leftCol","desktop","tablet","phablet","mobileLandscape","mobileMedium","mobile"];let c,l;const u=(e,t)=>s.find((n=>(e=>e in i)(n)?t>=i[n]:!!e&&t>=a[n]))??"mobile",d=()=>{return c??(e=(0,o.a)().width,u(!1,e));var e},p=()=>{return l??(e=(0,o.a)().width,u(!0,e));var e},f=({min:e,max:t})=>{const n=e?"number"==typeof e?e:r.A[e]:null,o=t?"number"==typeof t?t:r.A[t]-1:null;return[n?`(min-width: ${n}px)`:null,o?`(max-width: ${o}px)`:null].filter(Boolean).join(" and ")},m=e=>{l=e,c=u(!1,r.A[l])},g=({min:e,max:t})=>window.matchMedia(f({min:e,max:t})).matches,h=e=>{let t=e?p():d();return n=>{const r=e?p():d();r!==t&&(n(r,t),t=r)}};Object.entries(r.A).forEach((([e],t,n)=>{if(e in r.A){const r=n[t+1],o=window.matchMedia(f({min:e,max:r?r[1]:void 0})),i=t=>t.matches&&m(e);o.addEventListener("change",i),i(o)}}))},7695:(e,t,n)=>{n.d(t,{a:()=>r});const r=()=>({width:window.innerWidth||document.body.clientWidth||0,height:window.innerHeight||document.body.clientHeight||0})},2388:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(161),o=n.n(r),i=n(1263),a=n.n(i);const s=o().extend(a())},6509:(e,t,n)=>{n.d(t,{r:()=>r});const r=async(e,t={})=>{if("string"!=typeof e)throw new Error("First argument should be of type `string`");let n=e;(function(e){return!RegExp("^(https?:)?//").exec(e)})(n)&&(n=(window.guardian.config.page.ajaxUrl??"")+e,t.mode="cors");const r=await fetch(n,t);if(r.ok){if(204===r.status)return{};try{return r.json()}catch(e){throw new Error(`Fetch error while requesting ${n}: Invalid JSON response`)}}throw new Error(`Fetch error while requesting ${n}: ${r.statusText}`)}},9256:(e,t,n)=>{n.d(t,{AD:()=>d,LQ:()=>c,XJ:()=>g,bo:()=>u,eF:()=>m,kC:()=>p});var r=n(435),o=n(3898),i=n(1277),a=n(9969);const s="GU_AF1";var c;!function(e){e.ConsentOptOut="consent_opt_out",e.Subscriber="subscriber",e.ForceAdFree="force_ad_free"}(c||(c={}));const l="gu.ad_free_cookie_reason",u=()=>(0,r.e)({name:s}),d=()=>{const{switches:e}=window.guardian.config;return Boolean(e.adFreeStrictExpiryEnforcement)&&(0,a.I)(s)},p=()=>{const e=u();return!!e&&!Number.isNaN(parseInt(e,10))},f=()=>{const e=localStorage.getItem(l);if(e)return JSON.parse(e)},m=(e,t=1)=>{if(e!==c.ForceAdFree){const n=f()??{};n[e]=(0,a.R)(t),localStorage.setItem(l,JSON.stringify(n))}const n=new Date;n.setMonth(n.getMonth()+6),(0,o.d)({name:s,value:n.getTime().toString(),daysToLive:t})},g=e=>{const t=f();if(!t&&e===c.ConsentOptOut&&p())return;const n=t??{};delete n[e],localStorage.setItem(l,JSON.stringify(n));const r=Object.entries(c).every((([,e])=>{const t=n[e];if(t){const e=parseInt(t,10);return(new Date).getTime()>=e}return!0}));r&&(0,i.n)({name:s})}},6500:(e,t,n)=>{n.d(t,{K:()=>o});var r=n(5296);const o=new(n.n(r)())},6790:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(...e)=>{}},4672:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(6674),o=n.n(r);const i=(async()=>!window.guardian.config.isDotcomRendering&&new Promise((e=>{window.guardian.adBlockers.active?e(window.guardian.adBlockers.active):window.guardian.adBlockers.onDetect.push(e)})))(),{sentryPublicApiKey:a,sentryHost:s,edition:c,contentType:l,revisionNumber:u,isDev:d}=window.guardian.config.page,{enableSentryReporting:p}=window.guardian.config.switches,f=`https://${a}@${s}`;let m=!1;const g={whitelistUrls:[/localhost/,/assets\.guim\.co\.uk/,/ophan\.co\.uk/],tags:{edition:c,contentType:l,revisionNumber:u},ignoreErrors:["Can't execute code from a freed script",/There is no space left matching rules from/gi,"Top comments failed to load:","Comments failed to load:",/InvalidStateError/gi,/Fetch error:/gi,"Network request failed","This video is no longer available.","UnknownError","TypeError: Failed to fetch","TypeError: NetworkError when attempting to fetch resource","Fetch error while requesting https://api.nextgen.guardianapps.co.uk/weatherapi/city.json:"],dataCallback(e){const{culprit:t}=e,n=e,r=!!t&&/j.ophan.co.uk/.test(t);return t&&(n.culprit=t.replace(/\/[a-z\d]{32}(\/[^/]+)$/,"$1")),n.tags.origin=r?"ophan":"app",n},shouldSendCallback(e){const t=!!e.tags.ignored,n=Math.random()<.008;return d&&!t&&console.warn("Raven captured event.",e),!!p&&n&&!t&&!m}};i.then((e=>{m=e}));const h=o().config(f,g).install()},4845:(e,t,n)=>{n.d(t,{E:()=>o,e:()=>i});var r=n(4672);const o=e=>e instanceof Error?e:"string"==typeof e?new Error(e):new Error(String(e)),i=(e,t,n=!0,i=1)=>{const a=o(e);if(i>=Math.random()&&r.Z.captureException(a,{tags:t}),n)throw a.reported=!0,a}},162:(e,t,n)=>{n.d(t,{B:()=>o,y:()=>r});const r=(e,t)=>{const n=t-e;return Math.floor(n/864e5)},o=e=>(new Date).setHours(0,0,0,0)>new Date(e).getTime()},5206:(e,t,n)=>{n.d(t,{ES:()=>c,Bv:()=>a});var r=n(944);let o;const i=window,a=(void 0!==o||!!i.history?.pushState&&(o=!0,/Android/i.exec(window.navigator.userAgent)&&(o=!!/(Chrome|Firefox)/i.exec(window.navigator.userAgent))),(0,r.Z)((()=>new URLSearchParams(window.location.search).getAll("pbtest").reduce(((e,t)=>(e[t]=!0,e)),{})),(()=>window.location.search))),s=(0,r.Z)((e=>Array.from(new URLSearchParams(e).entries()).reduce(((e,[t,n])=>(e[t]=""===n||n,e)),{}))),c=e=>s(e??window.location.search)},6427:(e,t,n)=>{n.d(t,{F:()=>i});const r=n(5206).ES,{switches:o}=window.guardian.config,i={renderStartTime:-1,adSlotSelector:".js-ad-slot",hbImpl:{prebid:o.prebidHeaderBidding??!1,a9:o.a9HeaderBidding??!1},lazyLoadEnabled:!1,lazyLoadObserve:"IntersectionObserver"in window,creativeIDs:[],advertIds:{},advertsToLoad:[],advertsToRefresh:[],adverts:[],shouldLazyLoad:()=>!window.guardian.config.page.hasPageSkin&&"1"!==r().dll};window.guardian.commercial=window.guardian.commercial??{},window.guardian.commercial.dfpEnv=i},9013:(e,t,n)=>{n.d(t,{iM:()=>a,hq:()=>s,Yv:()=>i});var r=n(435);var o=n(2388);const i=e=>!(e.classList.contains("ad-slot--fluid")&&!e.classList.contains("ad-slot--interscroller"))&&!(e.classList.contains("ad-slot--frame")||e.classList.contains("ad-slot--gc")||e.classList.contains("u-h")||e.classList.contains("ad-slot--collapse")||"false"===e.getAttribute("data-label")),a=e=>o.Z.measure((()=>{if(i(e)){const t=(e=>!!(0,r.e)({name:"adtestInLabels",shouldMemoize:!0})&&!e.classList.contains("ad-slot--sky"))(e),n=e.parentNode?.firstElementChild?.firstElementChild instanceof HTMLAnchorElement,i=(0,r.e)({name:"adtest",shouldMemoize:!0}),a=`Advertisement${((e,t)=>{let n="";return e&&t&&(n+=` [?adtest=${t}] `),n})(t,i)}`;return o.Z.mutate((()=>{e.setAttribute("data-label-show","true"),e.setAttribute("ad-label-text",a),e.parentElement?.classList.contains("ad-slot-container")&&"dfp-ad--top-above-nav"===e.id&&e.parentElement.setAttribute("top-above-nav-ad-rendered","true"),(e=>e.classList.contains("ad-slot--mobile-sticky"))(e)&&e.insertBefore((()=>{const e=document.createElement("button");e.className="ad-slot__close-button",e.innerHTML='<svg width="18" height="18" viewBox="0 0 18 18"><path d="M7.5 9l-6.5-7 1-1 7 6.5 7-6.5 1 1-6.5 7 6.5 7-1 1-7-6.5-7 6.5-1-1 6.5-7z"/></svg>\n',e.onclick=()=>{const t=e.closest(".mobilesticky-container");t&&t.remove()};const t=document.createElement("div");return t.style.cssText="position: relative;padding: 0;text-align: left;box-sizing: border-box;display: block;width: 0;height: 0",t.appendChild(e),t})(),e.firstChild),t&&i&&!n&&e.parentNode?.insertBefore((()=>{const e=document.createElement("div");e.style.cssText="position: relative;padding: 0;text-align: left;box-sizing: border-box;display: block;width: 0;height: 0";const t=new URL(window.location.href);t.searchParams.set("adtest","clear");const n=document.createElement("a");return n.className="ad-slot__adtest-cookie-clear-link",n.href=t.href,n.innerHTML="clear",e.appendChild(n),e})(),e)}))}return Promise.resolve()})),s=e=>o.Z.mutate((()=>{const t=document.createElement("div");t.classList.add("ad-slot__scroll"),t.innerHTML="Scroll for More",t.setAttribute("role","button"),t.onclick=t=>{e.scrollIntoView({behavior:"smooth",block:"start"}),t.preventDefault()},e.appendChild(t)}))},3339:(e,t,n)=>{n.d(t,{S:()=>a});var r=n(1277),o=n(3898),i=n(5206);const a=()=>{const e=(0,i.ES)();return"clear"===e.adtest?(0,r.n)({name:"adtest"}):e.adtest&&(0,o.d)({name:"adtest",value:encodeURIComponent(e.adtest),daysToLive:10}),Promise.resolve()}},4409:(e,t,n)=>{n.d(t,{S:()=>a});var r=n(1277),o=n(3898),i=n(5206);const a=()=>{const e=(0,i.ES)();return"clear"===e.adtestInLabels?(0,r.n)({name:"adtestInLabels"}):e.adtestInLabels&&(0,o.d)({name:"adtestInLabels",value:"true"}),Promise.resolve()}},9681:(e,t,n)=>{n.d(t,{j:()=>a,M:()=>i});var r=n(8232),o=n(2388);const i=e=>{const t=e.reduce(((e,[t,n])=>`${e} .${t} { min-height: ${n}px; } .${t} > * { position: sticky; top: 0; }`),""),n=`\n        @media (min-width: ${r.A.desktop}px) {\n            ${t}\n        }\n    `,i=document.createElement("style");return i.appendChild(document.createTextNode(n)),o.Z.mutate((()=>{document.head.appendChild(i)}))},a=async(e,t)=>{const n=[...document.querySelectorAll('[data-spacefinder-role="immersive"]')],{figures:r,winningParas:i,articleBodyElementHeightBottom:a}=await o.Z.measure((()=>({figures:n.map((e=>({kind:"figure",top:e.getBoundingClientRect().top,element:e}))),winningParas:e.map((e=>({kind:"winningPara",top:e.getBoundingClientRect().top,element:e}))),articleBodyElementHeightBottom:document.querySelector(t)?.getBoundingClientRect().bottom??0})));return[...r,...i].sort(((e,t)=>e.top-t.top)).map(((e,t,n)=>{if("figure"===e.kind)return;const r=n[t+1];if(void 0===r)return a-e.top-100;const o="winningPara"===r.kind?600:100;return Math.floor(r.top-e.top-o)})).filter((e=>!(void 0===e)))}},4118:(e,t,n)=>{n.d(t,{e:()=>B});var r=n(582),o=n(944);var i=n(2388),a=n(5206);const s=!!(0,a.ES)().sfdebug,c="rgb(255 178 178)",l="rgb(200 0 0)",u="rgb(255 213 178)",d="rgb(255 128 0)",p={absoluteMinAbove:{colour:c,reason:"Too close to the top of page"},aboveAndBelow:{colour:u,reason:"Too close to top or bottom of article"},isStartAt:{colour:"rgb(178 178 255)",reason:"Spacefinder is starting from this position"},startAt:{colour:u,reason:"Before the starting element"},custom:{colour:"rgb(254 255 178)",reason:"Too close to other winner"},winner:{colour:"rgb(178 255 184)",reason:"Winner"},tooClose:{colour:"rgb(178 248 255)",reason:"Too close to other element"}},f=e=>e in p,m=(e,t)=>{const n=document.createElement("div");n.className="overlay",n.appendChild(document.createTextNode(t)),e.before(n)},g=(e,t,n)=>{t.forEach((t=>{e.addEventListener("mouseenter",(()=>!!(e=>{const t=document.querySelector('input[name="sfdebug-pass"]:checked')?.value;return t===e})(n)&&(document.body.contains(t.element)?(t.element.classList.add("blocking-element"),void m(t.element,`${t.actual}px/${t.required}px`)):(m(e,"Blocking element(s) removed from DOM: see console for details"),void(0,r.c)("commercial","Spacefinder: blocking element removed from DOM.\nCandidate:",e,"\nBlocking element:",t.element))))),e.addEventListener("mouseleave",(()=>{t.element.classList.remove("blocking-element"),document.querySelectorAll(".overlay").forEach((e=>e.remove()))}))}))},h=(e,t,n,r)=>{try{((e,t,n)=>{for(const[r,o]of Object.entries(e))o.forEach((e=>{const o=e instanceof Element?e:e.element,i=e instanceof Element?null:e.meta,a=f(r)&&p[r];o==t.startAt?o.setAttribute(`data-sfdebug-${n}`,"isStartAt"):a?o.setAttribute(`data-sfdebug-${n}`,r):i&&i.tooClose.length>0&&(o.setAttribute(`data-sfdebug-${n}`,"tooClose"),g(o,i.tooClose,n)),o.classList.add("candidate")}))})(e,n,r),((e,t)=>{e.forEach((e=>{e.element.setAttribute(`data-sfdebug-${t}`,"winner"),e.element.classList.add("candidate")}))})(t,r),((e,t)=>{const n=document.querySelector(e.bodySelector);n.id="sfdebug-body",n.setAttribute(`data-sfdebug-min-above-${t}`,`${e.minAbove}px`)})(n,r)}catch(e){console.error("SFDebug Error",e)}},v=e=>{(e=>{const t=document.getElementById("sfdebug-body");if(!t)return;const n=t.getAttribute(`data-sfdebug-min-above-${e}`);if(!n)return;let r=document.querySelector(".line");r||(r=document.createElement("div"),r.className="line",t.appendChild(r)),r.innerHTML=`<div class='label'>Ads below here (${n})</div>`,r.style.top=n})(e),(e=>{document.querySelectorAll(".candidate").forEach((t=>{if(!(t instanceof HTMLElement))return;const n=t.getAttribute(`data-sfdebug-${e}`)??"";if(f(n)){const e=p[n];t.dataset.reason=e.reason,t.style.backgroundColor=e.colour}}))})(e)},b=(e={},t,n,r)=>{s&&((()=>{if(document.querySelector("#sfdebug-panel"))return;const e=document.createElement("div");e.id="sfdebug-panel",e.innerHTML='\n\t\t<div class="logo">\n\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="3042.7" height="954.7" version="1.0" viewBox="0 0 2282 716"><path d="M400 44a374 374 0 0 0-208 64c-20 15-43 38-59 57-21 25-53 89-62 124-8 33-9 96-2 132 4 21 12 42 28 70a2161 2161 0 0 1 25 45c8 10 50 53 65 66 21 18 45 31 90 48 26 9 47 14 81 16l149 4h46v-3c2-8 3-81 3-176l-3-420V45h-4c-6-1-120-2-149-1zm90 94c16 3 27 10 40 23 12 13 17 23 19 39 0 9-1 23-5 33-6 19-25 53-41 72-18 21-51 54-67 67a964 964 0 0 1-98 61c-20 10-27 14-35 15l-17 6a249 249 0 0 1-137 9c-21-7-32-17-37-32-4-14-3-25 3-36 3-7 23-27 36-37 16-13 23-21 27-29 6-12 8-10 8 6 0 10-2 22-6 32-6 14-14 24-28 33-10 6-11 8-8 12 3 3 15 11 21 13 5 2 7 3 38 3 30 0 33-1 44-3 29-6 75-25 114-48 20-12 53-35 64-44 20-17 51-51 65-72 6-9 15-26 17-34 3-11 3-26 0-33s-10-14-16-17c-5-2-7-2-63-3-42-1-57-2-58-3s-1-2 2-4c11-10 37-23 55-28 17-4 45-5 63-1zm-96 321c24 6 36 18 42 39a58 58 0 0 1-52 70c-15 1-28-4-42-15a48 48 0 0 1-20-43c0-19 3-27 14-38 14-13 36-18 58-13zM1835 62l-55 2c-19 4-37 15-47 29-6 8-11 19-13 27-3 15-6 79-4 111 2 46 6 58 23 75 8 8 12 11 26 18l10 6h76l77 1v-56h-13l-69-1-57-1-4-4c-7-8-8-11-9-23v-11h38l59-1h21v-57h-20l-59-1h-39v-21c0-23 1-26 7-29l9-3 104-4h30v-16l-1-28V61h-20l-70 1zM668 63c-16 1-24 3-33 9-25 14-36 48-36 111 0 27 0 32 6 41l7 8c5 2 25 3 76 3 48 0 73 1 77 3 8 5 10 21 3 29-6 6-27 8-115 8h-64v56h65l95-1c36-1 35-1 49-13 13-12 20-22 24-39 2-7 3-11 2-26a79 79 0 0 0-21-60c-16-15-16-15-91-15h-58v-41l7-10 5-6h171V62h-78l-92 1zM907 84c-12 26-14 33-13 34s35 2 105 2h75v59H872v152h53v-86h84l91-2c17-4 23-12 27-31l2-77V63h-27l-106-1h-79l-10 22zM1176 197v134h53v-98c1-101 1-105 5-105 2 0 15 13 26 27a6210 6210 0 0 1 129 172l3 4h53V83h-58l1 75-1 75a640 640 0 0 1-79-106 113 113 0 0 0-13-18c0-2-7-12-21-29l-16-18h-82v135zM1557 63c-12 1-18 3-29 8-27 14-44 46-49 94-2 15-1 63 1 79 5 32 13 48 32 67 19 18 23 18 111 20h51v-56h-26l-45-1c-27 0-44-1-49-4-6-3-13-11-17-18-2-6-5-20-7-36s-1-47 2-57c4-22 13-34 28-37l60-2h55l-1-11-1-28V63h-116zM1973 197v134h53v-86l24 1 37 1h13l6 12c7 15 19 34 35 56l11 16h27l34-1h8l-2-3c-2-6-11-18-25-37l-24-32-10-14 13-1 18-2c12-3 20-9 29-21l5-7V63h-32l-126-1h-94v135zm199-76v29l1 29h-144v-59l71 1h72zM970 384c-30 2-44 7-57 20-11 11-23 33-27 49-5 17-5 23-5 113v83l26 1 26 1v-99h25a2704 2704 0 0 1 122-2h21l-1-29v-29l-82-1h-82v-7l2-12c3-11 14-24 22-27 5-3 26-4 60-4l54-1h30v-56h-24a7849 7849 0 0 1-110 0zM2002 384h-42v266h55V549h16l19 1c7 2 12 8 45 63l22 37h31l33-1c3-1 2-2-3-10l-15-23a653 653 0 0 0-40-63l25-1c28-1 36-2 45-8 9-5 17-17 20-29 1-6 2-82 1-111v-21h-85l-127 1zm160 83v27h-147v-23l2-26c0-3 0-3 7-3l111-2h27v27zM638 385c-2 6-3 45-4 148v115h56v-7l2-89 69-2h68v-59H693v-11l-1-22v-11l4-1c5-1 42-3 99-4h46v-8l1-29v-21H741l-102 1zM1206 388a2372 2372 0 0 0-34 74c-11 23-22 46-28 63l-30 66-25 55c0 2 2 2 30 4l24 2h5l10-23 10-24h151l11 23 11 23h22l29-1c8 0 8 0 8-3l-19-42-31-68a3604 3604 0 0 0-70-151l-49-2h-24l-1 4zm45 68a2087 2087 0 0 1 43 92c-1 2-99 1-101 0a1108 1108 0 0 0 42-92c6-11 8-13 9-12l7 12zM1420 450l2 200 121 3c66 0 72 0 85-4 8-4 18-11 24-19l11-20 7-13v-65c0-74-1-89-5-101-8-28-23-43-45-45l-104-2h-96v66zm192-4c2 8 3 24 3 74 0 48-1 72-3 74s-18 3-77 4h-61V443h137l1 3zM1734 385l-18 1c-1 2-2 45-2 115 0 92 1 119 7 130 3 6 10 13 19 17 5 3 8 3 18 4l87 1 75 1v-56l-74-1h-73v-47h15a1833 1833 0 0 1 111-2h11v-56h-68l-69 1v-53h144v-56h-83l-100 1z"/></svg>\n\t\t\t<div class="label">debug mode</div>\n\t\t</div>\n\t\t<div class="controls"></div>\n\t',document.body.appendChild(e);const t=document.createElement("style");t.innerHTML=`\n\t\t#sfdebug-panel {\n\t\t\tfont-family: sans-serif;\n\t\t\tposition: fixed;\n\t\t\tbottom: 0;\n\t\t\tright: 0;\n\t\t\tbackground-color: #ffffff;\n\t\t\tpadding: 10px;\n\t\t\tborder-radius: 10px 0 0 0;\n\t\t\tz-index: 9999999;\n\t\t\tpadding: 5px;\n\t\t\tborder-top: solid gray 2px;\n\t\t\tborder-left: solid gray 2px;\n\t\t\tbackground: #f1f1f1;\n\t\t\topacity: 0.9;\n\t\t}\n\n\t\t#sfdebug-panel .logo {\n\t\t\theight: 90px;\n\t\t\twidth: 245px;\n\t\t}\n\n\t\t#sfdebug-panel .logo svg {\n\t\t\theight: 65px;\n\t\t\twidth: 100%;\n\t\t\tpadding: 5px;\n\t\t\tdisplay: block;\n\t\t}\n\n\t\t#sfdebug-panel .logo .label {\n\t\t\tfont-size: 17px;\n\t\t\tfont-family: cursive;\n\t\t\tcolor: #c80000;\n\t\t\tposition: relative;\n\t\t\ttop: -5px;\n\t\t\tright: -134px;\n\t\t\tfont-style: italic;\n\t\t}\n\n\t\t#sfdebug-panel .controls {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: center;\n\t\t\tpadding: 0px 10px 5px 10px;\n\t\t}\n\n\t\t#sfdebug-panel .controls label {\n\t\t\tcursor: pointer;\n\t\t\tbackground-color: #454545;\n\t\t\tcolor: white;\n\t\t\tpadding: 10px;\n\t\t\tborder-radius: 3px;\n\t\t\tuser-select: none;\n\t\t\tmargin: 0 5px;\n\t\t\ttransition: all .2s ease-out;\n\t\t}\n\n\t\t#sfdebug-panel .controls input:checked + label {\n\t\t\tbackground-color: rgb(0 128 0);\n\t\t}\n\n\t\t#sfdebug-panel .controls input {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t#sfdebug-body {\n\t\t\tposition: relative;\n\t\t}\n\n\t\t#sfdebug-body .overlay {\n\t\t\tposition:absolute;\n\t\t\tright:0;\n\t\t\tbackground-color:${c};\n\t\t\tpadding:5px 5px 10px 20px;\n\t\t\tfont-family: sans-serif;\n\t\t\tz-index:20;\n\t\t}\n\n\t\t#sfdebug-body .blocking-element {\n\t\t\tbox-shadow: 0px 0px 0px 10px ${c};\n\t\t\tz-index:10;\n\t\t\tposition:relative;\n\t\t\tdisplay:block;\n\t\t}\n\n\t\t#sfdebug-body .line {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\tbackground-color: ${d};\n\t\t\theight: 3px;\n\t\t\ttransition: all .2s ease-out;\n\t\t}\n\n\t\t#sfdebug-body .line .label {\n\t\t\tposition: absolute;\n\t\t\ttop: -27px;\n\t\t\tleft: 230px;\n\t\t\tfont-family: sans-serif;\n\t\t\tfont-size: 14px;\n\t\t\tbackground-color: white;\n\t\t\tpadding: 5px 10px 5px 10px;\n\t\t\tborder: 3px solid ${d};\n\t\t\tborder-radius: 5px 5px 0px 0px;\n\t\t}\n\n\t\t#sfdebug-body .candidate {\n\t\t\ttransition: all .2s ease-out;\n\t\t}\n\n\t\t#sfdebug-body .candidate::before {\n\t\t\tcontent: attr(data-reason);\n\t\t\tposition:absolute;\n\t\t\tright:0;\n\t\t\tbackground-color:#fffffff7;\n\t\t\tpadding:10px;\n\t\t\tborder-radius:0 0 0 10px;\n\t\t\tfont-family: sans-serif;\n\t\t\tfont-size: 17px;\n\t\t\tline-height: 1;\n\t\t}\n\n\t\t/* tiny fix for liveblogs */\n\t\t.js-liveblog-body .candidate::before {\n\t\t\tmargin-top: -8px;\n\t\t}\n\n\t\t#sfdebug-body .ad-slot-container {\n\t\t\toutline: 4px solid ${l}\n\t\t}\n\t\t`,document.body.appendChild(t)})(),h(e,t,n,r),(e=>{const t=document.querySelector("#sfdebug-panel .controls");if(!t)return;const n=document.createElement("input");n.type="radio",n.id=`sfdebug-${e}`,n.name="sfdebug-pass",n.value=e;const r=document.createElement("label");r.htmlFor=`sfdebug-${e}`,r.innerText=e,n.addEventListener("change",(e=>{const t=e.target.value;v(t)})),t.appendChild(n),t.appendChild(r)})(r))};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=(e,t)=>[...(t??document).querySelectorAll(e)],E={waitForImages:!0,waitForInteractives:!1,pass:"inline1"},O=e=>e instanceof HTMLIFrameElement,P=e=>{try{return"complete"===e.contentWindow?.document.readyState}catch(e){return((e,t,n)=>{if(!window.guardian.config.switches.sentinelLogger)return;const r=window.guardian.config.page.isDev?"//logs.code.dev-guardianapis.com/log":"//logs.guardianapis.com/log",o=[{name:"module_name",value:e},{name:"function_name",value:t},{name:"URL",value:window.location.href}],i={label:"commercial.amiused",properties:n?[...o,...Object.entries(n).map((([e,t])=>({name:e,value:String(t)})))]:o};window.navigator.sendBeacon(r,JSON.stringify(i))})("spacefinder.ts","isIframeLoaded"),!0}},k=e=>e.bodySelector||"document",C=e=>e instanceof HTMLImageElement,A=(0,o.Z)((e=>{const t=S("img",e.body).filter(C).filter((e=>!e.complete&&"lazy"!==e.loading)).map((e=>new Promise((t=>{e.addEventListener("load",t)}))));return Promise.all(t).then((()=>Promise.resolve()))}),k),j=(0,o.Z)((async e=>{const t=S(".element-interactive",e.body).filter((e=>{const t=Array.from(e.children).filter(O);return!(t.length&&P(t[0]))}));if(0===t.length||!("MutationObserver"in window))return Promise.resolve();const n=t.map((e=>new Promise((t=>{new MutationObserver(((e,n)=>{if(!e.length||!e[0].addedNodes.length||!O(e[0].addedNodes[0]))return;((e,t)=>{window.addEventListener("message",(n=>{if(n.source===e.contentWindow)try{const e=JSON.parse(n.data);"set-height"===e.type&&e.value>0&&t()}catch(e){(0,r.c)("commercial","Unparsable message sent from iframe",e)}}))})(e[0].addedNodes[0],(()=>{n.disconnect(),t()}))})).observe(e,{childList:!0})}))));await Promise.all(n)}),k),x=(e,t)=>{const n=[],r=[];return e.forEach((e=>{t(e,n[n.length-1])?n.push(e):r.push(e)})),[n,r]},T=(e,t,n)=>{const r=t.top-n.bottom>=e.minAbove,o=n.top-t.top>=e.minBelow,i=r||o;if(!i){const r=t.top<n.top,o=r?e.minBelow:e.minAbove,i=r?n.top-t.top:t.top-n.bottom;t.meta?.tooClose.push({required:o,actual:i,element:n.element})}return i},N=(e,t,n)=>n.map((n=>T(e,t,n))).every(Boolean);class D extends Error{constructor(e){super(),this.name="SpaceError",this.message=`There is no space left matching rules from ${e.bodySelector}`}}const I=e=>Object.freeze({top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight,element:e,meta:{tooClose:[]}}),M=async(e,t,n={})=>{t=y(y({},E),t),e.body=e.bodySelector&&document.querySelector(e.bodySelector)||document,await((e,t)=>Promise.race([new Promise((e=>window.setTimeout((()=>e("timeout")),5e3))),Promise.all([t.waitForImages?A(e):Promise.resolve(),t.waitForInteractives?j(e):Promise.resolve()])]).then((e=>{"timeout"===e&&(0,r.c)("commercial","Spacefinder timeout hit")})))(e,t);const o=((e,t)=>{let n=S(e.bodySelector+e.slotSelector);if(e.fromBottom&&n.reverse(),e.startAt){let r=!0;const[o,i]=x(n,(t=>(t===e.startAt&&(r=!1),!r)));t.startAt=i,n=o}if(e.stopAt){let r=!0;const[o,i]=x(n,(t=>(t===e.stopAt&&(r=!1),r)));t.stopAt=i,n=o}return n})(e,n),a=await((e,t)=>{const n=e.clearContentMeta?document.querySelector(".js-content-meta")??void 0:void 0,r=e.selectors?Object.keys(e.selectors).map((t=>[t,S(e.bodySelector+t)])):[];return i.Z.measure((()=>{let o=0,i=0;if(e.body instanceof Element){const t=e.body.getBoundingClientRect();o=t.top+window.scrollY,i=t.height}return{bodyTop:o,bodyHeight:i,candidates:t.map(I),contentMeta:e.clearContentMeta&&n?I(n):void 0,opponents:r.reduce(((e,[t,n])=>(e[t]=n.map(I),e)),{})}}))})(e,o),s=((e,t,n)=>{let r=e.candidates,[o,i]=x(r,(n=>!t.absoluteMinAbove||n.top+e.bodyTop>=t.absoluteMinAbove));n.absoluteMinAbove=i,r=o,[o,i]=x(r,(n=>{const r=n.top>=t.minAbove,o=n.top+t.minBelow<=e.bodyHeight;return r&&o})),n.aboveAndBelow=i,r=o;const{clearContentMeta:a}=t;if(a&&([o,i]=x(r,(t=>!!e.contentMeta&&t.top>e.contentMeta.bottom+a)),n.contentMeta=i,r=o),t.selectors){const a=[];for(const[s,c]of Object.entries(t.selectors))[o,i]=x(r,(t=>N(c,t,e.opponents?e.opponents[s]:[]))),n[s]=i,a.push(...i);r=r.filter((e=>!a.includes(e)))}return t.filter&&([o,i]=x(r,t.filter),n.custom=i,r=o),r})(a,e,n);if(b(n,s,e,t.pass),!s.length)throw new D(e);return s.map((e=>e.element))};var L=n(4672);const B=new class{queue=Promise.resolve(!0);fillSpace(e,t,n){return this.queue=this.queue.then((()=>M(e,n).then((e=>t(e))).then((()=>!0)).catch((e=>{if(e instanceof D)return!1;throw e})))).catch((e=>(L.Z.captureException(e),!1))),this.queue}}},8036:(e,t,n)=>{n.d(t,{d:()=>h});var r=n(582),o=n(2710),i=n(8394);const a="gu.prefs.",s={type:"local"},c=(e,t,{type:n}=s)=>{i.t[n].set(a+e,t)},l=(e,{type:t}=s)=>{i.t[t].set(`${a}switch.${e}`,!0)},u=(e,{type:t}=s)=>{i.t[t].set(`${a}switch.${e}`,!1)},d=e=>"true"===e||"false"===e,p=e=>{const t=e.hash.substring(1).split("&");let n,r;for(n=0,r=t.length;n<r;n+=1){const e=/^gu\.prefs\.(.*)=(.*)$/.exec(t[n]);if(e){const t=e[1],n=e[2];let r;switch(t){case"switchOn":l(n);break;case"switchOff":u(n);break;default:o=n,r=Number.isNaN(Number(o))?d(n)?"true"===String(n).toLowerCase():n:+n,c(t,r)}}}var o};p(window.location);const f=(e,{type:t}=s)=>!1===i.t[t].get(`${a}switch.${e}`);var m=n(5598);function g(e,t){const n=(e,t)=>(0,r.c)("commercial",`Adverts are not shown because ${e} = ${String(t)}`);for(const[t,r]of Object.entries(e))r||n(t,r);for(const[e,r]of Object.entries(t))r&&n(e,r)}const h=new class{dfpAdvertising;isSecureContact;articleBodyAdverts;carrotTrafficDriver;highMerch;thirdPartyTags;commentAdverts;liveblogAdverts;adFree;comscore;launchpad;youtubeAdvertising;constructor(){const e=/[#&]noads(&.*)?$/.test(window.location.hash),t=/[#&]noadsaf(&.*)?$/.test(window.location.hash),n=/[?&]forceads(&.*)?$/.test(window.location.search),r=!e&&!f("adverts"),i=window.guardian.config.page.shouldHideAdverts||"childrens-books-site"===window.guardian.config.page.section,a=window.guardian.config.page.isMinuteArticle,s="Article"===window.guardian.config.page.contentType,c="Interactive"===window.guardian.config.page.contentType,l=window.guardian.config.page.isLiveBlog,u=window.guardian.config.page.isHosted,d="Identity"===window.guardian.config.page.contentType||"identity"===window.guardian.config.page.section,p=window.guardian.config.switches,h="wide"===(0,o.bc)(),v=window.guardian.config.page.showNewRecipeDesign,b=!!navigator.userAgent.match(/MSIE|Trident/g)?.length;this.isSecureContact=["help/ng-interactive/2017/mar/17/contact-the-guardian-securely","help/2016/sep/19/how-to-contact-the-guardian-securely"].includes(window.guardian.config.page.pageId),this.adFree=!!t||(0,m.isAdFreeUser)(),this.youtubeAdvertising=!this.adFree&&!i;const w={"switches.commercial":!!p.commercial,externalAdvertising:r},y={sensitiveContent:i,isIdentityPage:d,adFree:this.adFree,isUnsupportedBrowser:b};this.dfpAdvertising=n||Object.values(w).every(Boolean)&&!Object.values(y).some(Boolean),this.dfpAdvertising||g(w,y);const _={isArticle:s},S={isMinuteArticle:a,isLiveBlog:!!l,isHosted:u,newRecipeDesign:!!v};this.articleBodyAdverts=this.dfpAdvertising&&!this.adFree&&Object.values(_).every(Boolean)&&!Object.values(S).some(Boolean),s&&!this.articleBodyAdverts&&g(_,S),this.carrotTrafficDriver=!this.adFree&&this.articleBodyAdverts&&!!window.guardian.config.switches.carrotTrafficDriver&&!window.guardian.config.page.isPaidContent,this.highMerch=this.dfpAdvertising&&!this.adFree&&!a&&!u&&!c&&!window.guardian.config.page.isFront&&!window.guardian.config.isDotcomRendering&&!v,this.thirdPartyTags=!this.adFree&&r&&!d&&!this.isSecureContact,this.launchpad=!this.adFree&&r&&!d&&!this.isSecureContact&&!!window.guardian.config.switches.redplanetForAus,this.commentAdverts=this.dfpAdvertising&&!this.adFree&&!a&&!!window.guardian.config.switches.enableDiscussionSwitch&&window.guardian.config.page.commentable&&(!l||h),this.liveblogAdverts=!!l&&this.dfpAdvertising&&!this.adFree,this.comscore=!!window.guardian.config.switches.comscore&&!d&&!this.isSecureContact}}},9969:(e,t,n)=>{n.d(t,{I:()=>i,R:()=>o});var r=n(435);const o=e=>{const t=new Date;return t.setDate(t.getDate()+e),t.getTime().toString()},i=e=>{const t=(0,r.e)({name:e});if(!t)return!0;const n=parseInt(t,10);return(new Date).getTime()>=n}},5598:(e,t,n)=>{n.r(t),n.d(t,{ARTICLES_VIEWED_OPT_OUT_COOKIE:()=>P,AdFreeCookieReasons:()=>s.LQ,CONTRIBUTIONS_REMINDER_SIGNED_UP:()=>k,accountDataUpdateWarning:()=>A,canShowContributionsReminderFeature:()=>K,deleteOldData:()=>x,extendContribsCookieExpiry:()=>J,fakeOneOffContributor:()=>V,getDaysSinceLastOneOffContribution:()=>R,getLastOneOffContributionDate:()=>B,getLastOneOffContributionTimestamp:()=>L,getLastRecurringContributionDate:()=>F,getPurchaseInfo:()=>Y,isAdFreeUser:()=>W,isDigitalSubscriber:()=>U,isPayingMember:()=>M,isPostAskPauseOneOffContributor:()=>Z,isRecentOneOffContributor:()=>$,isRecurringContributor:()=>H,readerRevenueRelevantCookies:()=>G,refresh:()=>I,shouldHideSupportMessaging:()=>q,shouldNotBeShownSupportMessaging:()=>z});var r=n(435),o=n(8020),i=n(3898),a=n(1277),s=n(9256),c=n(6790),l=n(6509),u=n(162);const d={1:"01",2:"02",3:"03",4:"04",5:"05",6:"06",7:"07",8:"08",9:"09",10:"10",11:"11",12:"12",13:"13",14:"14",15:"15",16:"16",17:"17",18:"18",19:"19",20:"20",21:"21",22:"22",23:"23",24:"24",25:"25",26:"26",27:"27",28:"28",29:"29",30:"30",31:"31"},p={1:"01",2:"02",3:"03",4:"04",5:"05",6:"06",7:"07",8:"08",9:"09",10:"10",11:"11",12:"12"};var f=n(7283),m=n(9969);const g="gu_user_features_expiry",h="gu_paying_member",v="gu_action_required_for",b="gu_digital_subscriber",w="gu_hide_support_messaging",y="gu_recurring_contributor",_="gu_one_off_contribution_date",S="gu.contributions.recurring.contrib-timestamp.Monthly",E="gu.contributions.recurring.contrib-timestamp.Annual",O="gu.contributions.contrib-timestamp",P={name:"gu_article_count_opt_out",daysToLive:90},k={name:"gu_contributions_reminder_signed_up",daysToLive:90},C=!!/[#&]noadsaf(&.*)?$/.exec(window.location.hash),A=()=>(0,r.e)({name:v}),j=e=>{(0,i.d)({name:g,value:(0,m.R)(1)}),(0,i.d)({name:h,value:String(e.contentAccess.paidMember)}),(0,i.d)({name:y,value:String(e.contentAccess.recurringContributor)}),(0,i.d)({name:b,value:String(e.contentAccess.digitalPack)}),(0,i.d)({name:w,value:String(!e.showSupportMessaging)}),e.oneOffContributionDate&&(0,i.d)({name:_,value:e.oneOffContributionDate}),(0,a.n)({name:v}),e.alertAvailableFor&&(0,i.d)({name:v,value:e.alertAvailableFor}),e.contentAccess.digitalPack?(0,s.eF)(s.LQ.Subscriber,2):(0,s.kC)()&&!C&&(0,s.XJ)(s.LQ.Subscriber)},x=()=>{(0,s.XJ)(s.LQ.Subscriber),(0,a.n)({name:g}),(0,a.n)({name:h}),(0,a.n)({name:y}),(0,a.n)({name:v}),(0,a.n)({name:b}),(0,a.n)({name:w}),(0,a.n)({name:_})},T=()=>(0,l.r)(`${window.guardian.config.page.userAttributesApiUrl??"/USER_ATTRIBUTE_API_NOT_FOUND"}/me`,{mode:"cors",credentials:"include"}).then((e=>{if(!(e=>!!(0,o.K)(e)&&("boolean"==typeof e.showSupportMessaging&&(0,o.K)(e.contentAccess)&&"boolean"==typeof e.contentAccess.paidMember&&"boolean"==typeof e.contentAccess.recurringContributor&&e.contentAccess.digitalPack,!0))(e))throw new Error("invalid response");return e})).then(j).catch(c.Z),N=()=>(0,m.I)(g)||(0,s.kC)()&&(0,s.AD)()||U()&&!(0,s.kC)(),D=()=>!(0,f.Pc)()&&!!((0,s.bo)()??(0,r.e)({name:v})??(0,r.e)({name:g})??(0,r.e)({name:h})??(0,r.e)({name:y})??(0,r.e)({name:_})??(0,r.e)({name:b})??(0,r.e)({name:w})),I=()=>(0,f.Pc)()&&N()?T():(D()&&!C&&x(),Promise.resolve()),M=()=>(0,f.Pc)()&&"false"!==(0,r.e)({name:h}),L=()=>(()=>{const e=(0,r.e)({name:O});if(e){const t=parseInt(e,10);if(Number.isInteger(t))return t}return null})()??(()=>{const e=(0,r.e)({name:_});if(e){const t=Date.parse(e);if(Number.isInteger(t))return t}return null})(),B=()=>{const e=L();if(null===e)return null;const t=new Date(e);return((e,t,n)=>`${e}-${p[t]}-${d[n]}`)(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate())},F=()=>{const e=(0,r.e)({name:S}),t=(0,r.e)({name:E}),n=e?parseInt(e,10):null,o=t?parseInt(t,10):null,i=n&&Number.isInteger(n)?n:null,a=o&&Number.isInteger(o)?o:null;return i||a?i&&a?Math.max(i,a):i??a??null:null},R=()=>{const e=L();return null===e?null:(0,u.y)(e,Date.now())},$=(e=90)=>{const t=R();return null!==t&&t<=e},Z=(e=90)=>{const t=R();return null!==t&&t>e},H=()=>(0,f.Pc)()&&"false"!==(0,r.e)({name:y})||null!=(0,r.e)({name:S})||null!=(0,r.e)({name:E}),U=()=>"true"===(0,r.e)({name:b}),z=()=>"true"===(0,r.e)({name:w}),q=()=>z()||$()||H(),G=[h,b,y,S,E,O,w],V=()=>{(0,i.d)({name:O,value:Date.now().toString()})},W=()=>U()||(0,s.kC)()&&!(0,s.AD)(),J=()=>{const e=(0,r.e)({name:O});if(e){const t=parseInt(e,10);if(Number.isInteger(t)){const e=365-(0,u.y)(t,Date.now());(0,i.d)({name:O,value:t.toString(),daysToLive:e})}}},K=()=>{const e=!!(0,r.e)({name:k.name}),{switches:t}=window.guardian.config;return Boolean(t.showContributionReminder)&&!e},Y=()=>{const e=(0,r.e)({name:"GU_CO_COMPLETE"});if(!e)return;let t;try{t=JSON.parse(decodeURIComponent(e))}catch{}return t}},2233:(e,t,n)=>{n.d(t,{In:()=>B,HN:()=>L,Ye:()=>F});var r=n(944);const o={url:window.location.href};var i=n(162),a=(n(3898),n(435));const s="GU_mvt_id",c=1,l=1e6,u=()=>{const e=parseInt((0,a.e)({name:s,shouldMemoize:!0})??"NaN",10);return Number.isNaN(e)?null:Math.max(Math.min(e,l),c)},d=()=>l,p="notintest",f={id:p,test:()=>{}};var m=n(8394);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=(e,t)=>{const n=t[e.id];return n?n.variant===p?f:e.variants.find((e=>e.id===n.variant)):null},w=e=>b(e,m.t.local.get("gu.ab.participations")??{});function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=e=>b(e,(()=>{if(window.location.hash.startsWith("#ab"))return window.location.hash.replace("#ab-","").split(",").reduce(((e,t)=>{const[n,r]=t.split("=");return _(_({},e),{},{[n]:{variant:r}})}),{});return{}})());function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C=e=>{const t=(0,i.B)(e.expiry),n=window.guardian.config.page.isSensitive,r=!!e.showForSensitive,a=(s=e.id,!!window.guardian.config.switches[`ab${s}`]);var s;const c=e.canRun();var l;return l={key:e.id,value:{test:e,expired:t,isSensitive:n,shouldShowForSensitive:r,isTestOn:a,canTestBeRun:c}},o[l.key]=l.value,(!n||r)&&a&&!t&&c},A=e=>{const t=E(e),n=w(e),r=(e=>{const t=d()*e.audienceOffset,n=t+d()*e.audience,r=u();return r&&r>t&&r<=n?e.variants[r%e.variants.length]:null})(e),o=t??n??r??null,i=t&&window.location.hash.includes("ignoreCanRun=true");return o&&i||C(e)&&o&&((!(a=o).canRun||a.canRun())&&a.id!==p)?P(P({},e),{},{variantToRun:o}):null;var a};n(6286),n(4845);var j=n(7067),x=n(6301);var T=n(8019),N=n(7232),D=n(6790);const I={id:"IntegrateIma",start:"2022-07-14",expiry:"2023-04-04",author:"Zeke Hunter-Green",description:"Test the commercial impact of replacing YouTube ads with Interactive Media Ads on first-party videos",audience:0,audienceOffset:0,audienceCriteria:"Opt in",successMeasure:"IMA integration works as expected without adversely affecting pages with videos",canRun:()=>!0,variants:[{id:"control",test:()=>D.Z},{id:"variant",test:()=>D.Z}]},M=[{id:"SignInGateMainVariant",start:"2020-05-20",expiry:"2025-12-01",author:"Mahesh Makani",description:"Show sign in gate to 100% of users on 3rd article view of simple article templates, with higher priority over banners and epic. Main/Variant Audience.",audience:.8,audienceOffset:.1,successMeasure:"Users sign in or create a Guardian account",audienceCriteria:"3rd article of the day, lower priority than consent banner, simple articles (not gallery, live etc.), not signed in, not shown after dismiss, not on help, info sections etc. Exclude iOS 9 and guardian-live-australia. Suppresses other banners, and appears over epics",ophanComponentId:"main_variant_4",dataLinkNames:"SignInGateMain",idealOutcome:"Increase the number of users signed in whilst running at a reasonable scale",showForSensitive:!1,canRun:()=>!0,variants:[{id:"main-variant-4",test:()=>{}}]},{id:"SignInGateMainControl",start:"2020-05-20",expiry:"2025-12-01",author:"Mahesh Makani",description:"Show sign in gate to 100% of users on 3rd article view of simple article templates, with higher priority over banners and epic. Control Audience.",audience:.1,audienceOffset:.9,successMeasure:"N/A - User does not see gate, only to compare to variant.",audienceCriteria:"3rd article of the day, lower priority than consent banner, simple articles (not gallery, live etc.), not signed in, not shown after dismiss, not on help, info sections etc. Exclude iOS 9 and guardian-live-australia. Suppresses other banners, and appears over epics",ophanComponentId:"main_control_4",dataLinkNames:"SignInGateMain",idealOutcome:"Increase the number of users signed in whilst running at a reasonable scale",showForSensitive:!1,canRun:()=>!0,variants:[{id:"main-control-4",test:()=>{}}]},{id:"SignInGateCopyTestJan2023",start:"2023-01-23",expiry:"2023-05-01",author:"Lindsey Dew",description:"Test varying the copy in the call to action for sign in gate",audience:.1,audienceOffset:0,successMeasure:"Users sign in or create a Guardian account",audienceCriteria:"3rd article of the day, lower priority than consent banner, simple articles (not gallery, live etc.), not signed in, not shown after dismiss, not on help, info sections etc. Exclude iOS 9 and guardian-live-australia. Suppresses other banners, and appears over epics",dataLinkNames:"SignInGateCopyTest",idealOutcome:"One variants performs at least 2% better than the control and/OR 10% better than the other variant. Neither variant performs 5% worse than the control",showForSensitive:!1,canRun:()=>!0,variants:[{id:"quick-and-easy",test:()=>{}},{id:"take-a-moment",test:()=>{}},{id:"sign-in-copy-control",test:()=>{}}]},{id:"RemoteRrHeaderLinksTest",start:"2021-04-15",expiry:"2021-12-01",author:"Tom Forbes",description:"Use the dotcom-components service for serving the Reader Revenue header links",audience:1,audienceOffset:0,successMeasure:"AV is not worse",audienceCriteria:"all pageviews",dataLinkNames:"RRHeaderLinks",idealOutcome:"AV is not worse",showForSensitive:!0,canRun:()=>!0,variants:[{id:"control",test:()=>{}},{id:"remote",test:()=>{}}]},{id:"DeeplyReadArticleFooter",start:"2022-08-09",expiry:"2022-10-10",author:"Joshua Lieberman and Daniel Clifton",description:"Add new section to the article footer onwards that shows deeply read articles",audience:1,audienceOffset:0,successMeasure:"Recirculation metrics are not worse",audienceCriteria:"all pageviews",dataLinkNames:"DeeplyReadFooterLinks",idealOutcome:"AV is not worse",showForSensitive:!0,canRun:()=>!0,variants:[{id:"control",test:()=>{}},{id:"variant",test:()=>{}}]},x.S,I,j.V,N.$,T.W];const L=(0,r.Z)((()=>M.reduce(((e,t)=>{const n=A(t);return n?[...e,n]:e}),[]))),B=()=>L().reduce(((e,{id:t,variantToRun:n})=>h(h({},e),{[t]:{variant:n.id}})),{}),F=(e,t)=>L().some((n=>n.id===e.id&&n.variantToRun.id===t))},7067:(e,t,n)=>{n.d(t,{V:()=>o});var r=n(6790);const o={id:"BillboardsInMerch",author:"@commercial-dev",start:"2022-12-07",expiry:"2023-02-31",audience:0,audienceOffset:0,audienceCriteria:"Opt in only",successMeasure:"Test the commercial impact of showing billboard adverts in merchandising slots",description:"Show billboard adverts in merchandising slots to browsers in the variant",variants:[{id:"control",test:r.Z},{id:"variant",test:r.Z}],canRun:()=>!0}},6301:(e,t,n)=>{n.d(t,{S:()=>o});var r=n(6790);const o={id:"ConsentlessAds",author:"@commercial-dev",start:"2022-08-11",expiry:"2023-06-01",audience:0,audienceOffset:0,audienceCriteria:"All pageviews",successMeasure:"Testing Opt Out ads in production",description:"Use consentless ad stack rather than consented / standalone",variants:[{id:"control",test:r.Z},{id:"variant",test:r.Z}],canRun:()=>!0}},8019:(e,t,n)=>{n.d(t,{W:()=>v});var r=n(4586),o=n(582);const i=(e,t=6)=>{const n=Math.pow(10,t);return Math.round(e*n)/n};var a;!function(e){e.PROD="https://performance-events.guardianapis.com/core-web-vitals",e.CODE="https://performance-events.code.dev-guardianapis.com/core-web-vitals"}(a||(a={}));const s={browser_id:null,page_view_id:null,fid:null,cls:null,lcp:null,fcp:null,ttfb:null},c=new Set;let l,u=!1;let d=!1;const p=()=>{d||null!==s.fcp&&(d=navigator.sendBeacon(l,JSON.stringify(s)),c.size>0&&c.forEach((e=>{(0,o.c)(e,d?"Core Web Vitals payload successfully queued for transfer":"Failed to queue Core Web Vitals payload for transfer")})))},f=e=>{switch(e.name){case"FCP":s.fcp=i(e.value);break;case"CLS":s.cls=i(e.value);break;case"LCP":s.lcp=i(e.value);break;case"FID":s.fid=i(e.value);break;case"TTFB":s.ttfb=i(e.value)}},m=e=>{switch(e.type){case"visibilitychange":return void("hidden"===document.visibilityState&&p());case"pagehide":return void p()}},g=async()=>{const e=await Promise.resolve().then(n.bind(n,5355)),{getCLS:t,getFCP:r,getFID:o,getLCP:i,getTTFB:a}=e;t(f,{reportAllChanges:!1}),o(f),i(f),r(f),a(f),addEventListener("visibilitychange",m),addEventListener("pagehide",m)},h=()=>{(0,r.NV)(),(async e=>{if(u)return e&&c.add(e),g();console.warn("initCoreWebVitals not yet initialised")})()},v={id:"EagerPrebid",author:"@commercial-dev",start:"2023-03-23",expiry:"2023-05-01",audience:.06,audienceOffset:0,audienceCriteria:"All pageviews",successMeasure:"Ads lazy load faster, without affecting the page load time",description:"Test the impact of running prebid on page load",variants:[{id:"control",test:h},{id:"variant-20",test:h},{id:"variant-17",test:h},{id:"variant-15",test:h},{id:"variant-12",test:h},{id:"variant-10",test:h}],canRun:()=>!0}},7232:(e,t,n)=>{n.d(t,{$:()=>o});var r=n(6790);const o={id:"ElementsManager",author:"@commercial-dev",start:"2023-02-23",expiry:"2023-06-30",audience:0,audienceOffset:0,audienceCriteria:"Opt in only",successMeasure:"Able to serve GEM assets in ad slots on page",description:"Test serving GEM assets in ad slots on page",variants:[{id:"control",test:r.Z},{id:"variant",test:r.Z}],canRun:()=>!0}},7283:(e,t,n)=>{n.d(t,{G4:()=>d,Pc:()=>u});var r=n(435);const o=e=>{let t,n,r;const o=()=>{[t,r,n]=[[],"init",[]]},i=(...e)=>{n=e,r="complete",t.forEach((e=>{e(...n)}))},a=o=>{switch(r){case"init":r="waiting",t.push(o),e(i);break;case"waiting":t.push(o);break;case"complete":o(...n)}};return o(),a.reset=o,a};var i=n(6509),a=n(6500);n(5206);let s=null;const c=window.guardian.config.page.idApiUrl??"/ID_API_ROOT_URL_NOT_FOUND";window.guardian.config.page.idUrl;a.K.emit("module:identity:api:loaded");const l=()=>{if(null===s){const t=p();let n=null;if(t&&(n=JSON.parse((e=t.split(".")[0],decodeURIComponent(escape(window.atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/,/g,"="))))))),n&&t){const e=decodeURIComponent(n[2]);s={id:parseInt(n[0],10),primaryEmailAddress:n[1],publicFields:{displayName:e},dates:{accountCreatedDate:n[6]},statusFields:{userEmailValidated:Boolean(n[7])},rawResponse:t}}}var e;return s},u=()=>null!==l(),d=(o((e=>{if(u()){const t=`${c}/user/me`;(0,i.r)(t,{mode:"cors",credentials:"include"}).then((t=>{"ok"===t.status?e(t.user):e(null)}))}else e(null)})),o((e=>{u()?fetch(`${c}/user/me/identifiers`,{mode:"cors",credentials:"include"}).then((e=>200===e.status?e.json():(console.log("failed to get Identity user identifiers",e.status),null))).catch((e=>(console.log("failed to get Identity user identifiers",e),null))).then((t=>e(t))):e(null)}))),p=()=>(0,r.e)({name:"GU_U"})},813:(e,t,n)=>{n.d(t,{B4:()=>te,ER:()=>ee,Nl:()=>re,Uc:()=>ne});var r=n(582);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s;const c=()=>s,l=e=>{window.performance?.mark?.(e),(0,r.c)("cmp","[event]",e)},u="undefined"==typeof window,d=()=>{console.warn("This is a server-side version of the @guardian/consent-management-platform","No consent signals will be received.")},p=e=>()=>(d(),e),f={__disable:d,__enable:p(!1),__isDisabled:p(!1),hasInitialised:p(!1),init:d,showPrivacyManager:d,version:"n/a",willShowPrivacyMessage:p(Promise.resolve(!1)),willShowPrivacyMessageSync:p(!1)};let m;const g=()=>(void 0===m&&(m=!!u||window.location.host.endsWith(".theguardian.com")),m),h=540252,v=106842,b=540341,w=g()?"https://sourcepoint.theguardian.com":"https://cdn.privacy-mgmt.com",y=()=>{return e="getUSPData",new Promise(((t,n)=>{window.__uspapi?window.__uspapi(e,1,((r,o)=>o?t(r):n(new Error(`Unable to get ${e} data`)))):n(new Error("No __uspapi found on window"))}));var e},_=async()=>({personalisedAdvertising:!("Y"===(await y()).uspString.charAt(2))}),S=()=>{return e="getUSPData",new Promise(((t,n)=>{window.__uspapi?window.__uspapi(e,1,((r,o)=>o?t(r):n(new Error(`Unable to get ${e} data`)))):n(new Error("No __uspapi found on window"))}));var e},E=async()=>({doNotSell:"Y"===(await S()).uspString.charAt(2)}),O=e=>new Promise(((t,n)=>{window.__tcfapi?window.__tcfapi(e,2,((r,o)=>o?t(r):n(new Error(`Unable to get ${e} data`)))):n(new Error("No __tcfapi found on window"))})),P={1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1},k=async()=>{const[e,t]=await Promise.all([O("getTCData"),O("getCustomVendorConsents")]);if(void 0===e){const e=c()??"undefined";throw new Error(`No TC Data found with current framework: ${e}`)}const n=i(i({},P),e.purpose.consents),{eventStatus:r,gdprApplies:o,tcString:a,addtlConsent:s}=e,{grants:l}=t;return{consents:n,eventStatus:r,vendorConsents:Object.keys(l).sort().reduce(((e,t)=>i(i({},e),{},{[t]:l[t].vendorGrant})),{}),addtlConsent:s,gdprApplies:o,tcString:a}},C=[],A=e=>"cmpuishown"===e.tcfv2?.eventStatus,j=(e,t)=>{if(A(t))return;const n=JSON.stringify(t);n!==e.lastState&&(e.fn(t),e.lastState=n)},x=e=>{const t=u?void 0:navigator.globalPrivacyControl;if(e.tcfv2){const n=e.tcfv2.consents;return i(i({},e),{},{canTarget:Object.keys(n).length>0&&Object.values(n).every(Boolean),framework:"tcfv2",gpcSignal:t})}return e.ccpa?i(i({},e),{},{canTarget:!e.ccpa.doNotSell,framework:"ccpa",gpcSignal:t}):e.aus?i(i({},e),{},{canTarget:e.aus.personalisedAdvertising,framework:"aus",gpcSignal:t}):i(i({},e),{},{canTarget:!1,framework:null,gpcSignal:t})},T=async()=>{switch(c()){case"aus":return x({aus:await _()});case"ccpa":return x({ccpa:await E()});case"tcfv2":return x({tcfv2:await k()});default:throw new Error("no IAB consent framework found on the page")}},N=()=>{0!==C.length&&T().then((e=>{A(e)||C.forEach((t=>j(t,e)))}))},D=e=>{const t={fn:e};C.push(t),T().then((e=>{j(t,e)})).catch((()=>{}))},I=()=>{!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){var r=n(2);e.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){n(4),function(){if("function"!=typeof window.__tcfapi){var e,t=[],n=window,r=n.document;!n.__tcfapi&&function e(){var t=!!n.frames.__tcfapiLocator;if(!t)if(r.body){var o=r.createElement("iframe");o.style.cssText="display:none",o.name="__tcfapiLocator",r.body.appendChild(o)}else setTimeout(e,5);return!t}()&&(n.__tcfapi=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(!r.length)return t;if("setGdprApplies"===r[0])r.length>3&&2===parseInt(r[1],10)&&"boolean"==typeof r[3]&&(e=r[3],"function"==typeof r[2]&&r[2]("set",!0));else if("ping"===r[0]){var i={gdprApplies:e,cmpLoaded:!1,apiVersion:"2.0"};"function"==typeof r[2]&&r[2](i,!0)}else t.push(r)},n.addEventListener("message",(function(e){var t="string"==typeof e.data,r={};try{r=t?JSON.parse(e.data):e.data}catch(e){}var o=r.__tcfapiCall;o&&n.__tcfapi(o.command,o.version,(function(n,r){var i={__tcfapiReturn:{returnValue:n,success:r,callId:o.callId}};t&&(i=JSON.stringify(i)),e.source.postMessage(i,"*")}),o.parameter)}),!1))}}()},function(e,t,n){var r=n(0),o=n(5).f,i=Function.prototype,a=i.toString,s=/^s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){var r=n(0),o=n(6),i=n(10),a=n(11),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(0),o=n(2),i=n(7);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(8),o=n(1),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(9))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(1);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(1);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}}])},M=e=>{"tcfv2"===e?I():function(){var e=!1,t=window,n=document;function r(e){var n="string"==typeof e.data;try{var r=n?JSON.parse(e.data):e.data;if(r.__cmpCall){var o=r.__cmpCall;t.__uspapi(o.command,o.parameter,(function(t,r){var i={__cmpReturn:{returnValue:t,success:r,callId:o.callId}};e.source.postMessage(n?JSON.stringify(i):i,"*")}))}}catch(r){}}!function e(){if(!t.frames.__uspapiLocator)if(n.body){var r=n.body,o=n.createElement("iframe");o.style.cssText="display:none",o.name="__uspapiLocator",r.appendChild(o)}else setTimeout(e,5)}(),"function"!=typeof __uspapi&&(t.__uspapi=function(){var t=arguments;if(__uspapi.a=__uspapi.a||[],!t.length)return __uspapi.a;"ping"===t[0]?t[2]({gdprAppliesGlobally:e,cmpLoaded:!1},!0):__uspapi.a.push([].slice.apply(t))},__uspapi.msgHandler=r,t.addEventListener("message",r,!1))}()};let L;const B=new Promise((e=>{L=e})),F=e=>"aus"==e?"https://au.theguardian.com":g()?null:"https://test.theguardian.com",R=(e,t={})=>{if(M(e),window._sp_)throw new Error("Sourcepoint global (window._sp_) is already defined!");(e=>{(0,r.c)("cmp",`Framework set to ${e}`),s=e})(e),N();const n="tcfv2"==e?"gdpr":"ccpa";(0,r.c)("cmp",`framework: ${e}`),(0,r.c)("cmp",`frameworkMessageType: ${n}`),window._sp_queue=[],window._sp_={config:{baseEndpoint:w,accountId:1257,propertyHref:F(e),targetingParams:{framework:e},pubData:i(i({},t),{},{cmpInitTimeUtc:(new Date).getTime()}),events:{onConsentReady:(e,t,o)=>{(0,r.c)("cmp",`onConsentReady ${e}`),e==n&&((0,r.c)("cmp",`consentUUID ${t}`),(0,r.c)("cmp",`euconsent ${o}`),l("cmp-got-consent"),setTimeout(N,0))},onMessageReady:e=>{(0,r.c)("cmp",`onMessageReady ${e}`),e==n&&l("cmp-ui-displayed")},onMessageReceiveData:(e,t)=>{(0,r.c)("cmp",`onMessageReceiveData ${e}`),e==n&&((0,r.c)("cmp","onMessageReceiveData ",t),L(0!==t.messageId))},onMessageChoiceSelect:(e,t,o)=>{(0,r.c)("cmp",`onMessageChoiceSelect message_type: ${e}`),console.log(),e==n&&((0,r.c)("cmp",`onMessageChoiceSelect choice_id: ${t}`),(0,r.c)("cmp",`onMessageChoiceSelect choice_type_id: ${o}`),11!==o&&13!==o&&15!==o||setTimeout(N,0))},onPrivacyManagerAction:function(e,t){(0,r.c)("cmp",`onPrivacyManagerAction message_type: ${e}`),e==n&&(0,r.c)("cmp",`onPrivacyManagerAction ${t}`)},onMessageChoiceError:function(e,t){(0,r.c)("cmp",`onMessageChoiceError ${e}`),e==n&&(0,r.c)("cmp",`onMessageChoiceError ${t}`)},onPMCancel:function(e){(0,r.c)("cmp",`onPMCancel ${e}`)},onSPPMObjectReady:function(){(0,r.c)("cmp","onSPPMObjectReady")},onError:function(e,t,o,i){(0,r.c)("cmp",`errorCode: ${e}`),e==n&&((0,r.c)("cmp",`errorCode: ${t}`),(0,r.c)("cmp",o),(0,r.c)("cmp",`userReset: ${i}`))}}}},"tcfv2"===e?window._sp_.config.gdpr={targetingParams:{framework:e}}:window._sp_.config.ccpa={targetingParams:{framework:e}};const o=document.createElement("script");o.id="sourcepoint-lib",o.src=`${w}/unified/wrapperMessagingWithoutDetection.js`,document.body.appendChild(o)};const $=(e,t)=>{l("cmp-init"),R(e,t)},Z=()=>B,H=function(){switch(c()){case"tcfv2":window._sp_?.gdpr?.loadPrivacyManagerModal?.(v);break;case"ccpa":window._sp_?.ccpa?.loadPrivacyManagerModal?.(h);break;case"aus":window._sp_?.ccpa?.loadPrivacyManagerModal?.(b)}},U="gu-cmp-disabled",z=()=>new RegExp(`${U}=true(\\W+|$)`).test(document.cookie),q={a9:["5f369a02b8e05c308701f829"],acast:["5f203dcb1f0dea790562e20f"],braze:["5ed8c49c4b8ce4571c7ad801"],comscore:["5efefe25b8e05c06542b2a77"],fb:["5e7e1298b8e05c54a85c52d2"],"google-analytics":["5e542b3a4cd8884eb41b5a72"],"google-mobile-ads":["5f1aada6b8e05c306c0597d7"],"google-tag-manager":["5e952f6107d9d20c88e7c975"],googletag:["5f1aada6b8e05c306c0597d7"],ias:["5e7ced57b8e05c485246ccf3"],inizio:["5e37fc3e56a5e6615502f9c9"],ipsos:["5f745ab96f3aae0163740409"],linkedin:["5f2d22a6b8e05c02aa283b3c"],lotame:["5ed6aeb1b8e05c241a63c71f"],nielsen:["5ef5c3a5b8e05c69980eaa5b"],ophan:["5f203dbeeaaaa8768fd3226a"],permutive:["5eff0d77969bfa03746427eb"],prebid:["5f92a62aa22863685f4daa4c"],qm:["5f295fa4b8e05c76a44c3149"],redplanet:["5f199c302425a33f3f090f51"],remarketing:["5ed0eb688a76503f1016578f"],sentry:["5f0f39014effda6e8bbd2006"],teads:["5eab3d5ab8e05c2bbe33f399"],twitter:["5e71760b69966540e4554f01"],"youtube-player":["5e7ac3fae30e7d1bc1ebf5e8"]};var G,V,W,J;let K;u||window.guCmpHotFix||(window.guCmpHotFix={});let Y,Q=!1;const X=new Promise((e=>{Y=e})),ee=u?f:(G=window.guCmpHotFix).cmp||(G.cmp={init:({pubData:e,country:t})=>{if(z()||u)return;if(window.guCmpHotFix.initialised)return void("12.0.0"!==window.guCmpHotFix.cmp?.version&&console.warn("Two different versions of the CMP are running:",["12.0.0",window.guCmpHotFix.cmp?.version]));if(window.guCmpHotFix.initialised=!0,void 0===t)throw new Error("CMP initialised without `country` property. A 2-letter, ISO ISO_3166-1 country code is required.");const n=(e=>{let t;switch(e){case"US":t="ccpa";break;case"AU":t="aus";break;default:t="tcfv2"}return t})(t);$(n,e??{}),Z().then((e=>{K=e,Q=!0,(0,r.c)("cmp","initComplete")})),Y()},willShowPrivacyMessage:()=>X.then((()=>Z())),willShowPrivacyMessageSync:()=>{if(void 0!==K)return K;throw new Error("CMP has not been initialised. Use the async willShowPrivacyMessage() instead.")},hasInitialised:()=>Q,showPrivacyManager:()=>{X.then(H)},version:"12.0.0",__isDisabled:z,__enable:()=>{document.cookie=`${U}=false`},__disable:()=>{document.cookie=`${U}=true`}}),te=u?()=>(d(),Promise.resolve({canTarget:!1,framework:null})):(V=window.guCmpHotFix).onConsent||(V.onConsent=()=>new Promise(((e,t)=>{D((n=>{(n.tcfv2||n.ccpa||n.aus)&&e(n),t("Unknown framework")}))}))),ne=u?()=>d():(W=window.guCmpHotFix).onConsentChange||(W.onConsentChange=D),re=u?(e,t)=>(console.log(`Server-side call for getConsentFor(${e}, ${JSON.stringify(t)})`,"getConsentFor will always return false server-side"),d(),!1):(J=window.guCmpHotFix).getConsentFor||(J.getConsentFor=(e,t)=>{const n=q[e];if(void 0===n||Array.isArray(n)&&0===n.length)throw new Error(`Vendor '${e}' not found, or with no Sourcepoint ID. If it should be added, raise an issue at https://github.com/guardian/consent-management-platform/issues`);if(t.ccpa)return!t.ccpa.doNotSell;if(t.aus)return t.aus.personalisedAdvertising;const r=n.find((e=>void 0!==t.tcfv2?.vendorConsents[e]));if(void 0===r)return console.warn(`No consent returned from Sourcepoint for vendor: '${e}'`),!1;const o=t.tcfv2?.vendorConsents[r];return void 0===o?(console.warn(`No consent returned from Sourcepoint for vendor: '${e}'`),!1):o})},4437:(e,t,n)=>{n.d(t,{P:()=>r});const r="Cookie must not contain invalid characters (space, tab and the following characters: '()<>@,;\"/[]?={}')"},435:(e,t,n)=>{n.d(t,{e:()=>i});var r=n(276),o=n(1553);const i=({name:e,shouldMemoize:t=!1})=>{const n=o.k.get(e);if(n)return n;const[i]=(0,r.H)(e);return i?(t&&o.k.set(e,i),i):null}},276:(e,t,n)=>{n.d(t,{H:()=>r});const r=e=>{const t=`${e}=`;return document.cookie.split(";").reduce(((e,n)=>{const r=n.trim();return r.startsWith(t)&&e.push(r.substring(t.length,r.length)),e}),[])}},9769:(e,t,n)=>{n.d(t,{B:()=>o});var r=n(9);const o=({isCrossSubdomain:e=!1}={})=>{const t=(0,r.W)({isCrossSubdomain:e});return"localhost"===t?"":` domain=${t};`}},9:(e,t,n)=>{n.d(t,{W:()=>r});const r=({isCrossSubdomain:e=!1}={})=>{const t=document.domain||"";return"localhost"===t||window.guardian?.config?.page?.isPreview?t:e?["",...t.split(".").slice(-2)].join("."):t.replace(/^(www|m\.code|dev|m)\./,".")}},3265:(e,t,n)=>{n.d(t,{I:()=>i});const r=/[()<>@,;"\\/[\]?={} \t]/g,o=e=>!r.test(e),i=(e,t)=>o(e)&&o(t)},1553:(e,t,n)=>{n.d(t,{k:()=>r});const r=new Map},1277:(e,t,n)=>{n.d(t,{n:()=>o});var r=n(9);const o=({name:e,currentDomainOnly:t=!1})=>{const n="expires=Thu, 01 Jan 1970 00:00:01 GMT;",o="path=/;";document.cookie=`${e}=;${o}${n}`,t||(document.cookie=`${e}=;${o}${n} domain=${(0,r.W)()};`)}},3898:(e,t,n)=>{n.d(t,{d:()=>c});var r=n(4437),o=n(276),i=n(9769),a=n(3265),s=n(1553);const c=({name:e,value:t,daysToLive:n,isCrossSubdomain:c=!1})=>{const l=new Date;if(!(0,a.I)(e,t))throw new Error(`${r.P} ${e}=${t}`);if(n?l.setUTCDate(l.getUTCDate()+n):(l.setUTCMonth(l.getUTCMonth()+5),l.setUTCDate(1)),document.cookie=`${e}=${t}; path=/; expires=${l.toUTCString()};${(0,i.B)({isCrossSubdomain:c})}`,s.k.has(e)){const[t]=(0,o.H)(e);t&&s.k.set(e,t)}}},8020:(e,t,n)=>{n.d(t,{K:()=>r});const r=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},1565:(e,t,n)=>{n.d(t,{H:()=>r});const r=e=>"[object String]"===Object.prototype.toString.call(e)},6479:(e,t,n)=>{n.d(t,{v:()=>r});const r=(e,t)=>new Promise(((n,r)=>{const o=document.createElement("script");if(o.src=e,Array.from(document.scripts).some((({src:e})=>o.src===e)))return n(void 0);Object.assign(o,t),o.onload=n,o.onerror=(t,n,o,i,a)=>{if(a)r(a);else if("string"!=typeof t)if(t instanceof Event){const n=t.target.getAttribute("src")??"";r(new Error(`Error loading script: src: ${e} targetSrc: ${n}`))}else r(new Error(`Error loading script: src: ${e}`));else r(new Error(`Error loading script: src: ${e} event: ${t}`))};const i=document.scripts[0];i?.parentNode?.insertBefore(o,i)}))},582:(e,t,n)=>{n.d(t,{c:()=>h});var r=n(1565),o=n(8394);const i="gu.logger",a={commercial:{background:"#77EEAA",font:"#004400"},cmp:{background:"#FF6BB5",font:"#2F0404"},dotcom:{background:"#000000",font:"#ff7300"},design:{background:"#185E36",font:"#FFF4F2"},tx:{background:"#2F4F4F",font:"#FFFFFF"},supporterRevenue:{background:"#0F70B7",font:"#ffffff"},identity:{background:"#6F5F8F",font:"#ffffff"}},s=e=>Object.keys(a).includes(e);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=l(l({},a),{common:{background:"#052962",font:"#ffffff"}}),p=e=>{const{background:t,font:n}=d[e];return`background: ${t}; color: ${n}; padding: 2px 3px; border-radius:3px`},f=()=>{const e=o.t.local.get(i);return(0,r.H)(e)?e.split(",").filter(s):[]},m=e=>{const t=f();t.includes(e)||t.push(e),o.t.local.set(i,t.join(",")),h(e," Subscribed, hello!")},g=e=>{h(e," Unsubscribed, good-bye!");const t=f().filter((t=>t!==e));o.t.local.set(i,t.join(","))};"undefined"!=typeof window&&(window.guardian||={},window.guardian.logger||={subscribeTo:m,unsubscribeFrom:g,teams:()=>Object.keys(a)});const h=(e,...t)=>{if(!f().includes(e))return;const n=[p("common"),"",p(e),""];console.log(`%c@guardian%c %c${e}%c`,...n,...t)}},8394:(e,t,n)=>{n.d(t,{t:()=>a});var r=n(8020),o=n(1565);class i{#e;constructor(e){try{const t=window[e],n=(new Date).toString();t.setItem(n,n);const r=t.getItem(n)==n;t.removeItem(n),r&&(this.#e=t)}catch(e){}}isAvailable(){return Boolean(this.#e)}get(e){try{const t=JSON.parse(this.#e?.getItem(e)??"");if(!(0,r.K)(t))return null;const{value:n,expires:i}=t;return(0,o.H)(i)&&new Date>new Date(i)?(this.remove(e),null):n}catch(e){return null}}set(e,t,n){return this.#e?.setItem(e,JSON.stringify({value:t,expires:n}))}remove(e){return this.#e?.removeItem(e)}clear(){return this.#e?.clear()}getRaw(e){return this.#e?.getItem(e)??null}setRaw(e,t){return this.#e?.setItem(e,t)}}const a=new class{#t;#n;get local(){return this.#t||=new i("localStorage")}get session(){return this.#n||=new i("sessionStorage")}}},8232:(e,t,n)=>{n.d(t,{A:()=>r});const r={mobile:320,mobileMedium:375,mobileLandscape:480,phablet:660,tablet:740,desktop:980,leftCol:1140,wide:1300}},1263:(e,t,n)=>{var r;!function(){var t={initialize:function(){this._tasks=new Map},mutate:function(e,t){return o(this,"mutate",e,t)},measure:function(e,t){return o(this,"measure",e,t)},clear:function(e){var t=this._tasks,n=t.get(e);this.fastdom.clear(n),t.delete(e)}};function o(e,t,n,r){var o,i=e._tasks,a=e.fastdom,s=new Promise((function(e,c){o=a[t]((function(){i.delete(s);try{e(r?n.call(r):n())}catch(e){c(e)}}),r)}));return i.set(s,o),s}"f"=="function"[0]?void 0===(r=function(){return t}.call(t,n,t,e))||(e.exports=r):"o"=="object"[0]?e.exports=t:window.fastdomPromised=t}()},161:function(e,t,n){var r;!function(t){var o=function(){},i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function a(){var e=this;e.reads=[],e.writes=[],e.raf=i.bind(t),o("initialized",e)}function s(e){e.scheduled||(e.scheduled=!0,e.raf(c.bind(null,e)),o("flush scheduled"))}function c(e){o("flush");var t,n=e.writes,r=e.reads;try{o("flushing reads",r.length),e.runTasks(r),o("flushing writes",n.length),e.runTasks(n)}catch(e){t=e}if(e.scheduled=!1,(r.length||n.length)&&s(e),t){if(o("task errored",t.message),!e.catch)throw t;e.catch(t)}}function l(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}a.prototype={constructor:a,runTasks:function(e){var t;for(o("run tasks");t=e.shift();)t()},measure:function(e,t){o("measure");var n=t?e.bind(t):e;return this.reads.push(n),s(this),n},mutate:function(e,t){o("mutate");var n=t?e.bind(t):e;return this.writes.push(n),s(this),n},clear:function(e){return o("clear",e),l(this.reads,e)||l(this.writes,e)},extend:function(e){if(o("extend",e),"object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var u=t.fastdom=t.fastdom||new a;void 0===(r=function(){return u}.call(u,n,u,e))||(e.exports=r)}("undefined"!=typeof window?window:this)},6286:function(e,t){var n,r,o,i,a,s,c,l,u,d,p,f,m,g,h,v,b,w,y,_,S,E,O,P,k;(function(){var e={}.hasOwnProperty;void 0!==(n=function(){var t,n,r,o,i,a,s,c,l,u,d,p;return r=function(){return(new Date).getTime().toString(36)+"xxxxxxxxxxxx".replace(/x/g,(function(){return Math.floor(36*Math.random()).toString(36)}))},l=null!=(u="undefined"!=typeof guardian&&null!==guardian&&null!=(d=guardian.config)&&null!=(p=d.ophan)?p.pageViewId:void 0)?u:r(),n=function(){return l=r()},a=function(e){return i("//ophan.theguardian.com/img/1?"+t(e))},c=function(e){return"string"==typeof e||"number"==typeof e?encodeURIComponent(e):encodeURIComponent(JSON.stringify(e))},s=function(t,n){var r,a,s;return JSON&&(s=function(){var n;for(r in n=[],t)e.call(t,r)&&(a=t[r],o(a)&&n.push(encodeURIComponent(r)+"="+c(a)));return n}(),s.length)?i("//ophan.theguardian.com/img/2?viewId="+l+"&"+s.join("&"),n):void 0},o=function(e){return Array.isArray(e)?e.length:null!=e},t=function(t){var n,r;return t.viewId=l,function(){var o;for(n in o=[],t)e.call(t,n)&&(null!=(r=t[n])&&o.push(encodeURIComponent(n)+"="+encodeURIComponent(r)));return o}().join("&")},i=function(e,t){var n,r;return r=new Image,n=setInterval((function(){return r.complete?("function"==typeof t&&t(),clearInterval(n)):void 0}),10),r.src=e},{sendInitial:a,sendMore:s,viewId:l,bumpViewId:n}}.apply(r={},[]))||(n=r)}).call(this),function(){void 0!==(o=function(){return{state:function(){return document.visibilityState||document.webkitVisibilityState||document.mozVisibilityState||document.msVisibilityState},changeEvent:document.visibilityState?"visibilitychange":document.webkitVisibilityState?"webkitvisibilitychange":document.mozVisibilityState?"mozvisibilitychange":document.msVisibilityState?"msvisibilitychange":void 0}}.apply(i={},[]))||(o=i)}.call(this),function(){void 0!==(a=function(){return{init:function(){function e(e){return"function"==typeof e}function t(e,t){(p.debug||t)&&window.console&&window.console.log&&(t?console.error("[ABD] "+e):console.log("[ABD] "+e))}function n(e){t("start beginTest"),1!=b&&(!0,r(e),v.quick="testing",w.test=setTimeout((function(){o(e,1)}),5))}function r(e){var n,r=document.body,o="width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;";if(null!=e&&"string"!=typeof e){for(null!=e.style&&(o+=e.style),m=function(e,t){var n,r,o=t;if(r=document.createElement(e),o)for(n in o)o.hasOwnProperty(n)&&r.setAttribute(n,o[n]);return r}("div",{class:e.cssClass,style:o}),t("adding bait node to DOM"),r.appendChild(m),n=0;n<h.nullProps.length;n++)m[h.nullProps[n]];for(n=0;n<h.zeroProps.length;n++)m[h.zeroProps[n]]}else t("invalid bait being cast")}function o(e,n){var s,c=document.body,l=!1;if(null==m&&(t("recast bait"),r(e||g)),"string"==typeof e)return t("invalid bait used",!0),void(i()&&setTimeout((function(){!1}),5));for(w.test>0&&(clearTimeout(w.test),w.test=0),null!==c.getAttribute("abp")&&(t("found adblock body attribute"),l=!0),s=0;s<h.nullProps.length;s++){if(null==m[h.nullProps[s]]){n>4&&(l=!0),t("found adblock null attr: "+h.nullProps[s]);break}if(1==l)break}for(s=0;s<h.zeroProps.length&&1!=l;s++)0==m[h.zeroProps[s]]&&(n>4&&(l=!0),t("found adblock zero attr: "+h.zeroProps[s]));if(void 0!==window.getComputedStyle){var u=window.getComputedStyle(m,null);("none"==u.getPropertyValue("display")||"hidden"==u.getPropertyValue("visibility"))&&(n>4&&(l=!0),t("found adblock computedStyle indicator"))}!0,l||n++>=p.maxLoop?(t("exiting test loop - value: "+(b=l)),a(),i()&&setTimeout((function(){!1}),5)):w.test=setTimeout((function(){o(e,n)}),p.loopDelay)}function i(){if(null===m)return!0;try{e(m.remove)&&m.remove(),document.body.removeChild(m)}catch(e){}return m=null,!0}function a(){var n,r;if(null!==b)for(n=0;n<f.length;n++){r=f[n];try{null!=r&&(e(r.complete)&&r.complete(b),b&&e(r.found)?r.found():!1===b&&e(r.notfound)&&r.notfound())}catch(e){t("Failure in notify listeners "+e.Message,!0)}}}function s(){var e,t=!1;document.readyState&&"complete"==document.readyState&&(t=!0),e=function(){n(g)},t?e():function(e,t,n){d?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}(window,"load",e)}var c="offset",l="client",u=function(){},d=void 0===window.addEventListener,p={loopDelay:50,maxLoop:5,debug:!1,found:u,notfound:u,complete:u},f=[],m=null,g={cssClass:"ad-slot pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"},h={nullProps:[c+"Parent"],zeroProps:[]};h.zeroProps=[c+"Height",c+"Left",c+"Top",c+"Width",c+"Height",l+"Height",l+"Width"];var v={quick:null,remote:null},b=null,w={test:0,download:0};return function(e){var t,n;if(e){for(t in n={complete:u,found:u,notfound:u},e)e.hasOwnProperty(t)&&("complete"==t||"found"==t||"notFound"==t?n[t.toLowerCase()]=e[t]:p[t]=e[t]);f.push(n),s()}}}()}}.apply(s={},[]))||(a=s)}.call(this),function(){void 0!==(c=function(e){return{run:function(){return new Promise((function(t,n){if(!e.init)return n(new Error("Failed to initialise adblock detection"));try{return e.init({complete:function(e){return t(e)}})}catch(e){return n(e)}}))}}}.apply(l={},[a]))||(c=l)}.call(this),function(){var e={}.hasOwnProperty;u=function(t,n,r){var o,i,a,s,c,l,u,d,p,f,m,g;return 16,c=window.document,s=null!=window.localStorage&&"undefined"!=typeof JSON&&null!==JSON,p=null,50,l=function(e,t){return p=e,"prerender"!==n.state()?f(t):n.changeEvent?c.addEventListener(n.changeEvent,(function(){return"visible"===n.state()?f(t):void 0}),!1):void 0},f=function(e,o,s){var c;return null==o&&(o=location.href),null==s&&(s=window.document.referrer),c={v:16,platform:p,url:o,ref:s,visibilityState:n.state(),isModernBrowser:"undefined"!=typeof guardian&&null!==guardian?guardian.isModernBrowser:void 0,httpStatus:e,tz:(new Date).getTimezoneOffset()},i(c),a(c),t.sendInitial(c),r.run().then((function(e){return t.sendMore({adUnitWasHidden:e})}))},d=[],u=function(e){var n,r,o,i;if("complete"===document.readyState){for(r in o={},n=e())i=n[r],o[r]=i;return t.sendMore(o)}return d.push(e)},"function"==typeof window.addEventListener&&window.addEventListener("load",(function(){var e,n,r,i,a,s;for(r={},a=0,s=d.length;s>a;a++)for(n in e=(0,d[a])())i=e[n],r[n]=i;return"next-gen"===p&&o(r),t.sendMore(r)}),!1),a=function(t){var n,r,o;if(s){if(null!=(r=JSON.parse(window.localStorage.getItem("ophan_follow"))))for(n in r)e.call(r,n)&&(o=r[n],t[n]=o);return window.localStorage.removeItem("ophan_follow")}},g=function(e){return e.map((function(e){return e.length>50?e.substring(0,50).concat(""):e}))},o=function(e){var t,n,r,o,i,a,s;if(t=function(){var e,t,r,o;for(o=[],e=0,t=(r=document.querySelectorAll("[data-component]")).length;t>e;e++)n=r[e],o.push(n.getAttribute("data-component"));return o}(),t.length>0){for(i=g(t),o={},a=0,s=i.length;s>a;a++)n=i[a],o[n]=1;return e.renderedComponents=function(){var e;for(r in e=[],o)o[r],e.push(r);return e}()}},m=function(t){var n,r,o;if(s){for(r in n=JSON.parse(window.localStorage.getItem("ophan_follow"))||{},t)e.call(t,r)&&(o=t[r],n[r]=o);return window.localStorage.setItem("ophan_follow",JSON.stringify(n))}},i=function(e){var t,n,r;return null!=(t="undefined"!=typeof guardian&&null!==guardian&&null!=(n=guardian.config)&&null!=(r=n.page)?r.contentType:void 0)&&""!==t?e.contentType=t.toLowerCase():void 0},{init:l,storeDataToSendOnNextEvent:m,onLoadCapture:u,servingPlatform:function(){return p},viewId:t.viewId,sendInitialEvent:f}}.apply(d={},[n,o,c]),void 0!==u||(u=d)}.call(this),function(){void 0!==(p=function(){var e,t,n;return t=[],n=null,e=function(){function e(e,t,r,o){this.name=e,this.element=t,this.visibilityThreshold=r,this.reportingInterval=o,this.visible=!1,this.totalAttentionMs=0,this.unrecordedAttentionStarted=null,this.reportedTotalAttentionMs=0,this.usingEmitter=!1,this.visCheck=this.checkVisibility.bind(this),null!=n?(this.usingEmitter=!0,n.on("window:throttledScroll",this.visCheck)):window.addEventListener("scroll",this.visCheck),window.addEventListener("resize",this.visCheck)}return e.prototype.isVisible=function(e){var t,n,r,o,i;return null==e&&(e=1),!!this.element.offsetParent&&(r=(t=this.element.getBoundingClientRect()).right-t.left,n=t.bottom-t.top,o=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth,t.left>=-r*(1-e)&&t.top>=-n*(1-e)&&t.right<=i+r*(1-e)&&t.bottom<=o+n*(1-e))},e.prototype.visibilityHasChanged=function(){var e;return e=this.visible,this.visible=this.isVisible(this.visibilityThreshold),e!==this.visible},e.prototype.rebindToEventEmitter=function(){return this.usingEmitter||null==n?void 0:(window.removeEventListener("scroll",this.visCheck),this.usingEmitter=!0,n.on("window:throttledScroll",this.visCheck))},e.prototype.checkVisibility=function(){return this.rebindToEventEmitter(),this.visibilityHasChanged()?this.visible?this.makeActive():this.makeInactive():void 0},e.prototype.makeActive=function(){return null!=this.unrecordedAttentionStarted?this.unrecordedAttentionStarted:this.unrecordedAttentionStarted=performance.now()},e.prototype.makeInactive=function(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.unrecordedAttentionStarted=null},e.prototype.hadAttentionSinceLastGet=function(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.totalAttentionMs!==this.reportedTotalAttentionMs},e.prototype.getAttentionTime=function(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.reportedTotalAttentionMs=this.totalAttentionMs,this.totalAttentionMs},e.prototype.incrementTotalAttentionTimeByUnrecordedAmount=function(){var e,t;return null!=this.unrecordedAttentionStarted?(e=performance.now(),t=Math.min(e-this.unrecordedAttentionStarted,this.reportingInterval),this.totalAttentionMs+=t,this.unrecordedAttentionStarted=e):void 0},e}(),{setEventEmitter:function(e){return n=e},startMonitoring:function(){var e,n,r,o;for(o=[],n=0,r=t.length;r>n;n++)(e=t[n]).isVisible()&&o.push(e.makeActive());return o},stopMonitoring:function(){var e,n,r,o;for(o=[],n=0,r=t.length;r>n;n++)e=t[n],o.push(e.makeInactive());return o},getAttentionTimes:function(){var e,n,r,o;for(n={},r=0,o=t.length;o>r;r++)(e=t[r]).hadAttentionSinceLastGet()&&(n[e.name]=Math.round(e.getAttentionTime()));return n},registerComponent:function(n,r,o,i){return t.push(new e(n,r,o,i))}}}.apply(f={},[]))||(p=f)}.call(this),function(){void 0!==(m=function(e,t){var n,r,o,i,a,s,c,l,u,d,p,f,m,g,h;return 5e3,n=["focus","click","scroll","mousemove","touchstart","touchend","touchcancel","touchleave","touchmove","keyup","keydown"],r=1e4,m=0,g=null,d=null,i=null,h=!1,o=function(){return null!=i&&window.clearTimeout(i),i=null},l=function(){return null==g&&(g=performance.now()),t.startMonitoring(),o(),i=window.setTimeout((function(){return h?void 0:u()}),5e3)},a=function(){var e,t;return null!=g?(e=performance.now(),t=Math.min(e-g,r),m+=t,g=e):void 0},u=function(){return o(),t.stopMonitoring(),a(),g=null},p=function(){var n,r;return a(),m!==d?(r={attentionMs:Math.round(m)},n=t.getAttentionTimes(),Object.keys(n).length&&(r.componentAttentionMs=n),e.sendMore(r),d=m):void 0},c=function(e,n,o){return null==o&&(o=.5),t.registerComponent(e,n,o,r)},s=function(e){var t,o,i;for(o=0,i=n.length;i>o;o++)t=n[o],window.addEventListener(t,l);return document.addEventListener(e.changeEvent,(function(){return"visible"===e.state()?l():u()}),!1),document.addEventListener("videoPlaying",(function(){return h=!0,l()})),document.addEventListener("videoEnded",(function(){return h=!1,u()})),document.addEventListener("videoPause",(function(){return h=!1,u()})),window.setTimeout(p,100),window.setInterval(p,r)},f=function(e){return t.setEventEmitter(e)},{init:s,initComponent:c,setEventEmitter:f}}.apply(g={},[n,p]))||(m=g)}.call(this),function(){void 0!==(h=function(e){var t;return t=function(e){var t,n,r,o;return t=function(){return e(!1)},n=function(){return e(!0)},o=function(){try{return localStorage.length||(localStorage.x=1,localStorage.removeItem("x")),t()}catch(e){return e,n()}},r=function(){var e;try{return(e=indexedDB.open("test")).onsuccess=t,e.onerror=n}catch(e){return e,n()}},window.webkitRequestFileSystem?window.webkitRequestFileSystem(window.TEMPORARY,1,t,n):"MozAppearance"in document.documentElement.style?r():/constructor/i.test(window.HTMLElement)?o():window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?t():n()},{init:function(){return t((function(t){var n;return n={inPrivateBrowsingMode:t},e.sendMore(n)}))},privateBrowsingMode:t}}.apply(v={},[n]))||(h=v)}.call(this),function(){void 0!==(b=function(){var e;return e=!1,{init:function(){var t;return t=function(){var t;return"undefined"==typeof localStorage||null===localStorage||e||(e=!0,("true"===(t=window.location.search.replace(/^(?:.*[&\?]heatmap(?:\=([^&]*))?)?.*$/,"$1"))||"false"===t)&&(localStorage.ophan_heatmap=t),"true"!==localStorage.ophan_heatmap&&"show"!==t)?void 0:document.body.appendChild(document.createElement("script")).src="//dashboard.ophan.co.uk/assets/js/heatmap-bookmarklet.js"},"complete"===document.readyState?t():"function"==typeof window.addEventListener?window.addEventListener("load",(function(){return t()}),!1):void 0}}}.apply(w={},[]))||(b=w)}.call(this),function(){void 0!==(y=function(e,t){var n,r,o;return o=function(e){var t,n;return"a"===(t=null!=e&&null!=(n=e.nodeName)?n.toLowerCase():void 0)?e:null==t||"body"===t?null:o(e.parentNode)},n=function(e){var t,r;return null==(t=null!=e&&null!=(r=e.nodeName)?r.toLowerCase():void 0)||"body"===t?null:("function"==typeof e.getAttribute?e.getAttribute("data-component"):void 0)||n(e.parentNode)},r=function(e,t){var n,r,o;return null==t&&(t=[]),n=function(e){var t;return(null!=e&&null!=(t=e.nodeName)?t.toLowerCase():void 0)===document.body.nodeName.toLowerCase()},r=function(e){return e===document},(o=function(e,t){var i;return null==e||n(e)||r(e)?t:(null!=(i=e.getAttribute("data-link-name"))&&t.push(i),o(e.parentNode,t))})(e,t.slice())},"function"==typeof document.addEventListener&&document.addEventListener("click",(function(i){var a,s;return a=o(i.target),null!=(s={from:[location.protocol,"//",location.host,location.pathname].join(""),to:a?a.href:void 0,referringComponent:n(i.target),referringDataLinkNames:r(i.target),refPlatform:e.servingPlatform(),refViewId:e.viewId}).referringDataLinkNames&&t.sendMore({clickComponent:s.referringComponent,clickLinkNames:s.referringDataLinkNames}),null!=a?e.storeDataToSendOnNextEvent(s):void 0}),!1),{getDataLinkNames:r}}.apply(_={},[u,n]))||(y=_)}.call(this),function(){void 0!==(S=function(e){var t,n;return t=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance,n=function(){var e;return null!=(e=null!=t?t.timing:void 0)?{performance:{dns:e.domainLookupEnd-e.domainLookupStart,connection:e.connectEnd-e.connectStart,firstByte:e.responseStart-e.connectEnd,lastByte:e.responseEnd-e.responseStart,domContentLoadedEvent:e.domContentLoadedEventStart-e.responseEnd,loadEvent:e.loadEventStart-e.domContentLoadedEventStart,navType:t.navigation.type,redirectCount:t.navigation.redirectCount}}:{}},e.onLoadCapture(n),t}.apply(E={},[u]))||(S=E)}.call(this),function(){void 0!==(O=function(e){var t,n,r,o,i,a;return a=[".theguardian.com",".dev-theguardian.com",".thegulocal.com"],n=function(e){var t,n,s;(s=i(e.origin))&&a.some((function(e){return s.endsWith(e)}))&&("ophan-iframe-click-event"===e.data.type?(t=e.data.value,n=document.getElementById(e.data.iframeId),r(n,t)):"ophan-iframe-component-event"===e.data.type&&(t=e.data.value,o(t)))},i=function(e){var t;try{return new URL(e).host}catch(e){if((t=e)instanceof TypeError)return null;throw t}},r=function(t,n){t&&(n.clickLinkNames=e.getDataLinkNames(t,n.clickLinkNames)||n.clickLinkNames),window.guardian.ophan.record(n)},t=function(e){return!(!e||"object"!=typeof e||!e.componentEvent||"object"!=typeof e.componentEvent)},o=function(e){t(e)&&window.guardian.ophan.record(e)},window.addEventListener("message",n,!1)}.apply(P={},[y]))||(O=P)}.call(this),function(){void 0===(k=function(e,t,n,r,o,i){var a;return null!=(null!=(a=window.guardian)?a.ophan:void 0)?window.guardian.ophan:(e.init("next-gen"),o.init(),i.init(),null!=window.addEventListener&&n.init(r),null==window.guardian&&(window.guardian={}),window.guardian.ophan={setEventEmitter:n.setEventEmitter,trackComponentAttention:n.initComponent,record:t.sendMore,viewId:t.viewId,pageViewId:t.viewId})}.apply(t,[u,n,m,o,h,b,y,S,O]))||(e.exports=k)}.call(this)},3764:e=>{function t(e){this.name="RavenConfigError",this.message=e}t.prototype=new Error,t.prototype.constructor=t,e.exports=t},6277:(e,t,n)=>{var r=n(2839);e.exports={wrapMethod:function(e,t,n){var o=e[t],i=e;if(t in e){var a="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),s=r.safeJoin(e," "),c={level:a,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(s="Assertion failed: "+(r.safeJoin(e.slice(1)," ")||"console.assert"),c.extra.arguments=e.slice(1),n&&n(s,c)):n&&n(s,c),o&&Function.prototype.apply.call(o,i,e)}}}}},3014:(e,t,n)=>{var r=n(527),o=n(3777),i=n(8543),a=n(3764),s=n(2839),c=s.isErrorEvent,l=s.isDOMError,u=s.isDOMException,d=s.isError,p=s.isObject,f=s.isPlainObject,m=s.isUndefined,g=s.isFunction,h=s.isString,v=s.isArray,b=s.isEmptyObject,w=s.each,y=s.objectMerge,_=s.truncate,S=s.objectFrozen,E=s.hasKey,O=s.joinRegExp,P=s.urlencode,k=s.uuid4,C=s.htmlTreeAsString,A=s.isSameException,j=s.isSameStacktrace,x=s.parseUrl,T=s.fill,N=s.supportsFetch,D=s.supportsReferrerPolicy,I=s.serializeKeysForMessage,M=s.serializeException,L=s.sanitize,B=n(6277).wrapMethod,F="source protocol user pass host port path".split(" "),R=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function $(){return+new Date}var Z="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},H=Z.document,U=Z.navigator;function z(e,t){return g(t)?function(n){return t(n,e)}:t}function q(){for(var e in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!m(H),this._hasNavigator=!m(U),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:Z.SENTRY_RELEASE&&Z.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",referrerPolicy:D()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=Z.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=$(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=Z.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}q.prototype={VERSION:"3.27.2",debug:!1,TraceKit:r,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var o=n._globalOptions;t&&w(t,(function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:o[e]=t})),n.setDSN(e),o.ignoreErrors.push(/^Script error\.?$/),o.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),o.ignoreErrors=O(o.ignoreErrors),o.ignoreUrls=!!o.ignoreUrls.length&&O(o.ignoreUrls),o.whitelistUrls=!!o.whitelistUrls.length&&O(o.whitelistUrls),o.includePaths=O(o.includePaths),o.maxBreadcrumbs=Math.max(0,Math.min(o.maxBreadcrumbs||100,100));var i={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=o.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=y(i,a):!1!==a&&(a=i),o.autoBreadcrumbs=a;var s={tryCatch:!0},c=o.instrument;return"[object Object]"==={}.toString.call(c)?c=y(s,c):!1!==c&&(c=s),o.instrument=c,r.collectWindowErrors=!!o.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(r.report.subscribe((function(){e._handleOnErrorStackInfo.apply(e,arguments)})),e._globalOptions.captureUnhandledRejections&&e._attachPromiseRejectionHandler(),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this,n=t._parseDSN(e),r=n.path.lastIndexOf("/"),o=n.path.substr(1,r);t._dsn=e,t._globalKey=n.user,t._globalSecret=n.pass&&n.pass.substr(1),t._globalProject=n.path.substr(r+1),t._globalServer=t._getGlobalServer(n),t._globalEndpoint=t._globalServer+"/"+o+"api/"+t._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return g(e)&&(n=t||[],t=e,e={}),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){var r=this;if(m(t)&&!g(e))return e;if(g(e)&&(t=e,e=void 0),!g(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}function o(){var o=[],i=arguments.length,a=!e||e&&!1!==e.deep;for(n&&g(n)&&n.apply(this,arguments);i--;)o[i]=a?r.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,o)}catch(t){throw r._ignoreNextOnError(),r.captureException(t,e),t}}for(var i in t)E(t,i)&&(o[i]=t[i]);return o.prototype=t.prototype,t.__raven_wrapper__=o,o.__raven__=!0,o.__orig__=t,o},uninstall:function(){return r.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(e){this._logDebug("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),Z.addEventListener&&Z.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return Z.removeEventListener&&Z.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(e,t){if(t=y({trimHeadFrames:0},t||{}),c(e)&&e.error)e=e.error;else{if(l(e)||u(e)){var n=e.name||(l(e)?"DOMError":"DOMException"),o=e.message?n+": "+e.message:n;return this.captureMessage(o,y(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}if(d(e));else{if(!f(e))return this.captureMessage(e,y(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}));t=this._getCaptureExceptionOptionsFromPlainObject(t,e),e=new Error(t.message)}}this._lastCapturedException=e;try{var i=r.computeStackTrace(e);this._handleStackInfo(i,t)}catch(t){if(e!==t)throw t}return this},_getCaptureExceptionOptionsFromPlainObject:function(e,t){var n=Object.keys(t).sort(),r=y(e,{message:"Non-Error exception captured with keys: "+I(n),fingerprint:[i(n)],extra:e.extra||{}});return r.extra.__serialized__=M(t),r},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n,o=y({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var i=r.computeStackTrace(n),a=v(i.stack)&&i.stack[1];a&&"Raven.captureException"===a.func&&(a=i.stack[2]);var s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||t.stacktrace||""===o.message){o.fingerprint=null==o.fingerprint?e:o.fingerprint,(t=y({trimHeadFrames:0},t)).trimHeadFrames+=1;var c=this._prepareFrames(i,t);o.stacktrace={frames:c.reverse()}}return o.fingerprint&&(o.fingerprint=v(o.fingerprint)?o.fingerprint:[o.fingerprint]),this._send(o),this}}},captureBreadcrumb:function(e){var t=y({timestamp:$()/1e3},e);if(g(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(p(n)&&!b(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(o(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=z(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=z(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=z(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=Z.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(H){if(!(e=y({eventId:this.lastEventId(),dsn:this._dsn,user:this._globalContext.user||{}},e)).eventId)throw new a("Missing eventId");if(!e.dsn)throw new a("Missing DSN");var t=encodeURIComponent,n=[];for(var r in e)if("user"===r){var o=e.user;o.name&&n.push("name="+t(o.name)),o.email&&n.push("email="+t(o.email))}else n.push(t(r)+"="+t(e[r]));var i=this._getGlobalServer(this._parseDSN(e.dsn)),s=H.createElement("script");s.async=!0,s.src=i+"/api/embed/error-page/?"+n.join("&"),(H.head||H.body).appendChild(s)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout((function(){e._ignoreOnError-=1}))},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){for(r in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),H.createEvent?(n=H.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=H.createEventObject()).eventType=e,t)E(t,r)&&(n[r]=t[r]);if(H.createEvent)H.dispatchEvent(n);else try{H.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){var r;t._lastCapturedEvent=n;try{r=C(n.target)}catch(e){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}}},_keypressEventHandler:function(){var e=this;return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var o=e._keypressTimeout;o||e._breadcrumbEventHandler("input")(t),clearTimeout(o),e._keypressTimeout=setTimeout((function(){e._keypressTimeout=null}),1e3)}}},_captureUrlChange:function(e,t){var n=x(this._location.href),r=x(t),o=x(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===o.protocol&&n.host===o.host&&(e=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var e=this,t=e._wrappedBuiltIns;function n(t){return function(n,r){for(var o=new Array(arguments.length),i=0;i<o.length;++i)o[i]=arguments[i];var a=o[0];return g(a)&&(o[0]=e.wrap({mechanism:{type:"instrument",data:{function:t.name||"<anonymous>"}}},a)),t.apply?t.apply(this,o):t(o[0],o[1])}}var r=this._globalOptions.autoBreadcrumbs;function o(n){var o=Z[n]&&Z[n].prototype;o&&o.hasOwnProperty&&o.hasOwnProperty("addEventListener")&&(T(o,"addEventListener",(function(t){return function(o,i,a,s){try{i&&i.handleEvent&&(i.handleEvent=e.wrap({mechanism:{type:"instrument",data:{target:n,function:"handleEvent",handler:i&&i.name||"<anonymous>"}}},i.handleEvent))}catch(e){}var c,l,u;return r&&r.dom&&("EventTarget"===n||"Node"===n)&&(l=e._breadcrumbEventHandler("click"),u=e._keypressEventHandler(),c=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?l(e):"keypress"===t?u(e):void 0}}),t.call(this,o,e.wrap({mechanism:{type:"instrument",data:{target:n,function:"addEventListener",handler:i&&i.name||"<anonymous>"}}},i,c),a,s)}}),t),T(o,"removeEventListener",(function(e){return function(t,n,r,o){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,r,o)}}),t))}T(Z,"setTimeout",n,t),T(Z,"setInterval",n,t),Z.requestAnimationFrame&&T(Z,"requestAnimationFrame",(function(t){return function(n){return t(e.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},n))}}),t);for(var i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<i.length;a++)o(i[a])},_instrumentBreadcrumbs:function(){var e=this,t=this._globalOptions.autoBreadcrumbs,n=e._wrappedBuiltIns;function r(t,n){t in n&&g(n[t])&&T(n,t,(function(n){return e.wrap({mechanism:{type:"instrument",data:{function:t,handler:n&&n.name||"<anonymous>"}}},n)}))}if(t.xhr&&"XMLHttpRequest"in Z){var o=Z.XMLHttpRequest&&Z.XMLHttpRequest.prototype;T(o,"open",(function(t){return function(n,r){return h(r)&&-1===r.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}}),n),T(o,"send",(function(t){return function(){var n=this;function o(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var i=["onload","onerror","onprogress"],a=0;a<i.length;a++)r(i[a],n);return"onreadystatechange"in n&&g(n.onreadystatechange)?T(n,"onreadystatechange",(function(t){return e.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"}}},t,o)})):n.onreadystatechange=o,t.apply(this,arguments)}}),n)}t.xhr&&N()&&T(Z,"fetch",(function(t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var o,i=n[0],a="GET";if("string"==typeof i?o=i:"Request"in Z&&i instanceof Z.Request?(o=i.url,i.method&&(a=i.method)):o=""+i,-1!==o.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(a=n[1].method);var s={method:a,url:o,status_code:null};return t.apply(this,n).then((function(t){return s.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:s}),t})).catch((function(t){throw e.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),t}))}}),n),t.dom&&this._hasDocument&&(H.addEventListener?(H.addEventListener("click",e._breadcrumbEventHandler("click"),!1),H.addEventListener("keypress",e._keypressEventHandler(),!1)):H.attachEvent&&(H.attachEvent("onclick",e._breadcrumbEventHandler("click")),H.attachEvent("onkeypress",e._keypressEventHandler())));var i=Z.chrome,a=!(i&&i.app&&i.app.runtime)&&Z.history&&Z.history.pushState&&Z.history.replaceState;if(t.location&&a){var s=Z.onpopstate;Z.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),s)return s.apply(this,arguments)};var c=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};T(Z.history,"pushState",c,n),T(Z.history,"replaceState",c,n)}if(t.console&&"console"in Z&&console.log){var l=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};w(["debug","info","warn","error","log"],(function(e,t){B(console,t,l)}))}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],r=e[2];t[n]=r}},_restoreConsole:function(){for(var e in this._originalConsoleMethods)this._originalConsole[e]=this._originalConsoleMethods[e]},_drainPlugins:function(){var e=this;w(this._plugins,(function(t,n){var r=n[0],o=n[1];r.apply(e,[e].concat(o))}))},_parseDSN:function(e){var t=R.exec(e),n={},r=7;try{for(;r--;)n[F[r]]=t[r]||""}catch(t){throw new a("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(e,t)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,r=[];if(e.stack&&e.stack.length&&(w(e.stack,(function(t,o){var i=n._normalizeFrame(o,e.url);i&&r.push(i)})),t&&t.trimHeadFrames))for(var o=0;o<t.trimHeadFrames&&o<r.length;o++)r[o].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(e,t,n,r,o,i){var a,s=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(s))&&(o&&o.length?(n=o[0].filename||n,o.reverse(),a={frames:o}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var c=y({exception:{values:[{type:e,value:t,stacktrace:a}]},transaction:n},i),l=c.exception.values[0];null==l.type&&""===l.value&&(l.value="Unrecoverable error caught"),!c.exception.mechanism&&c.mechanism&&(c.exception.mechanism=c.mechanism,delete c.mechanism),c.exception.mechanism=y({type:"generic",handled:!0},c.exception.mechanism||{}),this._send(c)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=_(e.message,t)),e.exception){var n=e.exception.values[0];n.value=_(n.value,t)}var r=e.request;return r&&(r.url&&(r.url=_(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=_(r.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,n,r,o=["to","from","url"],i=0;i<e.values.length;++i)if((n=e.values[i]).hasOwnProperty("data")&&p(n.data)&&!S(n.data)){r=y({},n.data);for(var a=0;a<o.length;++a)t=o[a],r.hasOwnProperty(t)&&r[t]&&(r[t]=_(r[t],this._globalOptions.maxUrlLength));e.values[i].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&U.userAgent&&(e.headers={"User-Agent":U.userAgent}),Z.location&&Z.location.href&&(e.url=Z.location.href),this._hasDocument&&H.referrer&&(e.headers||(e.headers={}),e.headers.Referer=H.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&$()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?j(e.stacktrace,t.stacktrace):e.exception||t.exception?A(e.exception,t.exception):!e.fingerprint&&!t.fingerprint||Boolean(e.fingerprint&&t.fingerprint)&&JSON.stringify(e.fingerprint)===JSON.stringify(t.fingerprint))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=N()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=$()}}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),e.trimHeadFrames&&delete e.trimHeadFrames,(e=y(n,e)).tags=y(y({},this._globalContext.tags),e.tags),e.extra=y(y({},this._globalContext.extra),e.extra),e.extra["session:duration"]=$()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),e=this._sanitizeData(e),Object.keys(e).forEach((function(t){(null==e[t]||""===e[t]||b(e[t]))&&delete e[t]})),g(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!b(e)&&(g(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_sanitizeData:function(e){return L(e,this._globalOptions.sanitizeKeys)},_getUuid:function(){return k()},_sendProcessedPayload:function(e,t){var n=this,r=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(o.sentry_secret=this._globalSecret);var i=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:i?(i.type?i.type+": ":"")+i.value:e.message,event_id:e.event_id,level:e.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:o,data:e,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:e,src:a}),t&&t()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:e,src:a}),r=r||new Error("Raven send failed (no additional details provided)"),t&&t(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=e.url+"?"+P(e.auth),n=null,r={};if(e.options.headers&&(n=this._evaluateHash(e.options.headers)),e.options.fetchParameters&&(r=this._evaluateHash(e.options.fetchParameters)),N()){r.body=o(e.data);var i=y({},this._fetchDefaults),a=y(i,r);return n&&(a.headers=n),Z.fetch(t,a).then((function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var n=new Error("Sentry error code: "+t.status);n.request=t,e.onError&&e.onError(n)}})).catch((function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))}))}var s=Z.XMLHttpRequest&&new Z.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+s.status);t.request=s,e.onError(t)}}:(s=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(s.onload=e.onSuccess),e.onError&&(s.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=s,e.onError(t)})),s.open("POST",t),n&&w(n,(function(e,t){s.setRequestHeader(e,t)})),s.send(o(e.data))))},_evaluateHash:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="function"==typeof r?r():r}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){m(t)?delete this._globalContext[e]:this._globalContext[e]=y(this._globalContext[e]||{},t)}},q.prototype.setUser=q.prototype.setUserContext,q.prototype.setReleaseContext=q.prototype.setRelease,e.exports=q},6674:(e,t,n)=>{var r=n(3014),o="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},i=o.Raven,a=new r;a.noConflict=function(){return o.Raven=i,a},a.afterLoad(),e.exports=a,e.exports.Client=r},2839:(e,t,n)=>{var r=n(3777),o="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function i(e){return void 0===e}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(){if(!("fetch"in o))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function u(e,t){var n,r;if(i(e.length))for(n in e)p(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function d(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+""}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e){for(var t,n=[],r=0,o=e.length;r<o;r++)s(t=e[r])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function m(e){var t,n,r,o,i,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),(t=e.className)&&s(t))for(n=t.split(/\s+/),i=0;i<n.length;i++)a.push("."+n[i]);var c=["type","name","title","alt"];for(i=0;i<c.length;i++)r=c[i],(o=e.getAttribute(r))&&a.push("["+r+'="'+o+'"]');return a.join("")}function g(e,t){return!!(!!e^!!t)}function h(e,t){if(g(e,t))return!1;var n,r,o=e.frames,i=t.frames;if(void 0===o||void 0===i)return!1;if(o.length!==i.length)return!1;for(var a=0;a<o.length;a++)if(n=o[a],r=i[a],n.filename!==r.filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}var v=3,b=51200,w=40;function y(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function _(e){if("string"==typeof e){return d(e,40)}if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}function S(e,t){return 0===t?_(e):a(e)?Object.keys(e).reduce((function(n,r){return n[r]=S(e[r],t-1),n}),{}):Array.isArray(e)?e.map((function(e){return S(e,t-1)})):_(e)}e.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:i,isFunction:function(e){return"function"==typeof e},isPlainObject:a,isString:s,isArray:c,isEmptyObject:function(e){if(!a(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:l,supportsReferrerPolicy:function(){if(!l())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(e){return function(t,n){var r=e(t)||t;return n&&n(r)||r}},each:u,objectMerge:function(e,t){return t?(u(t,(function(t,n){e[t]=n})),e):e},truncate:d,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:p,joinRegExp:f,urlencode:function(e){var t=[];return u(e,(function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})),t.join("&")},uuid4:function(){var e=o.crypto||o.msCrypto;if(!i(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},htmlTreeAsString:function(e){for(var t,n=[],r=0,o=0,i=" > ".length;e&&r++<5&&!("html"===(t=m(e))||r>1&&o+n.length*i+t.length>=80);)n.push(t),o+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:m,isSameException:function(e,t){return!g(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&(n=e.stacktrace,r=t.stacktrace,(!i(n)||!i(r))&&h(e.stacktrace,t.stacktrace)));var n,r},isSameStacktrace:h,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}},fill:function(e,t,n,r){if(null!=e){var o=e[t];e[t]=n(o),e[t].__raven__=!0,e[t].__orig__=o,r&&r.push([e,t,o])}},safeJoin:function(e,t){if(!c(e))return"";for(var n=[],r=0;r<e.length;r++)try{n.push(String(e[r]))}catch(e){n.push("[value cannot be serialized]")}return n.join(t)},serializeException:function e(t,n,o){if(!a(t))return t;o="number"!=typeof(n="number"!=typeof n?v:n)?b:o;var i=S(t,n);return y(r(i))>o?e(t,n-1):i},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter((function(e){return"string"==typeof e}))).length)return"[object has no keys]";if(t="number"!=typeof t?w:t,e[0].length>=t)return e[0];for(var n=e.length;n>0;n--){var r=e.slice(0,n).join(", ");if(!(r.length>t))return n===e.length?r:r+""}return""},sanitize:function(e,t){if(!c(t)||c(t)&&0===t.length)return e;var n,o=f(t),i="********";try{n=JSON.parse(r(e))}catch(t){return e}return function e(t){return c(t)?t.map((function(t){return e(t)})):a(t)?Object.keys(t).reduce((function(n,r){return o.test(r)?n[r]=i:n[r]=e(t[r]),n}),{}):t}(n)}}},527:(e,t,n)=>{var r=n(2839),o={collectWindowErrors:!0,debug:!1},i="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},a=[].slice,s="?",c=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function l(){return"undefined"==typeof document||null==document.location?"":document.location.href}o.report=function(){var e,t,n=[],u=null,d=null,p=null;function f(e,t){var r=null;if(!t||o.collectWindowErrors){for(var i in n)if(n.hasOwnProperty(i))try{n[i].apply(null,[e].concat(a.call(arguments,2)))}catch(e){r=e}if(r)throw r}}function m(t,n,i,a,u){var d=r.isErrorEvent(u)?u.error:u,m=r.isErrorEvent(t)?t.message:t;if(p)o.computeStackTrace.augmentStackTraceWithInitialElement(p,n,i,m),g();else if(d&&r.isError(d))f(o.computeStackTrace(d),!0);else{var h,v={url:n,line:i,column:a},b=void 0;if("[object String]"==={}.toString.call(m))(h=m.match(c))&&(b=h[1],m=h[2]);v.func=s,f({name:b,message:m,url:l(),stack:[v]},!0)}return!!e&&e.apply(this,arguments)}function g(){var e=p,t=u;u=null,p=null,d=null,f.apply(null,[e,!1].concat(t))}function h(e,t){var n=a.call(arguments,1);if(p){if(d===e)return;g()}var r=o.computeStackTrace(e);if(p=r,d=e,u=n,setTimeout((function(){d===e&&g()}),r.incomplete?2e3:0),!1!==t)throw e}return h.subscribe=function(r){!function(){if(t)return;e=i.onerror,i.onerror=m,t=!0}(),n.push(r)},h.unsubscribe=function(e){for(var t=n.length-1;t>=0;--t)n[t]===e&&n.splice(t,1)},h.uninstall=function(){!function(){if(!t)return;i.onerror=e,t=!1,e=void 0}(),n=[]},h}(),o.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,n,r,o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,d=e.stack.split("\n"),p=[],f=(/^(.*) is undefined$/.exec(e.message),0),m=d.length;f<m;++f){if(n=o.exec(d[f])){var g=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=u.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:g?null:n[2],func:n[1]||s,args:g?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=i.exec(d[f]))r={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(d[f])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=c.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==f||n[5]||void 0===e.columnNumber||(p[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!r.func&&r.line&&(r.func=s),r.url&&"blob:"===r.url.substr(0,5)){var h=new XMLHttpRequest;if(h.open("GET",r.url,!1),h.send(null),200===h.status){var v=h.responseText||"",b=(v=v.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(b){var w=b[1];"~"===w.charAt(0)&&(w=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+w.slice(1)),r.url=w.slice(0,-4)}}}p.push(r)}return p.length?{name:e.name,message:e.message,url:l(),stack:p}:null}}function t(e,t,n,r){var o={url:t,line:n};if(o.url&&o.line){if(e.incomplete=!1,o.func||(o.func=s),e.stack.length>0&&e.stack[0].url===o.url){if(e.stack[0].line===o.line)return!1;if(!e.stack[0].line&&e.stack[0].func===o.func)return e.stack[0].line=o.line,!1}return e.stack.unshift(o),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,i){for(var a,c,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,d=[],p={},f=!1,m=n.caller;m&&!f;m=m.caller)if(m!==r&&m!==o.report){if(c={url:null,func:s,line:null,column:null},m.name?c.func=m.name:(a=u.exec(m.toString()))&&(c.func=a[1]),void 0===c.func)try{c.func=a.input.substring(0,a.input.indexOf("{"))}catch(e){}p[""+m]?f=!0:p[""+m]=!0,d.push(c)}i&&d.splice(0,i);var g={name:e.name,message:e.message,url:l(),stack:d};return t(g,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),g}function r(t,r){var i=null;r=null==r?0:+r;try{if(i=e(t))return i}catch(e){if(o.debug)throw e}try{if(i=n(t,r+1))return i}catch(e){if(o.debug)throw e}return{name:t.name,message:t.message,url:l()}}return r.augmentStackTraceWithInitialElement=t,r.computeStackTraceFromStackProp=e,r}(),e.exports=o},3777:(e,t)=>{function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function r(e,t){var r=[],o=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+o.slice(0,n(r,t)).join(".")+"]"}),function(i,a){if(r.length>0){var s=n(r,this);~s?r.splice(s+1):r.push(this),~s?o.splice(s,1/0,i):o.push(i),~n(r,a)&&(a=t.call(this,i,a))}else r.push(a);return null==e?a instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(a):a:e.call(this,i,a)}}(e.exports=function(e,t,n,o){return JSON.stringify(e,r(t,o),n)}).getSerialize=r},8543:e=>{function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,n,r,o,i,a){return t((s=t(t(n,e),t(o,a)))<<(c=i)|s>>>32-c,r);var s,c}function r(e,t,r,o,i,a,s){return n(t&r|~t&o,e,t,i,a,s)}function o(e,t,r,o,i,a,s){return n(t&o|r&~o,e,t,i,a,s)}function i(e,t,r,o,i,a,s){return n(t^r^o,e,t,i,a,s)}function a(e,t,r,o,i,a,s){return n(r^(t|~o),e,t,i,a,s)}function s(e,n){var s,c,l,u,d;e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var p=1732584193,f=-271733879,m=-1732584194,g=271733878;for(s=0;s<e.length;s+=16)c=p,l=f,u=m,d=g,p=r(p,f,m,g,e[s],7,-680876936),g=r(g,p,f,m,e[s+1],12,-389564586),m=r(m,g,p,f,e[s+2],17,606105819),f=r(f,m,g,p,e[s+3],22,-1044525330),p=r(p,f,m,g,e[s+4],7,-176418897),g=r(g,p,f,m,e[s+5],12,1200080426),m=r(m,g,p,f,e[s+6],17,-1473231341),f=r(f,m,g,p,e[s+7],22,-45705983),p=r(p,f,m,g,e[s+8],7,1770035416),g=r(g,p,f,m,e[s+9],12,-1958414417),m=r(m,g,p,f,e[s+10],17,-42063),f=r(f,m,g,p,e[s+11],22,-1990404162),p=r(p,f,m,g,e[s+12],7,1804603682),g=r(g,p,f,m,e[s+13],12,-40341101),m=r(m,g,p,f,e[s+14],17,-1502002290),p=o(p,f=r(f,m,g,p,e[s+15],22,1236535329),m,g,e[s+1],5,-165796510),g=o(g,p,f,m,e[s+6],9,-1069501632),m=o(m,g,p,f,e[s+11],14,643717713),f=o(f,m,g,p,e[s],20,-373897302),p=o(p,f,m,g,e[s+5],5,-701558691),g=o(g,p,f,m,e[s+10],9,38016083),m=o(m,g,p,f,e[s+15],14,-660478335),f=o(f,m,g,p,e[s+4],20,-405537848),p=o(p,f,m,g,e[s+9],5,568446438),g=o(g,p,f,m,e[s+14],9,-1019803690),m=o(m,g,p,f,e[s+3],14,-187363961),f=o(f,m,g,p,e[s+8],20,1163531501),p=o(p,f,m,g,e[s+13],5,-1444681467),g=o(g,p,f,m,e[s+2],9,-51403784),m=o(m,g,p,f,e[s+7],14,1735328473),p=i(p,f=o(f,m,g,p,e[s+12],20,-1926607734),m,g,e[s+5],4,-378558),g=i(g,p,f,m,e[s+8],11,-2022574463),m=i(m,g,p,f,e[s+11],16,1839030562),f=i(f,m,g,p,e[s+14],23,-35309556),p=i(p,f,m,g,e[s+1],4,-1530992060),g=i(g,p,f,m,e[s+4],11,1272893353),m=i(m,g,p,f,e[s+7],16,-155497632),f=i(f,m,g,p,e[s+10],23,-1094730640),p=i(p,f,m,g,e[s+13],4,681279174),g=i(g,p,f,m,e[s],11,-358537222),m=i(m,g,p,f,e[s+3],16,-722521979),f=i(f,m,g,p,e[s+6],23,76029189),p=i(p,f,m,g,e[s+9],4,-640364487),g=i(g,p,f,m,e[s+12],11,-421815835),m=i(m,g,p,f,e[s+15],16,530742520),p=a(p,f=i(f,m,g,p,e[s+2],23,-995338651),m,g,e[s],6,-198630844),g=a(g,p,f,m,e[s+7],10,1126891415),m=a(m,g,p,f,e[s+14],15,-1416354905),f=a(f,m,g,p,e[s+5],21,-57434055),p=a(p,f,m,g,e[s+12],6,1700485571),g=a(g,p,f,m,e[s+3],10,-1894986606),m=a(m,g,p,f,e[s+10],15,-1051523),f=a(f,m,g,p,e[s+1],21,-2054922799),p=a(p,f,m,g,e[s+8],6,1873313359),g=a(g,p,f,m,e[s+15],10,-30611744),m=a(m,g,p,f,e[s+6],15,-1560198380),f=a(f,m,g,p,e[s+13],21,1309151649),p=a(p,f,m,g,e[s+4],6,-145523070),g=a(g,p,f,m,e[s+11],10,-1120210379),m=a(m,g,p,f,e[s+2],15,718787259),f=a(f,m,g,p,e[s+9],21,-343485551),p=t(p,c),f=t(f,l),m=t(m,u),g=t(g,d);return[p,f,m,g]}function c(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function l(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function u(e){var t,n,r="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function d(e){return unescape(encodeURIComponent(e))}function p(e){return function(e){return c(s(l(e),8*e.length))}(d(e))}function f(e,t){return function(e,t){var n,r,o=l(e),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=s(o,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=s(i.concat(l(t)),512+8*t.length),c(s(a.concat(r),640))}(d(e),d(t))}e.exports=function(e,t,n){return t?n?f(t,e):u(f(t,e)):n?p(e):u(p(e))}},5355:(e,t,n)=>{n.r(t),n.d(t,{getCLS:()=>w,getFCP:()=>h,getFID:()=>k,getLCP:()=>A,getTTFB:()=>j});var r,o,i,a,s=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},c=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},l=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},u=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},d=function(e,t,n){var r;return function(o){t.value>=0&&(o||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},p=-1,f=function(){return"hidden"===document.visibilityState?0:1/0},m=function(){l((function(e){var t=e.timeStamp;p=t}),!0)},g=function(){return p<0&&(p=f(),m(),u((function(){setTimeout((function(){p=f(),m()}),0)}))),{get firstHiddenTime(){return p}}},h=function(e,t){var n,r=g(),o=s("FCP"),i=function(e){"first-contentful-paint"===e.name&&(l&&l.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=e.startTime,o.entries.push(e),n(!0)))},a=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],l=a?null:c("paint",i);(a||l)&&(n=d(e,o,t),a&&i(a),u((function(r){o=s("FCP"),n=d(e,o,t),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-r.timeStamp,n(!0)}))}))})))},v=!1,b=-1,w=function(e,t){v||(h((function(e){b=e.value})),v=!0);var n,r=function(t){b>-1&&e(t)},o=s("CLS",0),i=0,a=[],p=function(e){if(!e.hadRecentInput){var t=a[0],r=a[a.length-1];i&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e]),i>o.value&&(o.value=i,o.entries=a,n())}},f=c("layout-shift",p);f&&(n=d(r,o,t),l((function(){f.takeRecords().map(p),n(!0)})),u((function(){i=0,b=-1,o=s("CLS",0),n=d(r,o,t)})))},y={passive:!0,capture:!0},_=new Date,S=function(e,t){r||(r=t,o=e,i=new Date,P(removeEventListener),E())},E=function(){if(o>=0&&o<i-_){var e={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+o};a.forEach((function(t){t(e)})),a=[]}},O=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){S(e,t),o()},r=function(){o()},o=function(){removeEventListener("pointerup",n,y),removeEventListener("pointercancel",r,y)};addEventListener("pointerup",n,y),addEventListener("pointercancel",r,y)}(t,e):S(t,e)}},P=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,O,y)}))},k=function(e,t){var n,i=g(),p=s("FID"),f=function(e){e.startTime<i.firstHiddenTime&&(p.value=e.processingStart-e.startTime,p.entries.push(e),n(!0))},m=c("first-input",f);n=d(e,p,t),m&&l((function(){m.takeRecords().map(f),m.disconnect()}),!0),m&&u((function(){var i;p=s("FID"),n=d(e,p,t),a=[],o=-1,r=null,P(addEventListener),i=f,a.push(i),E()}))},C={},A=function(e,t){var n,r=g(),o=s("LCP"),i=function(e){var t=e.startTime;t<r.firstHiddenTime&&(o.value=t,o.entries.push(e),n())},a=c("largest-contentful-paint",i);if(a){n=d(e,o,t);var p=function(){C[o.id]||(a.takeRecords().map(i),a.disconnect(),C[o.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,p,{once:!0,capture:!0})})),l(p,!0),u((function(r){o=s("LCP"),n=d(e,o,t),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-r.timeStamp,C[o.id]=!0,n(!0)}))}))}))}},j=function(e){var t,n=s("TTFB");t=function(){try{var t=performance.getEntriesByType("navigation")[0]||function(){var e=performance.timing,t={entryType:"navigation",startTime:0};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();if(n.value=n.delta=t.responseStart,n.value<0||n.value>performance.now())return;n.entries=[t],e(n)}catch(e){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("load",(function(){return setTimeout(t,0)}))}},5296:function(e,t,n){var r;!function(t){function o(){}var i=o.prototype,a=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}function l(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&l(e.listener)}i.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},i.addListener=function(e,t){if(!l(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),o="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],t)&&r[n].push(o?t:{listener:t,once:!1});return this},i.on=c("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=c("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1!==(n=s(o[r],t))&&o[r].splice(n,1);return this},i.off=c("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var r,o,i=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)i.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?i.call(this,r,o):a.call(this,r,o));return this},i.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},i.removeAllListeners=c("removeEvent"),i.emitEvent=function(e,t){var n,r,o,i,a=this.getListenersAsObject(e);for(i in a)if(a.hasOwnProperty(i))for(n=a[i].slice(0),o=0;o<n.length;o++)!0===(r=n[o]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},i.trigger=c("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=a,o},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:this||{})},125:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(363).Z.Symbol},4434:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(125),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r.Z?r.Z.toStringTag:void 0;const c=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o};var l=Object.prototype.toString;const u=function(e){return l.call(e)};var d="[object Null]",p="[object Undefined]",f=r.Z?r.Z.toStringTag:void 0;const m=function(e){return null==e?void 0===e?p:d:f&&f in Object(e)?c(e):u(e)}},363:(e,t,n)=>{n.d(t,{Z:()=>i});const r="object"==typeof global&&global&&global.Object===Object&&global;var o="object"==typeof self&&self&&self.Object===Object&&self;const i=r||o||Function("return this")()},7697:(e,t,n)=>{n.d(t,{Z:()=>r});const r=Array.isArray},0:(e,t,n)=>{n.d(t,{Z:()=>r});const r=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2974:(e,t,n)=>{n.d(t,{Z:()=>r});const r=function(e){return null!=e&&"object"==typeof e}},944:(e,t,n)=>{n.d(t,{Z:()=>ae});var r=n(4434),o=n(0),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";const l=function(e){if(!(0,o.Z)(e))return!1;var t=(0,r.Z)(e);return t==a||t==s||t==i||t==c};var u=n(363);const d=u.Z["__core-js_shared__"];var p,f=(p=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"";const m=function(e){return!!f&&f in e};var g=Function.prototype.toString;const h=function(e){if(null!=e){try{return g.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var v=/^\[object .+?Constructor\]$/,b=Function.prototype,w=Object.prototype,y=b.toString,_=w.hasOwnProperty,S=RegExp("^"+y.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const E=function(e){return!(!(0,o.Z)(e)||m(e))&&(l(e)?S:v).test(h(e))};const O=function(e,t){return null==e?void 0:e[t]};const P=function(e,t){var n=O(e,t);return E(n)?n:void 0};const k=P(Object,"create");const C=function(){this.__data__=k?k(null):{},this.size=0};const A=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var j="__lodash_hash_undefined__",x=Object.prototype.hasOwnProperty;const T=function(e){var t=this.__data__;if(k){var n=t[e];return n===j?void 0:n}return x.call(t,e)?t[e]:void 0};var N=Object.prototype.hasOwnProperty;const D=function(e){var t=this.__data__;return k?void 0!==t[e]:N.call(t,e)};var I="__lodash_hash_undefined__";const M=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=k&&void 0===t?I:t,this};function L(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}L.prototype.clear=C,L.prototype.delete=A,L.prototype.get=T,L.prototype.has=D,L.prototype.set=M;const B=L;const F=function(){this.__data__=[],this.size=0};const R=function(e,t){return e===t||e!=e&&t!=t};const $=function(e,t){for(var n=e.length;n--;)if(R(e[n][0],t))return n;return-1};var Z=Array.prototype.splice;const H=function(e){var t=this.__data__,n=$(t,e);return!(n<0)&&(n==t.length-1?t.pop():Z.call(t,n,1),--this.size,!0)};const U=function(e){var t=this.__data__,n=$(t,e);return n<0?void 0:t[n][1]};const z=function(e){return $(this.__data__,e)>-1};const q=function(e,t){var n=this.__data__,r=$(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function G(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}G.prototype.clear=F,G.prototype.delete=H,G.prototype.get=U,G.prototype.has=z,G.prototype.set=q;const V=G;const W=P(u.Z,"Map");const J=function(){this.size=0,this.__data__={hash:new B,map:new(W||V),string:new B}};const K=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const Y=function(e,t){var n=e.__data__;return K(t)?n["string"==typeof t?"string":"hash"]:n.map};const Q=function(e){var t=Y(this,e).delete(e);return this.size-=t?1:0,t};const X=function(e){return Y(this,e).get(e)};const ee=function(e){return Y(this,e).has(e)};const te=function(e,t){var n=Y(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ne.prototype.clear=J,ne.prototype.delete=Q,ne.prototype.get=X,ne.prototype.has=ee,ne.prototype.set=te;const re=ne;var oe="Expected a function";function ie(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(oe);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(ie.Cache||re),n}ie.Cache=re;const ae=ie}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return o[e].call(n.exports,n,n.exports,a),n.exports}a.m=o,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);a.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,a.d(o,i),o},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>({322:"32fb5087f1da90cbfe86",501:"5812159b2b7b1112554e",942:"a85f464f6eb4948d6970"}[e]+"/graun."+{322:"Prebid.js",501:"consentless",942:"elements-manager"}[e]+".commercial.js"),a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="@guardian/commercial-bundle:",a.l=(e,t,o,i)=>{if(n[e])n[e].push(t);else{var s,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+o){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+o),s.src=e),n[e]=[t];var p=(t,r)=>{s.onerror=s.onload=null,clearTimeout(f);var o=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(r))),t)return t(r)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e+"../"})(),(()=>{var e={364:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=a.p+a.u(t),s=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,s,c]=n,l=0;if(i.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(c)c(a)}for(t&&t(n);l<i.length;l++)o=i[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunk_guardian_commercial_bundle=self.webpackChunk_guardian_commercial_bundle||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{var e=a(4586),t=a(813),n=a(582),r=a(6479),o=a(435);(0,t.Uc)((e=>{const n=(0,t.Nl)("teads",e),r=(0,o.e)({name:"_tfpvi"});!n&&r&&(document.cookie="_tfpvi=;path=/")}));var i=a(2233),s=a(6301),c=a(7232),l=a(4845);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=(e,t,n)=>{window.console.warn("Caught error.",t.stack),(0,l.e)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({module:e},n),!1)},f=(e,t,n)=>{const r=(e=>{let t;try{e()}catch(e){t=(0,l.E)(e)}return t})(t);r&&p(e,r,n)},m=(e,t)=>{e.forEach((([e,n])=>f(e,n,t)))};var g=a(2388);var h=a(8394),v=a(1565);const b={UK:"GB",US:"US",AU:"AU"},w="GU_geo_country",y="gu.geo.override";let _;const S=()=>{const e=window.guardian.config.page.edition,t=h.t.local.get(y),n=(0,v.H)(t)?t:null;return _??n??(0,o.e)({name:w,shouldMemoize:!0})??((e="UK")=>b[e])(e)},E={GBPCountries:{name:"United Kingdom",currency:"GBP",countries:["GB","FK","GI","GG","IM","JE","SH"],supportInternationalisationId:"uk"},UnitedStates:{name:"United States",currency:"USD",countries:["US"],supportInternationalisationId:"us"},AUDCountries:{name:"Australia",currency:"AUD",countries:["AU","KI","NR","NF","TV"],supportInternationalisationId:"au"},EURCountries:{name:"Europe",currency:"EUR",countries:["AD","AL","AT","BA","BE","BG","BL","CH","CY","CZ","DE","DK","EE","ES","FI","FO","FR","GF","GL","GP","GR","HR","HU","IE","IT","LI","LT","LU","LV","MC","ME","MF","IS","MQ","MT","NL","NO","PF","PL","PM","PT","RE","RO","RS","SE","SI","SJ","SK","SM","TF","TR","WF","YT","VA","AX"],supportInternationalisationId:"eu"},International:{name:"International",currency:"USD",countries:["AE","AF","AG","AI","AM","AO","AQ","AR","AS","AW","AZ","BB","BD","BF","BH","BI","BJ","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CC","CD","CF","CG","CI","CL","CM","CN","CO","CR","CU","CV","CW","CX","DJ","DM","DO","DZ","EC","EG","EH","ER","ET","FJ","FM","GA","GD","GE","GH","GM","GN","GQ","GS","GT","GU","GW","GY","HK","HM","HN","HT","ID","IL","IN","IO","IQ","IR","JM","JO","JP","KE","KG","KH","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LK","LR","LS","LY","MA","MD","MG","MH","MK","ML","MM","MN","MO","MP","MR","MS","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NG","NI","NP","NU","OM","PA","PE","PG","PH","PK","PN","PR","PS","PW","PY","QA","RU","RW","SA","SB","SC","SD","SG","SL","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TG","TH","TJ","TK","TL","TM","TN","TO","TT","TW","TZ","UA","UG","UM","UY","UZ","VC","VE","VG","VI","VN","VU","WS","YE","ZA","ZM","ZW"],supportInternationalisationId:"int"},NZDCountries:{name:"New Zealand",currency:"NZD",countries:["NZ","CK"],supportInternationalisationId:"nz"},Canada:{name:"Canada",currency:"CAD",countries:["CA"],supportInternationalisationId:"ca"}},O=e=>Object.keys(E).find((t=>E[t].countries.includes(e)))??"International",P=/(support.theguardian.com)\/(contribute|subscribe)/,k=e=>{const t=(e=>E[O(e)].supportInternationalisationId)(S());return e.replace(P,((e,n,r)=>`${n}/${t.toLowerCase()}/${r}`))};var C=a(5598);const A=new URLSearchParams;A.set("acquisitionData",JSON.stringify({componentType:"ACQUISITIONS_OTHER",source:"GUARDIAN_WEB",campaignCode:"shady_pie_open_2019",componentId:"shady_pie_open_2019"})),A.set("INTCMP","shady_pie_open_2019");const j=`\n<div class="contributions__adblock">\n    <a href="${`${k("https://support.theguardian.com/subscribe")}/digital?${A.toString()}`}">\n        <img src="https://uploads.guim.co.uk/2020/10/02/Digisubs_MPU_c1_my_opt.png" width="300" alt="" />\n    </a>\n</div>\n`,x=()=>!(0,C.shouldHideSupportMessaging)()&&!(window.guardian.config.page.shouldHideReaderRevenue??"paid-content"===window.guardian.config.page.sponsorshipType)&&!window.guardian.config.page.hasShowcaseMainElement,T=()=>x()?g.Z.measure((()=>document.querySelector(".js-aside-slot-container"))).then((e=>{if(e)return g.Z.mutate((()=>{e.insertAdjacentHTML("beforeend",j)}))})):Promise.resolve();var N=/\s/;const D=function(e){for(var t=e.length;t--&&N.test(e.charAt(t)););return t};var I=/^\s+/;const M=function(e){return e?e.slice(0,D(e)+1).replace(I,""):e};var L=a(0),B=a(4434),F=a(2974),R="[object Symbol]";const $=function(e){return"symbol"==typeof e||(0,F.Z)(e)&&(0,B.Z)(e)==R};var Z=NaN,H=/^[-+]0x[0-9a-f]+$/i,U=/^0b[01]+$/i,z=/^0o[0-7]+$/i,q=parseInt;const G=function(e){if("number"==typeof e)return e;if($(e))return Z;if((0,L.Z)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,L.Z)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=M(e);var n=U.test(e);return n||z.test(e)?q(e.slice(2),n?2:8):H.test(e)?Z:+e};var V=1/0,W=17976931348623157e292;const J=function(e){return e?(e=G(e))===V||e===-V?(e<0?-1:1)*W:e==e?e:0:0===e?e:0};const K=function(e){var t=J(e),n=t%1;return t==t?n?t-n:t:0};var Y="Expected a function";const Q=function(e,t){var n;if("function"!=typeof t)throw new TypeError(Y);return e=K(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}};const X=function(e){return Q(2,e)};var ee=a(8036),te=a(6427);const ne=[te.F.adSlotSelector,".top-banner-ad-container"],re=()=>ne.reduce(((e,t)=>[...e,...Array.from(document.querySelectorAll(t))]),[]),oe=e=>"none"===window.getComputedStyle(e).display,ie=e=>g.Z.mutate((()=>e.forEach((e=>e.remove())))),ae=()=>(0,i.Ye)(c.$,"variant")?Promise.resolve():ie(re()),se=X((()=>ie(re().filter(oe)))),ce=X((()=>ee.d.adFree?ae():Promise.resolve())),le=e=>e in te.F.advertIds?te.F.adverts[te.F.advertIds[e]]:null;const ue=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};var de=a(125),pe="[object Arguments]";const fe=function(e){return(0,F.Z)(e)&&(0,B.Z)(e)==pe};var me=Object.prototype,ge=me.hasOwnProperty,he=me.propertyIsEnumerable;const ve=fe(function(){return arguments}())?fe:function(e){return(0,F.Z)(e)&&ge.call(e,"callee")&&!he.call(e,"callee")};var be=a(7697),we=de.Z?de.Z.isConcatSpreadable:void 0;const ye=function(e){return(0,be.Z)(e)||ve(e)||!!(we&&e&&e[we])};const _e=function e(t,n,r,o,i){var a=-1,s=t.length;for(r||(r=ye),i||(i=[]);++a<s;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,o,i):ue(i,c):o||(i[i.length]=c)}return i};const Se=function(e){return(null==e?0:e.length)?_e(e,1):[]};var Ee=a(6790),Oe=a(2710),Pe=a(5206);let ke;const Ce=()=>(ke=ke??S(),ke),Ae=()=>"GB"===Ce(),je=()=>"US"===Ce(),xe=()=>"CA"===Ce(),Te=()=>je()||xe(),Ne=()=>"AU"===Ce()||"NZ"===Ce(),De=()=>!Ae()&&!Te()&&!Ne(),Ie={},Me=(e,t)=>{const n=Ie[t]??(Ie[t]=new RegExp(`${t}$`));return e.replace(n,"")},Le={},Be=(e,t)=>Boolean(e.find((e=>e[0]===t[0]&&e[1]===t[1]))),Fe=e=>((e,t)=>{const n=Le[t]??(Le[t]=new RegExp(`^${t}`));return e.replace(n,"")})(e,"dfp-ad--"),Re=t=>Be(t,(0,e.PH)(300,250)),$e=t=>Be(t,(0,e.PH)(728,90)),Ze=t=>Re(t)||(t=>Be(t,(0,e.PH)(300,600)))(t),He=t=>$e(t)||(t=>Be(t,(0,e.PH)(970,250)))(t),Ue=()=>{switch((0,Oe.vv)()){case"mobile":case"mobileMedium":case"mobileLandscape":default:return"M";case"phablet":case"tablet":return"T";case"desktop":case"leftCol":case"wide":return"D"}},ze=e=>Re(e),qe=X((()=>window.location.hash.includes("#mobile-sticky")||!!window.guardian.config.switches.mobileStickyLeaderboard&&(0,Oe.qZ)({min:"mobile",max:"mobileLandscape"})&&(Te()||Ne())&&"Article"===window.guardian.config.page.contentType&&!window.guardian.config.page.isHosted)),Ge=e=>Me(Me(e,"--mobile"),"Mobile"),Ve=window.location.hash.includes("#only-a9"),We=(e,t,n)=>{const r=(e=>Object.keys(e).filter((e=>"inline"!==e)))(n),o=(i=r,a=e.node.dataset.name,i.some((e=>e===a))?a:a?.includes("inline")?"inline":void 0);var i,a;if(!o)return[];const s=n[o][t];return!s||s.length<1?[]:[{key:o,sizes:s}]},Je=(t,n=(e=>[e]))=>{const r=(()=>{switch(Ue()){case"M":return"mobile";case"T":return"tablet";default:return"desktop"}})(),o=We(t,r,(()=>{const{contentType:t,hasShowcaseMainElement:n}=window.guardian.config.page,r="Article"===t,o="Crossword"===t,i=r&&window.guardian.config.switches.extendedMostPopular;return{right:{desktop:n?[e.ZN.mpu]:[e.ZN.halfPage,e.ZN.mpu],tablet:n?[e.ZN.mpu]:[e.ZN.halfPage,e.ZN.mpu],mobile:n?[e.ZN.mpu]:[e.ZN.halfPage,e.ZN.mpu]},"top-above-nav":{desktop:[e.ZN.billboard,e.ZN.leaderboard],tablet:[e.ZN.leaderboard],mobile:[e.ZN.mpu]},inline:{desktop:r?[e.ZN.skyscraper,e.ZN.halfPage,e.ZN.mpu]:[e.ZN.mpu],tablet:[e.ZN.mpu],mobile:[e.ZN.mpu]},inline1:{desktop:r?[e.ZN.mpu,e.ZN.outstreamDesktop]:[e.ZN.mpu],tablet:r?[e.ZN.mpu,e.ZN.outstreamDesktop]:[e.ZN.mpu],mobile:r?[e.ZN.outstreamMobile,e.ZN.mpu,e.ZN.portraitInterstitial]:[e.ZN.mpu]},inline2:{desktop:r?[e.ZN.skyscraper,e.ZN.halfPage,e.ZN.mpu]:[e.ZN.mpu],tablet:[e.ZN.mpu],mobile:r?[e.ZN.mpu,e.ZN.portraitInterstitial]:[e.ZN.mpu]},mostpop:{desktop:i?[e.ZN.halfPage,e.ZN.mpu]:[e.ZN.mpu],tablet:i?[e.ZN.halfPage,e.ZN.mpu,e.ZN.leaderboard]:[e.ZN.mpu],mobile:[e.ZN.mpu]},comments:{desktop:[e.ZN.skyscraper,e.ZN.mpu,e.ZN.halfPage]},banner:{desktop:[(0,e.PH)(88,70),e.ZN.leaderboard,e.ZN.cascade,(0,e.PH)(900,250),e.ZN.billboard]},"mobile-sticky":{mobile:qe()&&window.guardian.config.switches.mobileStickyPrebid?[e.ZN.mobilesticky]:[]},"crossword-banner":{desktop:o?[e.ZN.leaderboard]:[],tablet:o?[e.ZN.leaderboard]:[]}}})());return o.map(((e=[])=>({key:t,sizes:n})=>"inline"!==t?{key:t,sizes:n}:{key:t,sizes:n.filter((([t,n])=>e.some((e=>t===e.width&&n===e.height))))})(t.sizes[r])).map(n).reduce(((e,t)=>e.concat(t)),[])};class Ke{slotID;slotName;sizes;constructor(e,t){this.slotID=e.id,this.slotName=window.guardian.config.page.adUnit,this.sizes=t.sizes.map((e=>Array.from(e)))}}let Ye=!1,Qe=Promise.resolve();const Xe=()=>{!Ye&&window.apstag&&(Ye=!0,window.apstag.init({pubID:window.guardian.config.page.a9PublisherId,adServer:"googletag",bidTimeout:1500}))},et=async(e,t)=>{if(!Ye)return Qe;if(!te.F.hbImpl.a9)return Qe;const n=Se(e.map((e=>Je(e,t).map((t=>new Ke(e,t))))));return 0===n.length||(Qe=Qe.then((()=>new Promise((e=>{window.apstag?.fetchBids({slots:n},(()=>{window.googletag.cmd.push((()=>{window.apstag?.setDisplayBids(),e()}))}))})))).catch(Ee.Z)),Qe},tt=X((e=>{return t={sens:e.sens,pt1:e.url,pt2:e.edition,pt3:e.ct,pt4:e.p,pt5:e.k,pt6:e.su,pt7:e.bp,pt9:[e.pv,e.co,e.tn].join("|"),permutive:e.permutive},Object.entries(t).reduce(((e,t)=>{const[n,r]=t;return r?((0,v.H)(r)&&(e[n]=r),Array.isArray(r)&&r.length>0&&r.some(Boolean)&&r.every(v.H)&&(e[n]=r.filter(Boolean)),e):e}),{});var t})),nt=X((e=>(e=>{const t=Object.entries(e).map((e=>{const[t,n]=e;return Array.isArray(n)?n.map((e=>`${t}=${e}`)):`${t}=${n}`}));return Array.prototype.concat.apply([],t).join(",")})(tt(e)))),rt=t=>{const{page:r}=window.guardian.config,o=(0,e.lL)({adFree:ee.d.adFree,clientSideParticipations:(0,i.In)(),consentState:t});return r.appNexusPageTargeting=nt(o),r.pageAdTargeting=o,(0,n.c)("commercial","pageTargeting object:",o),o};function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const st=e=>{const t="M"===Ue()?"M":"D",n=window.guardian.config.page.section||window.guardian.config.page.sectionName.replace(/ /g,"-"),r=(e=>e.length>0?e.reduce(((e,t)=>e[0]>=t[0]&&e[1]>=t[1]?e:t)):null)(e);if(r)return`${t}${n.toLowerCase()}${r.join("x")}`},ct=e=>{if(Ne())return"11016434";const t="9251752";switch(Ue()){case"D":return Ze(e)?"9251752":He(e)?"9926678":t;case"M":return Re(e)?"4298191":t;case"T":return Re(e)?"4371641":$e(e)?"4371640":t;default:return t}},lt="Article"===window.guardian.config.page.contentType,ut="D"===Ue()&&lt,dt=(e,t)=>{switch(Ge(e)){case"dfp-ad--inline1":return"2960";case"dfp-ad--inline2":return t?"3826":"3827";case"dfp-ad--inline3":return t?"3828":"3829";case"dfp-ad--inline4":return t?"3830":"3831";case"dfp-ad--inline5":return t?"3832":"3833";case"dfp-ad--inline6":return t?"3834":"3835";case"dfp-ad--inline7":return t?"3836":"3837";case"dfp-ad--inline8":return t?"3838":"3839";case"dfp-ad--inline9":return t?"3840":"3841";case"dfp-ad--mostpop":return"2961";case"dfp-ad--right":return"2962";case"dfp-ad--top-above-nav":return"2963";case"dfp-ad--comments":return"3840";case"dfp-ad--mobile-sticky":return"8519";default:return e.startsWith("dfp-ad--inline")?t?"3840":"3841":((0,n.c)("commercial",`PREBID: Failed to get TrustX ad unit for slot ${e}.`),"")}},pt=()=>{const e=window.guardian.config.page.pbIndexSites.find((e=>e.bp===Ue()));return e?.id?e.id.toString():""},ft=e=>{if(Ae())switch(Ue()){case"D":return Ze(e)?1116396:He(e)?1116397:-1;case"M":return Ze(e)?1116400:-1;case"T":return Ze(e)?1116398:He(e)?1116399:-1;default:return-1}if(De())switch(Ue()){case"D":return Ze(e)?1116420:He(e)?1116421:-1;case"M":return Ze(e)?1116424:-1;case"T":return Ze(e)?1116422:He(e)?1116423:-1;default:return-1}return-1},mt=()=>Ae()?"D"===Ue()?22526482:-1:De()&&"D"===Ue()?22526483:-1,gt=e=>{const t=(n=Ge(e),Me(n,"([2-9]|\\d{2,})"));var n;return t&&(t.endsWith("mostpop")||t.endsWith("comments")||t.endsWith("inline1")||t.endsWith("inline")&&!ut)?{w:300,h:250}:{}},ht=e=>{switch(Ue()){case"D":return Ze(e)?20943665:He(e)?20943666:20943668;case"M":return Ze(e)?20943669:20943670;case"T":return Ze(e)?20943671:He(e)?20943672:20943674;default:return-1}},vt=(t,n)=>$e(n)?"theguardian_topbanner_728x90_prebid":Re(n)?lt?"theguardian_article_300x250_prebid":"theguardian_sectionfront_300x250_prebid":(t=>Be(t,(0,e.PH)(320,50)))(n)?"theguardian_320x50_HDX":(console.log(`PREBID: Failed to get TripleLift ad unit for slot ${t}.`),""),bt=()=>Object.keys((0,Pe.Bv)()).length>0,wt=e=>({name:"and",switchName:"prebidAppnexus",bidParams:(t,n)=>((e,t)=>{if(Ne()&&window.guardian.config.switches.prebidAppnexusInvcode){const n=st(e);if(n)return{invCode:n,member:"7012",keywords:it({invc:[n]},tt(t))}}return{placementId:ct(e),keywords:tt(t)}})(n,e)}),yt=e=>({name:"oxd",switchName:"prebidOpenx",bidParams:()=>Te()?{delDomain:"guardian-us-d.openx.net",unit:"540279544",customParams:tt(e)}:Ne()?{delDomain:"guardian-aus-d.openx.net",unit:"540279542",customParams:tt(e)}:{delDomain:"guardian-d.openx.net",unit:"540279541",customParams:tt(e)}}),_t=e=>({name:"ozone",switchName:"prebidOzone",bidParams:()=>({publisherId:"OZONEGMG0001",siteId:"4204204209",placementId:je()?"1420436308":"0420420500",customData:[{settings:{},targeting:tt(e)}],ozoneData:{}})}),St=e=>({name:"sonobi",switchName:"prebidSonobi",bidParams:t=>({ad_unit:window.guardian.config.page.adUnit,dom_id:t,appNexusTargeting:nt(e),pageViewId:window.guardian.ophan.pageViewId})}),Et={name:"pubmatic",switchName:"prebidPubmatic",bidParams:e=>({publisherId:Te()?"157206":Ne()?"157203":"157207",adSlot:Fe(e)})},Ot={name:"trustx",switchName:"prebidTrustx",bidParams:e=>({uid:dt(e,ut)})},Pt={name:"triplelift",switchName:"prebidTriplelift",bidParams:(e,t)=>({inventoryCode:vt(e,t)})},kt={name:"improvedigital",switchName:"prebidImproveDigital",bidParams:(e,t)=>({placementId:ft(t),size:gt(e)})},Ct={name:"improvedigital",switchName:"prebidImproveDigitalSkins",bidParams:()=>({placementId:mt(),size:{}})},At={name:"xhb",switchName:"prebidXaxis",bidParams:(e,t)=>({placementId:ht(t)})},jt={name:"adyoulike",switchName:"prebidAdYouLike",bidParams:()=>Ae()?{placement:"2b4d757e0ec349583ce704699f1467dd"}:Te()?{placement:"7fdf0cd05e1d4bf39a2d3df9c61b3495"}:Ne()?{placement:"5cf05e1705a2d57ba5d51e03f2af9208"}:{placement:"c1853ee8bfe0d4e935cbf2db9bb76a8b"}},xt={name:"criteo",switchName:"prebidCriteo",bidParams:()=>({networkId:337})},Tt={name:"smartadserver",switchName:"prebidSmart",bidParams:()=>({siteId:465656,pageId:1472549,formatId:105870})},Nt=e=>{const t=pt();return e.map((e=>({name:"ix",switchName:"prebidIndexExchange",bidParams:()=>({siteId:t,size:e})})))},Dt=e=>e.filter((e=>(e=>window.guardian.config.switches[e.switchName]??!1)(e))),It=(e,t)=>{const n=[[!Ne(),xt],[Ae()||De(),Tt],[Te(),St(t)],[Te(),Ot],[Te(),Pt],[Ne()||window.guardian.config.switches.prebidAppnexusUkRow&&!Te()||!!(0,Pe.Bv)().and,wt(t)],[Ae()||De(),kt],[!!window.guardian.config.switches.prebidImproveDigitalSkins&&window.guardian.config.page.isFront&&(Ae()||De())&&"D"===Ue(),Ct],[Ae(),At],[!0,Et],[ze(e),jt],[!xe()&&!Ne()&&(window.guardian.config.switches.prebidOzone??!1),_t(t)],[!Te(),yt(t)]].filter((([e])=>{return t=e,bt()||t;var t})).map((([,e])=>e)),r=Nt(e).concat(n);return bt()?(e=>e.filter((e=>(0,Pe.Bv)()[e.name])))(r):Dt(r)},Mt={buckets:[{max:10,increment:.01},{max:15,increment:.1},{max:100,increment:1}]},Lt={buckets:[{max:12,increment:.01},{max:20,increment:.05},{max:500,increment:1}]};class Bt{code;bids;mediaTypes;constructor(e,t,r){this.code=e.id,this.bids=((e,t,n)=>It(t,n).map((n=>({bidder:n.name,params:n.bidParams(e,t)}))))(e.id,t.sizes,r),this.mediaTypes={banner:{sizes:t.sizes}},e.headerBiddingSizes=t.sizes,(0,n.c)("commercial",`PrebidAdUnit ${this.code}`,this.bids)}isEmpty(){return null==this.code}}let Ft=Promise.resolve(),Rt=!1;const $t=(t,r="tcfv2")=>{if(!t.pbjs)return void(0,n.c)("commercial","window.pbjs not found on window");Rt=!0;const o=t.guardian.config.switches.prebidUserSync?{syncsPerBidder:0,filterSettings:{all:{bidders:"*",filter:"include"}}}:{syncEnabled:!1},i=Object.assign({},{bidderTimeout:1500,timeoutBuffer:400,priceGranularity:Mt,userSync:o});if(t.pbjs.bidderSettings={},t.guardian.config.switches.consentManagement&&(i.consentManagement=(()=>{switch(r){case"aus":case"ccpa":return{usp:{cmpApi:"iab",timeout:1500}};default:return{gdpr:{cmpApi:"iab",timeout:200,defaultGdprScope:!0}}}})()),t.guardian.config.switches.permutive&&t.guardian.config.switches.prebidPermutiveAudience&&(i.realTimeData={dataProviders:[{name:"permutive",params:{acBidders:["appnexus","ozone","pubmatic","trustx"],overwrites:{pubmatic:e.qK}}}]}),t.guardian.config.switches.prebidCriteo&&(i.criteo={fastBidVersion:"latest"},t.pbjs.setBidderConfig({bidders:["criteo"],config:{customPriceBucket:Lt}})),t.guardian.config.switches.prebidOzone&&t.pbjs.setBidderConfig({bidders:["ozone"],config:{guCustomPriceBucket:({width:t,height:r})=>{const o=((t,n)=>{const r=[t,n].join(",");return r===e.ZN.skyscraper.toString()||r===e.ZN.halfPage.toString()?{buckets:[{max:10,increment:.01},{max:15,increment:.1},{max:50,increment:1}]}:r===e.ZN.leaderboard.toString()||r===e.ZN.billboard.toString()||r===e.ZN.mpu.toString()||r===e.ZN.outstreamDesktop.toString()||r===e.ZN.outstreamMobile.toString()?{buckets:[{max:12,increment:.01},{max:20,increment:.1},{max:50,increment:1}]}:void 0})(t,r);return(0,n.c)("commercial",`Custom Prebid - Ozone price bucket for size (${t},${r}):`,o),o}}}),t.guardian.config.switches.prebidIndexExchange&&t.pbjs.setBidderConfig({bidders:["ix"],config:{guCustomPriceBucket:({width:t,height:r})=>{const o=((t,n)=>{const r=[t,n].join(",");return r===e.ZN.skyscraper.toString()||r===e.ZN.halfPage.toString()?{buckets:[{max:10,increment:.01},{max:15,increment:.05},{max:50,increment:1}]}:r===e.ZN.leaderboard.toString()||r===e.ZN.billboard.toString()||r===e.ZN.mpu.toString()?{buckets:[{max:12,increment:.01},{max:20,increment:.05},{max:50,increment:1}]}:void 0})(t,r);return(0,n.c)("commercial",`Custom Prebid - Index price bucket for size (${t},${r}):`,o),o}}}),t.guardian.config.switches.prebidAnalytics&&t.pbjs.enableAnalytics([{provider:"gu",options:{ajaxUrl:t.guardian.config.page.ajaxUrl??"",pv:t.guardian.ophan.pageViewId}}]),t.guardian.config.switches.prebidXaxis&&(t.pbjs.bidderSettings.xhb={adserverTargeting:[{key:"hb_buyer_id",val:e=>e.appnexus?.buyerMemberId??""}],bidCpmAdjustment:e=>1.05*e}),t.guardian.config.switches.prebidImproveDigital){const e=new RegExp(/placement_id=\\?"(\d+)\\?"/);t.pbjs.bidderSettings.improvedigital={adserverTargeting:[{key:"hb_pid",val(t){if(!(0,v.H)(t.ad))return;const n=e.exec(t.ad)?.[1];return n}}],suppressEmptyKeys:!0},i.improvedigital={usePrebidSizes:!0}}t.pbjs.setConfig(i),t.pbjs.onEvent("bidWon",(t=>{const{width:n,height:r,adUnitCode:o}=t;if(!n||!r||!o)return;const i=(0,e.PH)(n,r),a=le(o);a&&(a.size=i,a.hasPrebidSize=!0)}))},Zt=async(r,o)=>{if(!Rt)return Ft;if(!te.F.hbImpl.prebid)return Ft;const i=await(0,t.B4)().then((e=>{const t=rt(e);return Se(r.map((e=>Je(e,o).map((n=>new Bt(e,n,t))).filter((e=>!e.isEmpty())))))})).catch((e=>((0,n.c)("commercial","Failed to execute prebid onConsent",e),[]))),a=e.ai.get();return Ft=Ft.then((()=>new Promise((e=>{i.forEach((e=>{(0,v.H)(e.code)&&a.trigger("prebidStart",Fe(e.code))})),window.pbjs?.que.push((()=>{window.pbjs?.requestBids({adUnits:i,bidsBackHandler:()=>{((e,t)=>new Promise((n=>{window.pbjs?.setTargetingForGPTAsync(e.map((e=>e.code)).filter(v.H)),n(),e.forEach((e=>{(0,v.H)(e.code)&&t.trigger("prebidEnd",Fe(e.code))}))})))(i,a).then(e)}})}))})))),Ft};function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qt=(e,t)=>"top-above-nav"!==t.key||1===t.sizes.length?[t]:Array.isArray(e)?[Ut(Ut({},t),{},{sizes:[[e[0],e[1]]]})]:[],Gt=async e=>{e.headerBiddingBidRequest=Vt([e]),await e.headerBiddingBidRequest},Vt=async e=>{const t=e.filter((e=>!e.headerBiddingBidRequest)),n=Promise.all([Zt(t),et(t)]);t.forEach((e=>{e.headerBiddingBidRequest=n})),await n},Wt=e.ai.get(),Jt=e=>{const t=Fe(e.id);e.whenSlotReady.catch((()=>{})).then((()=>(Wt.trigger("slotReady",t),e.headerBiddingBidRequest?e.headerBiddingBidRequest:Gt(e)))).then((()=>{Wt.trigger("slotInitialised",t),window.googletag.display(e.id)}))},Kt=e=>{e.whenSlotReady.then((()=>(async e=>{const t=Zt([e],(t=>qt(e.size,t))),n=et([e],(t=>qt(e.size,t)));await Promise.all([t,n])})(e))).then((()=>{if(e.slot.setTargeting("refreshed","true"),"dfp-ad--top-above-nav"===e.id&&Array.isArray(e.size)){const t=window.googletag.sizeMapping();t.addSize([0,0],e.size),e.slot.defineSizeMapping(t.build())}window.googletag.pubads().refresh([e.slot])}))},Yt=e=>{(0,n.c)("commercial","Failed to load Confiant:",e)},Qt=[],Xt=(t,r,o,i,a,s)=>{const c=s?.prebid?.s,l=s?.dfp?.s,u=c??l;if((0,n.c)("commercial",(o?" Blocked":" Screened")+" bad ad with Confiant",{blockedSlotPath:u,blockingType:t,blockingId:r,wrapperId:i,tagId:a}),!o||!u)return;const d=le(u);if(!d)throw new Error(`No slot found for ${u}`);e.ai.get().trigger(`${Fe(d.id)}-blockedByConfiant`),(0,e.NV)(),d.slot.setTargeting("confiant",String(t)),Qt.includes(u)||(Kt(d),Qt.push(u))},en=async()=>{if(window.guardian.config.switches.confiantAdVerification){if(await(0,r.v)("//cdn.confiant-integrations.net/7oDgiTsq88US4rrBG0_Nxpafkrg/gpt_and_prebid/config.js",{async:!0}).catch(Yt),!window.confiant?.settings)return;"#confiantDevMode"===window.location.hash&&(window.confiant.settings.devMode=!0),window.confiant.settings.callback=Xt}};class tn{#r;constructor(e,t){this.#r=Array.from((t??document).querySelectorAll(e))}get(e){return"number"==typeof e?this.#r[e]:this.#r}setAttributes(e){return Object.entries(e).forEach((([e,t])=>this.#r.forEach((n=>n.setAttribute(e,t))))),this}css(e){return Object.entries(e).forEach((([e,t])=>{this.#r.forEach((n=>n.style.setProperty(e,t)))})),this}remove(){this.#r.forEach((e=>e.parentNode?.removeChild(e)))}}const nn=(e,t)=>new tn(e,t);var rn=a(6500);const on=e=>{e.forEach((e=>{e.classList.remove("right-sticky"),e.classList.remove("js-sticky-mpu"),e.classList.remove("is-sticky")}))},an=e=>{if(!e)return 0;const t=e.ownerDocument.documentElement;return e.getBoundingClientRect().top+(window.scrollY||document.documentElement.scrollTop)-Math.max(0,t.clientTop,window.document.body.clientTop)},sn=()=>{const e=nn(".js-secondary-column");if(!e.get().length||"none"===e.get(0).style.display)return Promise.resolve(!1);const t=nn(".js-content-main-column"),n=nn(".js-ad-slot",e.get(0)),r=nn(".element--immersive",t.get(0)),o=n.get(),i=r.get();return o.length&&t.get().length?g.Z.measure((()=>{const e=an(i[0]),n=an(t.get(0));return[t.get(0).offsetHeight,e-n]})).then((([e,t])=>window.guardian.config.page.hasShowcaseMainElement?o[0]:window.guardian.config.page.isImmersive&&i.length>0?g.Z.mutate((()=>{var e;return on(o),o[0].setAttribute("data-mobile",(e=t)>600?"1,1|2,2|300,250|300,274|300,600|fluid":e>274?"1,1|2,2|300,250|300,274":e>250?"1,1|2,2|300,250":"1,1|2,2"),o[0]})):e<1300?g.Z.mutate((()=>(on(o),o[0].setAttribute("data-mobile","1,1|2,2|300,250|300,274|fluid"),o[0]))):o[0])).then((e=>(rn.K.emit("page:defaultcommercial:right",e),!0))):Promise.resolve(!1)};var cn=a(944),ln=a(8019);const un=(0,cn.Z)((()=>{const e=(0,i.HN)().find((e=>e.id===ln.W.id));return e?e.variantToRun.id:"control"})),dn=(0,cn.Z)((()=>"control"!==un()));var pn=a(4118),fn=a(8232);const mn=/([a-z])([A-Z])/g,gn=e=>e.replace(mn,"$1-$2").toLowerCase(),hn=e=>0===e[0]&&0===e[1]?"fluid":[e[0],e[1]],vn={mobile:[0,0],phablet:[fn.A.phablet,0],tablet:[fn.A.tablet,0],desktop:[fn.A.desktop,0]},bn=X((()=>{const e=(0,Pe.ES)();return e["ad-unit"]?`/${window.guardian.config.page.dfpAccountId}/${String(e["ad-unit"])}`:window.guardian.config.page.adUnit})),wn=e=>{const t=window.googletag.sizeMapping();return Object.entries(e).forEach((([e,n])=>{(e=>e in vn)(e)&&t.addSize(vn[e],n.map(hn))})),t.build()},yn=e=>{const t=[];return e?.forEach((([,e])=>{var n;n=e,Array.isArray(n)&&n.length&&e.forEach((e=>{((e,t)=>"fluid"===e?t.includes("fluid"):!!Array.isArray(e)&&!!t.find((t=>t[0]===e[0]&&t[1]===e[1])))(e,t)||t.push(e)}))})),t},_n=t=>t.split("|").map((t=>(0,e.PH)(...(e=>{const t=e.split(",",2).map(Number);return 2!==t.length||t.some((e=>isNaN(e)))?[0,0]:[t[0],t[1]]})(t)))),Sn=t=>{const n=t.includes("inline")?"inline":t;return(t=>t in e.oe)(n)?e.oe[n]:{}},En=e=>0===Object.keys(e).length||Object.entries(e).every((([,e])=>0===e.length));class On{id;node;sizes;headerBiddingSizes=null;size=null;slot;isEmpty=null;isRendered=!1;shouldRefresh=!1;whenSlotReady;extraNodeClasses=[];hasPrebidSize=!1;headerBiddingBidRequest=null;lineItemId=null;constructor(e,t={}){this.id=e.id,this.node=e,this.sizes=this.generateSizeMapping(t);const n=((e,t)=>{const n=e.getAttribute("data-name"),r=e.id,o=wn(t);if(!o)throw new Error(`Could not define slot for ${r}. A googletag size mapping could not be created.`);const i=yn(o);let a,s=Promise.resolve();if(e.getAttribute("data-out-of-page")?(a=window.googletag.defineOutOfPageSlot(bn(),r),a?.defineSizeMapping(o)):(a=window.googletag.defineSlot(bn(),i,r),a?.defineSizeMapping(o),a&&(e=>"string"==typeof e&&("inline1"===e||"top-above-nav"===e))(n)&&(e=>{e.setSafeFrameConfig({allowOverlayExpansion:!1,allowPushExpansion:!0,sandbox:!0})})(a)),!a)throw new Error(`Could not define slot for ${r}`);if(window.guardian.config.switches.iasAdTargeting){window.__iasPET=window.__iasPET??{};const e=window.__iasPET;e.queue=e.queue??[],e.pubId="10249";const t=a.getSizes(),n=[{adSlotId:r,size:t.filter((e=>"fluid"!==e)).map((e=>[e.getWidth(),e.getHeight()])),adUnitPath:bn()}];let o,i;const c=new Promise((e=>{i=e})),l=e=>{clearTimeout(o);const t=JSON.parse(e);Object.keys(t.brandSafety).forEach((e=>window.googletag.pubads().setTargeting(e,t.brandSafety[e]))),t.fr&&window.googletag.pubads().setTargeting("fra",t.fr),t.custom?.["ias-kw"]&&window.googletag.pubads().setTargeting("ias-kw",t.custom["ias-kw"]);const n=["pub"];Object.keys(t.slots[r]).filter((e=>!n.includes(e))).forEach((e=>a?.setTargeting(e,t.slots[r][e]))),i()};e.queue.push({adSlots:n,dataHandler:l});const u=1e3,d=()=>new Promise((e=>{o=setTimeout(e,u)}));s=Promise.race([d(),c])}const c=window.guardian.config.page.isbn;"im"===n&&c&&a.setTargeting("isbn",c);const l=new Map([["top-above-nav","fabric1"],["merchandising-high","fabric2"],["merchandising","fabric3"]]).get(n);return l&&a.setTargeting("slot-fabric",l),a.addService(window.googletag.pubads()).setTargeting("slot",n),{slot:a,slotReady:s}})(e,this.sizes);this.slot=n.slot,this.whenSlotReady=n.slotReady}finishedRendering(e){this.isRendered=e}async updateExtraSlotClasses(...e){const t=this.extraNodeClasses.filter((t=>!e.includes(t)));await g.Z.mutate((()=>{this.node.classList.remove(...t),this.node.classList.add(...e)})),this.extraNodeClasses=e}generateSizeMapping(t){const n=this.node.dataset.name?Sn(this.node.dataset.name):{};let r=(0,e.x8)(n,t);if(En(r)&&(o=this.node,r=Object.entries(fn.A).reduce(((e,[t])=>{const n=o.getAttribute(`data-${gn(t)}`);return n&&(e[t]=_n(n)),e}),{}),En(r)))throw new Error(`Tried to render ad slot '${this.node.dataset.name??""}' without any size mappings`);var o;return r}updateSizeMapping(e){const t=this.generateSizeMapping(e);this.sizes=t;const n=wn(t);n&&this.slot.defineSizeMapping(n)}}const Pn=(e,t)=>{try{return new On(e,t)}catch(r){const o=`Could not create advert. Ad slot: ${e.id}. Additional Sizes: ${JSON.stringify(t)}. Error: ${r instanceof Error?r.message:"Unknown error"}`;return(0,n.c)("commercial",o),navigator.userAgent.includes("DuckDuckGo")||(0,l.e)(new Error(o),{feature:"commercial"},!1,.01),null}},kn=e=>{const t=le(e);t&&(t.isRendered?Kt(t):Jt(t))},Cn=(e,t)=>{const n=[];e.filter((e=>!("isIntersecting"in e)||e.isIntersecting)).forEach((e=>{t.unobserve(e.target),kn(e.target.id),n.push(e.target.id)})),te.F.advertsToLoad=te.F.advertsToLoad.filter((e=>!n.includes(e.id)))},An=()=>{switch(un()){case"variant-17":return"17.5% 0px";case"variant-15":return"15% 0px";case"variant-12":return"12.5% 0px";case"variant-10":return"10% 0px";default:return"20% 0px"}},jn=X((()=>Promise.resolve(new window.IntersectionObserver(Cn,{rootMargin:An()})))),xn=e=>{te.F.lazyLoadObserve?jn().then((t=>t.observe(e.node))):kn(e.id)},Tn=e=>{te.F.advertsToLoad.push(e),"false"!==e.node.dataset.refresh&&te.F.advertsToRefresh.push(e)},Nn=(e,t,n)=>new Promise((r=>{window.googletag.cmd.push((()=>{if(e.id in te.F.advertIds){const t=`Attempting to add slot with exisiting id ${e.id}`;(0,l.e)(Error(t),{feature:"commercial",slotId:e.id},!1),console.error(t)}else{const o=Pn(e,n);if(null===o)return;((e,t)=>{te.F.advertIds[e.id]=te.F.adverts.push(e)-1,te.F.shouldLazyLoad()&&!t?(Tn(e),xn(e)):Jt(e)})(o,t),r(o)}}))}));function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){Mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ln={bodySelector:".article-body-commercial-selector",slotSelector:" > p",minAbove:500,minBelow:400,clearContentMeta:0,selectors:{" .element-rich-link":{minAbove:100,minBelow:400}," .element-image":{minAbove:440,minBelow:440}," .player":{minAbove:50,minBelow:50}," > h1":{minAbove:50,minBelow:50}," > h2":{minAbove:50,minBelow:50}," > *:not(p):not(h2):not(blockquote):not(#sign-in-gate)":{minAbove:50,minBelow:50}," .ad-slot":{minAbove:100,minBelow:100}," .element-pullquote":{minAbove:400,minBelow:400},' > figure[data-spacefinder-role="inline"]':{minAbove:400,minBelow:400}},fromBottom:!0},Bn=In(In({},Ln),{},{selectors:In(In({},Ln.selectors),{},{" .element-rich-link":{minAbove:400,minBelow:400}," .ad-slot":{minAbove:400,minBelow:400}," .ad-slot--im":{minAbove:400,minBelow:400}})}),Fn=t=>{const n=(0,e.dQ)("carrot"),r=t.slice(1);return g.Z.mutate((()=>{r[0]?.parentNode&&r[0].parentNode.insertBefore(n,r[0])})).then((()=>{Nn(n,!0)}))},Rn=()=>ee.d.carrotTrafficDriver?pn.e.fillSpace((()=>{switch((0,Oe.vv)()){case"leftCol":case"wide":return Ln;default:return Bn}})(),Fn,{waitForImages:!0,waitForInteractives:!0,pass:"carrot"}):Promise.resolve(!1),$n=(0,cn.Z)((e=>new Promise((t=>{const n=()=>{const r=le(e);r?t(r):window.setTimeout(n,200)};n()}))));var Zn=a(9681);const Hn=".article-body-commercial-selector",Un=window.guardian.config.page.isPaidContent,zn=!!window.guardian.config.page.lightboxImages?.images.length,qn=window.guardian.config.page.hasShowcaseMainElement,Gn="ad-slot-container",Vn={minAbove:500,minBelow:500};let Wn=[];const Jn=e=>`${Gn}-${e+2}`,Kn=(t,n,r,o,i,a={})=>{const s=(0,e.dQ)(r,{name:n,classes:o}),c=((e,t={})=>{const n=document.createElement("div");return n.className=`${Gn} ${t.className??""}`,n.appendChild(e),n})(s,a);return g.Z.mutate((()=>{t.parentNode&&t.parentNode.insertBefore(c,t)})).then((async()=>{const e=["im","carrot"].includes(n),t=await Nn(s,e,i);t&&Wn.push(t)}))},Yn=e=>(t,n)=>void 0===n||Math.abs(t.top-n.top)-e>=Vn.minBelow,Qn=async(e,t,n)=>{if(!n)return t;const r=await g.Z.measure((()=>{const t=e.getBoundingClientRect().top,n=document.querySelector(Hn)?.getBoundingClientRect().bottom;return n?Math.abs(t-n):void 0}));return t.filter((e=>!!r&&r>=e.height))},Xn=t=>{const n=(0,Oe.vv)(),r=["leftCol","wide"].includes(n)?` > :not(p):not(h2):not(.${Gn}):not(#sign-in-gate):not([data-spacefinder-role="richLink"]):not([data-spacefinder-role="thumbnail"])`:` > :not(p):not(h2):not(.${Gn}):not(#sign-in-gate)`,o=window.guardian.config.page.isImmersive,i={bodySelector:Hn,slotSelector:" > p",minAbove:o?700:300,minBelow:300,selectors:{" > h2":{minAbove:5,minBelow:190},[` .${Gn}`]:Vn,[r]:{minAbove:35,minBelow:400},' [data-spacefinder-role="immersive"]':{minAbove:0,minBelow:600}," figure.element--supporting":{minAbove:500,minBelow:0}},filter:Yn(e.ZN.mpu.height)};let a=1e3;Un&&(a+=600),zn?qn&&(a+=100):a+=600;const s={bodySelector:Hn,slotSelector:" > p",minAbove:a,minBelow:300,selectors:{[` .${Gn}`]:Vn,' [data-spacefinder-role="immersive"]':{minAbove:0,minBelow:600}},filter:Yn(e.ZN.halfPage.height)},c=t?i:s;return pn.e.fillSpace(c,(async n=>{const r=!t;if(r){const e=await(0,Zn.j)(n,Hn);(0,Zn.M)(e.map(((e,t)=>[Jn(t),e])))}const o=n.slice(0,t?1:n.length).map((async(o,i)=>{const a=i+(t?1:2),s=i===n.length-1;let c="";r&&(c+=Jn(i)),t||(c+=" offset-right ad-slot--offset-right ad-slot-container--offset-right");const l={sticky:r,className:c};return Kn(o,`inline${a}`,"inline","inline",t?{phablet:[e.ZN.outstreamDesktop,e.ZN.outstreamGoogleDesktop],desktop:[e.ZN.outstreamDesktop,e.ZN.outstreamGoogleDesktop]}:{desktop:await Qn(o,[e.ZN.halfPage,e.ZN.skyscraper],s)},l)}));await Promise.all(o)}),{waitForImages:!0,waitForInteractives:!0,pass:t?"inline1":"inline2"})},er=()=>"mobile"===(0,Oe.bc)()?(()=>{const t={bodySelector:Hn,slotSelector:" > p",minAbove:200,minBelow:200,selectors:{" > h2":{minAbove:100,minBelow:250},[` .${Gn}`]:Vn,[` > :not(p):not(h2):not(.${Gn}):not(#sign-in-gate)`]:{minAbove:35,minBelow:200}},filter:Yn(e.ZN.mpu.height)};return pn.e.fillSpace(t,(async t=>{const n=t.map(((t,n)=>Kn(t,0===n?"top-above-nav":`inline${n}`,0===n?"top-above-nav":"inline","inline",1==n||2==n?{mobile:[e.ZN.portraitInterstitial]}:void 0)));await Promise.all(n)}),{waitForImages:!0,waitForInteractives:!0,pass:"inline1"})})():Un?Xn(!1):Xn(!0).then((()=>Xn(!1))),tr=async()=>{if(!ee.d.articleBodyAdverts)return Promise.resolve(!1);Wn=[];const e=window.guardian.config.page.hasInlineMerchandise?(()=>{const e=(0,Oe.bc)(),t={bodySelector:Hn,slotSelector:" > p",minAbove:300,minBelow:300,selectors:{" > .merch":{minAbove:0,minBelow:0}," > header":{minAbove:"mobile"===e||"tablet"===e?300:700,minBelow:0}," > h2":{minAbove:100,minBelow:250},[` .${Gn}`]:Vn,[` > :not(p):not(h2):not(.${Gn}):not(#sign-in-gate)`]:{minAbove:200,minBelow:400}}};return pn.e.fillSpace(t,(e=>Kn(e[0],"im","im","",{},{className:"ad-slot-container--im"})),{waitForImages:!0,waitForInteractives:!0,pass:"im"})})():Promise.resolve(!1);return await e&&await $n("dfp-ad--im"),await er(),await Rn(),dn()&&await Vt(Wn),e},nr=()=>(rn.K.on("page:article:redisplayed",tr),document.addEventListener("article:sign-in-gate-dismissed",(()=>{tr()})),tr());var rr=a(7283);function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){ar(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ar(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const sr=()=>{const t=(0,e.dQ)("comments");return t.classList.add("js-sticky-mpu"),t},cr=(t,n,r)=>{const o=sr();return g.Z.mutate((()=>(t.classList.add("discussion__ad-wrapper"),window.guardian.config.page.isLiveBlog||window.guardian.config.page.isMinuteArticle||t.classList.add("discussion__ad-wrapper-wider"),n.appendChild(o),o))).then((async t=>{const n=await Nn(t,!1,r?{desktop:[e.ZN.halfPage,e.ZN.skyscraper]}:{});n&&dn()&&await Gt(n),Promise.resolve(rn.K.emit("page:commercial:comments"))}))},lr=e=>!!e.sizes.desktop?.some((e=>300===e[0]&&600===e[1]||160===e[0]&&600===e[1])),ur=t=>(!lr(t)&&t.sizes.desktop&&t.updateSizeMapping(ir(ir({},t.sizes),{},{desktop:[...t.sizes.desktop,e.ZN.halfPage,e.ZN.skyscraper]})),t),dr=(e,t)=>{const n=t.querySelector(".js-ad-slot"),r=le("dfp-ad--comments");r&&n&&Kt(ur(r)),r||cr(e,t,!0)},pr=()=>{const e=document.querySelector(".js-discussion__ad-slot"),t="mobile"===(0,Oe.bc)();return ee.d.commentAdverts&&e&&!t?(rn.K.once("modules:comments:renderComments:rendered",(()=>{const t=(0,rr.Pc)(),n=document.querySelector(".js-comments .content__main-column");n&&g.Z.measure((()=>n.offsetHeight)).then((r=>{r>=800||t&&r>=600?cr(n,e,!0):t&&cr(n,e,!1),rn.K.on("discussion:comments:get-more-replies",(()=>{dr(n,e)}))}))})),Promise.resolve(!0)):Promise.resolve(!1)};var fr=a(4e3);const mr=e.ZN.mpu.height+fr.O2,gr=e.ZN.halfPage.height+fr.O2,hr=t=>{(0,n.c)("commercial","Inserting comments-expanded advert");const r=(0,e.dQ)("comments-expanded",{classes:"comments-expanded"}),o=document.createElement("div");o.className="ad-slot-container",o.style.position="sticky",o.style.top="0",o.appendChild(r);const i=document.createElement("div");return i.style.flexGrow="1",i.appendChild(o),g.Z.mutate((()=>{t.appendChild(o)})).then((async()=>{const e=await Nn(r,!1);e&&dn()&&await Gt(e)}))},vr=e=>{const t=mr+gr+window.innerHeight;return e.offsetHeight>=t},br=async()=>{if(!ee.d.commentAdverts)return void(0,n.c)("commercial","Adverts in comments are disabled in commercialFeatures");const e=await(async()=>g.Z.measure((()=>{const e=document.querySelector(".commentsRightColumn");if(!e)throw new Error("Could not find right column.");return e})))();vr(e)?hr(e):(e=>{const t=new ResizeObserver((()=>{vr(e)&&(hr(e),t.unobserve(e))}));t.observe(e)})(e)},wr=()=>(document.addEventListener("comments-expanded",(()=>{br()})),Promise.resolve()),yr="//sb.scorecardresearch.com/cs/6035250/beacon.js",_r="6035250",Sr=e=>{const t={c1:"2",c2:_r,cs_ucfr:"1"};return"Network Front"!==e&&(t.comscorekw=e),t},Er=async()=>{if(!ee.d.comscore)return Promise.resolve();try{const e=await(0,t.B4)(),n=e.tcfv2&&(0,t.Nl)("comscore",e),o=!!e.aus,i=!!e.ccpa&&!e.ccpa.doNotSell;if(!(n||o||i))throw Error("No consent for comscore");return void await(window._comscore=window._comscore??[],window._comscore.push(Sr(window.guardian.config.page.keywords)),(0,r.v)(yr,{id:"comscore",async:!0}))}catch(e){(0,n.c)("commercial"," Failed to execute comscore",e)}},Or=X(Er),Pr="dfp-ad--",kr=()=>Boolean(navigator.userAgent.includes("Google Web Preview")||navigator.userAgent.includes("googleweblight")),Cr=()=>((ee.d.isSecureContact||kr()||!te.F.hbImpl.a9||!ee.d.dfpAdvertising||ee.d.adFree||window.guardian.config.page.hasPageSkin||xe())&&!Ve||((0,e.jt)(),Xe()),Promise.resolve()),Ar=X(Cr),jr=()=>(0,t.B4)().then((e=>{if((0,t.Nl)("a9",e))return Ar();throw Error("No consent for a9")})).catch((e=>{(0,n.c)("commercial"," Failed to execute a9",e)}));var xr=a(8020);const Tr=e.ai.get();var Nr=a(4672),Dr=a(9013);function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Lr=window.guardian.config.isDotcomRendering,Br=e=>{const t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach((function(t){Mr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete t.scrollType,delete t.ctaUrl,t.backgroundColour&&(t.backgroundColor=t.backgroundColour,delete t.backgroundColour),t},Fr=async(e,t)=>{const{backgroundParent:n,background:r}=((e,t)=>{let n=e.querySelector(".creative__background-parent"),r=e.querySelector(".creative__background");return n&&r||(n=document.createElement("div"),r=document.createElement("div"),n.classList.add("creative__background-parent"),r.classList.add("creative__background"),t&&(n.classList.add(`creative__background-parent--${t}`),r.classList.add(`creative__background--${t}`)),n.appendChild(r),Lr&&(n.style.zIndex="-1",n.style.position="absolute",n.style.inset="0",n.style.clipPath="polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",n.style.overflow="hidden",r.style.inset="0",r.style.transition="background 100ms ease")),{backgroundParent:n,background:r}})(t,e.scrollType);return g.Z.mutate((()=>{if(((e,t)=>{const n=Br(e);Object.assign(t.style,n)})(e,r),"parallax"===e.scrollType&&((e,t,n)=>{t.style.position="absolute",e.style.position="relative";const r=e=>g.Z.measure((()=>e.getBoundingClientRect())).then((t=>g.Z.mutate((()=>{const n=t.height,r=window.innerHeight,o=Math.floor(t.bottom/(r+n)*130);e.style.backgroundPositionY=`${o}%`}))));new IntersectionObserver((e=>e.filter((e=>e.isIntersecting)).forEach((()=>{window.addEventListener("scroll",(()=>{r(t)}),{passive:!0}),r(t)}))),{rootMargin:"10px"}).observe(n)})(t,r,n),"fixed"===e.scrollType&&(t.style.position="relative",Lr&&(r.style.position="fixed"),e.backgroundColor&&(n.style.backgroundColor=e.backgroundColor)),"interscroller"===e.scrollType){if(Lr&&(t.style.height="85vh",t.style.marginBottom="12px",t.style.position="relative"),(0,Dr.iM)(t),(0,Dr.hq)(n),Lr&&((e,t)=>{e.style.position="fixed";const n=document.createElement("div");n.classList.add("ad-slot__line"),n.style.position="absolute",n.style.width="100%",n.style.bottom="0",n.style.borderBottom="1px solid #dcdcdc",t.appendChild(n)})(r,n),e.ctaUrl){const r=((e,t)=>{const n=document.createElement("a");return n.href=e,n.target="_new",n.appendChild(t),n.style.width="100%",n.style.height="100%",n.style.display="inline-block",n})(e.ctaUrl,n);t.insertBefore(r,t.firstChild)}}else t.insertBefore(n,t.firstChild)}))};var Rr=a(5355);const $r=`${window.guardian.config.googleAnalytics?.trackers?.editorial??"no-ga-tracker-found"}.send`,Zr=({name:e,delta:t,id:n})=>{const{ga:r}=window;r&&r($r,"event",{eventCategory:"Web Vitals",eventAction:e,eventValue:Math.round("CLS"===e?1e3*t:t),eventLabel:n,nonInteraction:!0})};100*Math.random()<=5&&((0,Rr.getCLS)(Zr),(0,Rr.getLCP)(Zr),(0,Rr.getFID)(Zr));const Hr=(e,t)=>{var n,r;n=e.id,r=t,window.ga($r,"event","click","native ad",r,{nonInteraction:!0,dimension25:n})},Ur=e=>(0,xr.K)(e)&&"selector"in e,zr=(e,t)=>{const n=[];for(let r=0;r<t.length;r+=1){const o=t[r].ownerNode;o instanceof HTMLStyleElement&&o.matches(e.selector)&&null!==o.textContent&&n.push(o.textContent)}return n},qr=[e.ZN.mpu.width,e.ZN.mpu.height],Gr=[e.ZN.outstreamDesktop.width,e.ZN.outstreamDesktop.height],Vr=[e.ZN.outstreamMobile.width,e.ZN.outstreamMobile.height],Wr=(e,t)=>e.map((e=>[e,t(e)])),Jr=e=>`${e}${"mobile"===(0,Oe.bc)()?"mobile":"desktop"}`,Kr=e=>{const t=/^(\d+)(%|px|em|ex|ch|rem|vh|vw|vmin|vmax)?/.exec(String(e));return t?t[1]+(void 0===t[2]?"px":t[2]):""},Yr=(e,t,n,r)=>{if(!(e=>(0,xr.K)(e)&&(void 0===e.width||(0,v.H)(e.width)||"number"==typeof e.width)&&(void 0===e.height||(0,v.H)(e.height)||"number"==typeof e.height))(e)||!r)return Promise.resolve();const o={};return e.width&&(o.width=Kr(e.width)),e.height&&(o.height=Kr(e.height)),g.Z.mutate((()=>{Object.assign(t.style,o),n&&Object.assign(n.style,o)}))};var Qr=a(7695);let Xr=!1;try{const e={get passive(){return Xr=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}const eo=(e,t,n,{passive:r=!1,capture:o=!1,once:i=!1}={})=>{Xr?e.addEventListener(t,n,{passive:r,capture:o,once:i}):i?e.addEventListener(t,(function r(o){n.call(this,o),e.removeEventListener(t,r)}),o):e.addEventListener(t,n,o)},to=window;let no,ro="IntersectionObserver"in to,oo=!1,io={},ao=0,so=[];const co=(e,t)=>{var n;io[e].respond(null,{width:(n=t).width,height:n.height,top:n.top,bottom:n.bottom,left:n.left,right:n.right})},lo=e=>[e,io[e].node.getBoundingClientRect()],uo=function(e){return e[1].bottom>0&&e[1].top<this.height},po=e=>{so=e.filter((e=>e.intersectionRatio>0)).map((e=>e.target.id))},fo=()=>{if(!oo){const e=(0,Qr.a)();oo=!0,g.Z.measure((()=>{oo=!1;const t=Object.keys(io);ro?so.map(lo).forEach((e=>{co(e[0],e[1])})):t.map(lo).filter(uo,e).forEach((e=>{co(e[0],e[1])}))}))}},mo=(e,t)=>{0===ao&&(eo(to,"scroll",fo,{passive:!0}),ro&&(no=new to.IntersectionObserver(po))),io[e.id]={node:e,visible:!ro,respond:t},ao+=1,no&&no.observe(e),g.Z.measure((()=>e.getBoundingClientRect())).then((t=>{co(e.id,t)}))},go=e=>{e.id in io&&(ro&&no&&no.unobserve(e),delete io[e.id],ao-=1),0===ao&&(to.removeEventListener("scroll",fo),ro&&no&&(no.disconnect(),no=null))};let ho=window,vo={},bo=0,wo=!1;const yo=()=>g.Z.measure((()=>(0,Qr.a)())),_o=(e,t)=>{vo[e].respond(null,t)},So=()=>{wo||(wo=!0,yo().then((e=>{Object.keys(vo).forEach((t=>{_o(t,e)})),wo=!1})))},Eo=(e,t)=>(0===bo&&ho.addEventListener("resize",So),vo[e.id]={node:e,respond:t},bo+=1,yo().then((t=>{_o(e.id,t)}))),Oo=e=>{delete vo[e.id],bo-=1,0===bo&&ho.removeEventListener("resize",So)},Po=(e,t,n)=>{n&&"boolean"==typeof t&&(t?Eo(n,e):Oo(n))};var ko=a(7067),Co=a(161),Ao=a.n(Co);const jo=()=>{const e=document.body,t=window.guardian.config.page.hasPageSkin,n="au"===window.guardian.config.page.edition.toLowerCase();let r=0,o=!1,i=!1;const a=()=>{t&&(0,Oe._k)(!0)&&!ee.d.adFree&&Ao().mutate((()=>{e.classList.toggle("has-active-pageskin",(0,Oe.qZ)({min:"wide"}))}))},s=t=>{e.style.backgroundPosition=`50% ${t}px`},c=()=>{if(0===r){const e=document.querySelector(".new-header");e&&(r=o?e.offsetTop+24:e.offsetTop+e.offsetHeight)}},l=e=>{const t=document.querySelector(".fc-container__inner");t&&(e.style.cssText=`max-width: ${t.clientWidth}px; margin-right: auto; margin-left: auto;`)},u=()=>{o&&t&&(()=>{const e=document.querySelector(".new-header"),t=document.querySelector(".l-footer"),n=document.querySelector(".ad-slot--top-banner-ad");if(e&&t&&n){const o=document.querySelector(".top-banner-ad-container");o&&(o.style.borderBottom="none",o.style.minHeight="0"),c(),l(e),l(t),0===window.pageYOffset&&s(r);const i=e.getBoundingClientRect(),a=n.getBoundingClientRect(),u=i.top,d=a.bottom;u<=a.height+24-i.height&&d>0?s(d):d<=0&&s(0)}})(),i&&t&&n&&(c(),0===window.pageYOffset?s(r):window.pageXOffset<=r&&s(r-window.pageYOffset),window.pageYOffset>r&&s(0))};a(),window.addEventListener("message",(e=>{"pageskinRendered"===e.data&&(i=!0,u()),"truskinRendered"===e.data&&(o=!0,u())}),!1),rn.K.on("window:throttledResize",a),t&&rn.K.on("window:throttledScroll",u)},xo=["dfp-ad--im"],To=async e=>{kr()||!te.F.hbImpl.prebid||!ee.d.dfpAdvertising||ee.d.adFree||window.guardian.config.page.hasPageSkin||Ve||xe()||(await a.e(322).then(a.t.bind(a,502,23)),$t(window,e))},No=()=>(0,t.B4)().then((e=>e.framework?(0,t.Nl)("prebid",e)?To(e.framework):Promise.reject("No consent for prebid"):Promise.reject("Unknown framework"))).catch((e=>{(0,n.c)("commercial"," Failed to execute prebid",e)})),Do=X(No),Io=()=>Do(),Mo=async()=>{const t=[se()];if(await Promise.all(t),await Do().catch((e=>(0,n.c)("commercial","could not load Prebid.js",e))),ee.d.adFree)return Promise.resolve();const r=window.guardian.config.isDotcomRendering&&"mobile"===(0,Oe.bc)(),o=[...document.querySelectorAll(te.F.adSlotSelector)].filter((e=>!(e.id in te.F.advertIds))).filter((e=>!(r&&"dfp-ad--top-above-nav"===e.id))).map((t=>{const n=(t=>{const{contentType:n}=window.guardian.config.page,{name:r}=t.dataset;return"Gallery"===n&&r?.includes("inline")?{desktop:[e.ZN.billboard,(0,e.PH)(900,250)]}:(0,i.Ye)(ko.V,"variant")&&r?.includes("merchandising")?{desktop:[e.ZN.billboard]}:{}})(t);return Pn(t,n)})).filter((e=>null!==e)),a=te.F.adverts.length;te.F.adverts=te.F.adverts.concat(o),o.forEach(((e,t)=>{te.F.advertIds[e.id]=a+t})),dn()&&await Vt(o),o.forEach(Tn),te.F.shouldLazyLoad()?(()=>{window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices();const[e,t]=(n=te.F.advertsToLoad,r=e=>xo.includes(e.id),n.reduce(((e,t,o)=>(r(t,o,n)?e[0].push(t):e[1].push(t),e)),[[],[]]));var n,r;te.F.advertsToLoad=t,e.forEach(Jt),t.forEach(xn)})():(window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices(),Jt(te.F.advertsToLoad[0]),te.F.advertsToLoad.length=0,jo())},Lo=`${window.location.protocol}//${window.location.host}`,Bo=t=>{const n=le(t.slot.getSlotElementId());if(!n)return;const r=n.node.getElementsByTagName("iframe").item(0);r?.contentWindow?(0,e.oi)({id:r.id,host:Lo},r.contentWindow):console.log("No iFrame found for slot",n.id,n.slot)},Fo=e=>{Ao().mutate((()=>{window.googletag.destroySlots([e.slot]),(e=>{const t=e.node.parentElement;t?.classList.contains("ad-slot-container")?t.remove():e.node.remove()})(e),(e=>{const t=t=>t.filter((t=>t!==e));te.F.adverts=t(te.F.adverts),te.F.advertsToRefresh=t(te.F.advertsToRefresh),te.F.advertsToLoad=t(te.F.advertsToLoad),te.F.advertIds={},te.F.adverts.forEach(((e,t)=>{te.F.advertIds[e.id]=t}))})(e)}))},Ro=e=>(e=>new Promise(((t,n)=>{const r=e.querySelector('iframe:not([id*="__hidden__"])');if(r)if(r.readyState&&"complete"!==r.readyState){const e=n=>{const o=n.srcElement;o&&"complete"===o.readyState&&(o.removeEventListener("readystatechange",e),t(r))};r.addEventListener("readystatechange",e)}else t(r);else n()})))(e).then((()=>!0)).catch((()=>!1)),$o=e=>function(t){return function(n){return t.some((e=>n.node.classList.contains(e)))?g.Z.mutate((()=>{e.forEach((e=>{n.node.classList.add(e)}))})):Promise.resolve()}},Zo=$o(["ad-slot--fluid250"]),Ho=$o(["ad-slot--fluid"]),Uo={};Uo[e.ZN.fluid.toString()]=e=>Ho(["ad-slot"])(e).then((()=>((e,t)=>{const n=e.node.querySelector("iframe");g.Z.mutate((()=>{n&&n.style.removeProperty(t)}))})(e,"vertical-align"))),Uo[e.ZN.mpu.toString()]=e=>e.updateExtraSlotClasses(),Uo[e.ZN.halfPage.toString()]=e=>e.updateExtraSlotClasses(),Uo[e.ZN.skyscraper.toString()]=e=>e.updateExtraSlotClasses("ad-slot--sky"),Uo[e.ZN.outstreamDesktop.toString()]=e=>e.updateExtraSlotClasses("ad-slot--outstream"),Uo[e.ZN.outstreamGoogleDesktop.toString()]=e=>e.updateExtraSlotClasses("ad-slot--outstream"),Uo[e.ZN.outstreamMobile.toString()]=e=>e.updateExtraSlotClasses("ad-slot--outstream"),Uo[e.ZN.googleCard.toString()]=e=>e.updateExtraSlotClasses("ad-slot--gc");const zo=e=>{const t=e.node.parentNode;return g.Z.mutate((()=>{if(e.node.classList.add("ad-slot--collapse"),e.id.includes("top-above-nav")){const t=e.node.closest(".top-banner-ad-container");t&&(t.style.display="none")}t.classList.contains("fc-slice__item--mpu-candidate")&&t.classList.add("fc-slice__item--no-mpu")}))};Uo[e.ZN.outOfPage.toString()]=zo,Uo[e.ZN.empty.toString()]=zo,Uo[e.ZN.merchandising.toString()]=Zo(["ad-slot--commercial-component"]);const qo=(e,t)=>((e=>{const t=nn(`#${e.id} > div:not(.ad-slot__label)`,e).get();t.length&&g.Z.mutate((()=>{t[0].classList.add("ad-slot__content")}))})(e.node),Ro(e.node).then((n=>(()=>{if(e.size){e.hasPrebidSize=!1;const n=Uo[e.size.toString()];return Promise.resolve(void 0!==n?n(e,t):e.updateExtraSlotClasses())}return Promise.resolve()})().then((()=>(0,Dr.iM)(e.node))).then((()=>n?g.Z.mutate((()=>{e.node.classList.add("ad-slot--rendered")})):Promise.resolve())).then((()=>n)))).catch((e=>((0,l.e)(e,{feature:"commercial"},!1),Promise.resolve(!1))))),Go=(t,n=[],r)=>{const o=t.size?.toString();if("fluid"===o)return!1;if(Object.values(e.N9).map((e=>e.toString())).includes(o))return!1;const i=t.lineItemId??r;return!(i&&n.includes(i))&&!window.guardian.config.page.hasPageSkin},Vo=t=>{const n=le(t.slot.getSlotElementId());var r;n&&(n.isEmpty=t.isEmpty,t.isEmpty?(Fo(n),((e,t)=>{if(Math.random()<1e-4){const n=t.slot.getAdUnitPath(),r=(t.slot.getTargetingKeys().includes("k")?t.slot.getTargeting("k"):[]).join(", ");(0,l.e)(new Error("dfp returned an empty ad response"),{feature:"commercial",adUnit:n,adSlot:e,adKeywords:r},!1)}})(n.id,t),n.finishedRendering(!1)):(n.hasPrebidSize||(n.size=(r=t.size,(0,v.H)(r)?"fluid":(0,e.PH)(r[0],r[1]))),t.creativeId&&te.F.creativeIDs.push(String(t.creativeId)),!window.guardian.config.switches.fetchNonRefreshableLineItems&&window.guardian.config.page.nonRefreshableLineItemIds?n.shouldRefresh=Go(n,window.guardian.config.page.nonRefreshableLineItemIds,t.lineItemId??void 0):n.lineItemId=t.lineItemId,qo(n,t).then((e=>{n.finishedRendering(e)}))))},Wo=(0,cn.Z)((async()=>{const{host:e,isProd:t}=window.guardian.config.page,n=new URL("/commercial/non-refreshable-line-items.json",t?e:"https://m.code.dev-theguardian.com"),r=await fetch(n.toString());if(r.ok){const e=await r.json();if(!Array.isArray(e))throw Error("Failed to parse non-refreshable line items as an array");const t=e.reduce(((e,t)=>e instanceof Error||"number"!=typeof t?Error("Failed to parse element in non-refreshable line item array as number"):{lineItems:[...e.lineItems,t]}),{lineItems:[]});if(t instanceof Error)throw t;return t.lineItems}const o=Error("Failed to fetch non-refreshable line items");throw(0,l.e)(o,{feature:"commercial",status:String(r.status)},!1),o})),Jo=t=>{const r=le(t.slot.getSlotElementId());if(!r)return;(t=>{if(!(e=>null!==e&&"fluid"!==e)(t.size))return;const{size:n,node:r}=t;if(Object.values(e.N9).some((({width:e,height:t})=>e===n.width&&t===n.height)))return;if(n.isProxy())g.Z.mutate((()=>{r.style.minHeight=""}));else{const t=n.height+e._G.O2;g.Z.mutate((()=>{r.style.minHeight=`${t}px`}))}})(r);const{switches:o,page:i}=window.guardian.config;o.fetchNonRefreshableLineItems&&!i.nonRefreshableLineItemIds&&Wo().then((e=>{r.shouldRefresh=Go(r,e)})).catch((e=>{(0,n.c)("commercial"," Error fetching non-refreshable line items",e)}));const a=()=>{document.hidden||(document.removeEventListener("visibilitychange",a),xn(r))};setTimeout((()=>{r.shouldRefresh&&(document.hidden?document.addEventListener("visibilitychange",a):xn(r))}),3e4)},Ko=(0,Oe._k)(!0),Yo=Object.keys(fn.A),Qo=(e,t)=>{const n=(e,t)=>{const n=Yo.slice(0,Yo.indexOf(e)+1).map(gn);return Math.max(...t.map((e=>n.lastIndexOf(e))))};te.F.advertsToRefresh.filter((r=>{const o=Object.keys(r.sizes),i=n(e,o),a=n(t,o);return-1!==i&&i!==a})).forEach(Kt)},Xo=()=>{Ko(Qo)},ei=()=>{rn.K.on("window:throttledResize",Xo)};(0,e.aC)([e=>{e("type",((e,t,n)=>{const r=n?.closest(".js-ad-slot");r&&(0,v.H)(e)&&((e,t)=>{g.Z.mutate((()=>{t.classList.add(`ad-slot--${e}`)}))})(e,r)}))},e=>{e("get-styles",(e=>{if(Ur(e))return zr(e,document.styleSheets)}))},e=>{e("get-page-targeting",(()=>window.guardian.config.page.sharedAdTargeting))},e=>{e("get-page-url",(()=>window.location.origin+window.location.pathname))},e=>{e("measure-ad-load",(e=>{Tr.trigger("adOnPage",(e=>(0,xr.K)(e)&&(0,v.H)(e.slotId)?e.slotId:void 0)(e))}))},e=>{e("resize",((e,t,n)=>{if(n&&e){const t=n.closest(".js-ad-slot")??void 0;t&&(e=>{g.Z.mutate((()=>{e.classList.remove("ad-slot--outstream")}))})(t);const r=n.closest(".ad-slot__content")??void 0;return Yr(e,n,r,t)}}))},e=>{e("click",((e,t,n)=>Hr(n?.closest(".js-ad-slot")??{id:"unknown"},(0,v.H)(e)?e:"")))},e=>{e("background",(async(e,t,n)=>{if(!(e=>(0,xr.K)(e)&&"backgroundImage"in e)(e))return Promise.resolve();const r=n?.closest(".js-ad-slot");return r?Fr(e,r):void 0}))},e=>{e("disable-refresh",((e,t,n)=>{if(n){const e=n.closest(".js-ad-slot");if(e instanceof HTMLElement){const t=(e=>te.F.adverts.find((t=>t.node.isSameNode(e))))(e);t&&(t.shouldRefresh=!1)}}}))},e=>{e("passback",((e,t,r)=>{window.googletag.cmd.push((()=>{const{source:t}=e;if(!t)return void(0,n.c)("commercial","Passback: postMessage does not have source set");if(!r)return void(0,n.c)("commercial","Passback: iframe has not been passed by messenger");const o=r.closest(".ad-slot"),i=o?.dataset.name;if(!i)return void(0,n.c)("commercial","Passback: cannot determine the slot from the calling iFrame");const a=`${Pr}${i}`;(0,n.c)("commercial",`Passback: from source '${t}' for slot '${a}'`);const s=r.closest(".ad-slot__content");if(!s)return void(0,n.c)("commercial","Passback: cannot determine the iFrameContainer from the calling iFrame");g.Z.mutate((()=>{s.style.visibility="hidden",o.style.position="relative",o.classList.remove("ad-slot--outstream")})).then((()=>{const e=document.createElement("div");return e.id=`${a}--passback`,e.classList.add("ad-slot","js-ad-slot"),e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.top="24px",e.style.width="100%",g.Z.mutate((()=>{o.insertAdjacentElement("beforeend",e)})).then((()=>e.id))})).then((e=>{const c=window.googletag.pubads().getSlots().find((e=>e.getSlotElementId()===a));if(!c)return void(0,n.c)("commercial","Passback: cannot determine the googletag slot from the slotId");const l=Wr(window.googletag.pubads().getTargetingKeys(),(e=>window.googletag.pubads().getTargeting(e))),u=Wr(c.getTargetingKeys(),(e=>c.getTargeting(e)));(0,n.c)("commercial","Passback: initial slot targeting",Object.fromEntries([...l,...u]));const d=[...l,...u,["passback",[Jr(t)]],["slot",[i]]];googletag.pubads().addEventListener("slotRenderEnded",(function(t){if(t.slot.getSlotElementId()===e){const e=t.size;if(Array.isArray(e)){const t=e[1];(0,n.c)("commercial",`Passback: ad height is ${t}`),g.Z.mutate((()=>{const e=`${t+24}px`;(0,n.c)("commercial",`Passback: setting height of passback slot to ${e}`),o.style.height=e,r.style.height=e,s.style.height=e}))}}})),window.googletag.cmd.push((()=>{const t=googletag.defineSlot(c.getAdUnitPath(),[qr,Vr,Gr],e);t&&(t.defineSizeMapping([[[fn.A.phablet,0],[qr,Gr]],[[fn.A.mobile,0],[qr,Vr]]]),t.addService(window.googletag.pubads()),d.forEach((([e,n])=>{t.setTargeting(e,n)})),(0,n.c)("commercial","Passback: passback slot targeting map",t.getTargetingMap()),(0,n.c)("commercial",`Passback: displaying slot '${e}'`),googletag.display(e))}))}))}))}))}],[e=>{e("scroll",((e,t,n)=>{n&&(t&&"function"==typeof e?mo(n,e):go(n))}))},e=>{e("viewport",Po)}],l.e);const ti=()=>{const e=window.googletag.pubads();e.addEventListener("slotRenderEnded",Nr.Z.wrap(Vo)),e.addEventListener("slotOnload",Nr.Z.wrap(Bo)),e.addEventListener("impressionViewable","false"!==(0,Pe.ES)().adrefresh?Jo:()=>{})},ni=()=>(0,rr.G4)((e=>{e?.googleTagId&&window.googletag.pubads().setPublisherProvidedId(e.googleTagId)})),ri=()=>{if((0,i.Ye)(c.$,"variant"))return Promise.resolve();const e=()=>(0,t.B4)().then((e=>{let o=!0;if(e.canTarget&&window.googletag.cmd.push(ni),e.ccpa)window.googletag.cmd.push((()=>{window.googletag.pubads().setPrivacySettings({restrictDataProcessing:!e.canTarget})}));else if(e.tcfv2)o=(0,t.Nl)("googletag",e);else if(e.aus){const n=!(0,t.Nl)("googletag",e);window.googletag.cmd.push((()=>{window.googletag.pubads().setRequestNonPersonalizedAds(n?1:0)}))}return o&&(window.googletag.cmd.push(ti,(()=>{(e=>{Object.entries(rt(e)).forEach((([e,t])=>{t&&window.googletag.pubads().setTargeting(e,t)}))})(e)}),ei,(()=>{Mo()})),(0,r.v)(window.guardian.config.page.libs?.googletag??"//www.googletagservices.com/tag/js/gpt.js",{async:!1}).catch((e=>{if(!navigator.userAgent.includes("DuckDuckGo"))throw e;(0,n.c)("commercial"," Caught loadScript error on DuckDuckGo",e)}))),Promise.resolve()}));return ee.d.dfpAdvertising?e().catch(ae):ae()},oi=e=>""===e||null==e||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length,ii=e=>{let t;for(t in e)"object"==typeof e[t]&&ii(e[t]),oi(e[t])&&delete e[t];return e},ai=({page:e,user:t})=>{const{isPaidContent:n,pageId:r,headline:o,contentType:i,section:a,author:s,keywords:c,webPublicationDate:l,series:u,edition:d,toneIds:p}=e,f=(s&&"string"==typeof s?s.split(","):[]).map((e=>e.trim())),m=(c&&"string"==typeof c?c.split(","):[]).map((e=>e.trim())),g=l&&"number"==typeof l?new Date(l).toISOString():"",h=(p&&"string"==typeof p?p.split(","):[]).map((e=>e.trim()));return ii({content:{premium:n,id:r,title:o,type:i,section:a,authors:f,keywords:m,publishedAt:g,series:u,tone:h},user:{edition:d,identity:!oi(t)&&!oi(t?.id)}})},si=e=>"object"==typeof e.ophan&&"string"==typeof e.ophan.browserId&&e.ophan.browserId.length>0?[{tag:"ophan",id:e.ophan.browserId}]:[],ci=(e,t,n)=>{try{if(!t?.addon)throw new Error("Global Permutive setup error");const n=si(e);t.identify&&n.length>0&&t.identify(n);const r=ai(e);t.addon("web",{page:r})}catch(e){n(e,{feature:"commercial"},!1)}};let li=!1;const ui=()=>(0,t.B4)().then((e=>e.aus?(0,t.Nl)("redplanet",e)?void 0:Promise.reject("No consent for redplanet"):Promise.reject("Redplanet should only run in Australia on AUS mode"))).then((()=>{if(li)return Promise.reject("replanet already initialised");li=!0,(0,e.$M)()})).then((()=>{window.launchpad&&(window.launchpad("newTracker","launchpad","lpx.qantas.com",{discoverRootDomain:!0,appId:"the-guardian"}),window.launchpad("trackUnstructEvent",{schema:"iglu:com.qantas.launchpad/hierarchy/jsonschema/1-0-0",data:{u1:"theguardian.com",u2:window.guardian.config.page.section,u3:window.guardian.config.page.sectionName,u4:window.guardian.config.page.contentType,uid:window.guardian.config.ophan.browserId??""}}))})).catch((e=>{(0,n.c)("commercial"," Failed to execute redplanet",e)})),di=()=>ee.d.launchpad&&Ne()?ui():Promise.resolve(),pi=()=>{if(ee.d.highMerch){const t=window.guardian.config.page.commentable?"#comments + *":".content-footer > :first-child",n=document.querySelector(t),r=document.createElement("div");r.className="fc-container fc-container--commercial";const o=(0,e.dQ)(window.guardian.config.page.isPaidContent?"high-merch-paid":"high-merch");return r.appendChild(o),g.Z.mutate((()=>{n?.parentNode&&n.parentNode.insertBefore(r,n)}))}return Promise.resolve()};var fi=a(4437),mi=a(276),gi=a(9769),hi=a(3265),vi=a(1553);const bi=/^[A-Z]{2}$/,wi=e=>(0,v.H)(e)&&bi.test(e);let yi;const _i=async()=>{if(yi)return yi;const e=h.t.local.get("gu.geo.override");if(wi(e))return yi=e;const t=(0,o.e)({name:"GU_geo_country"});if(t&&wi(t))return yi=t;try{const{country:e}=await fetch("https://api.nextgen.guardianapps.co.uk/geolocation").then((e=>e.json()));if(wi(e))return(({name:e,value:t})=>{if(!(0,hi.I)(e,t))throw new Error(`${fi.P} ${e}=${t}`);if(document.cookie=`${e}=${t}; path=/;${(0,gi.B)()}`,vi.k.has(e)){const[t]=(0,mi.H)(e);t&&vi.k.set(e,t)}})({name:"GU_geo_country",value:e}),yi=e}catch(e){}return null},Si=t=>{(0,e.YR)();const n=window.guardian.config.page.ipsosTag;if(void 0===n)throw Error("Ipsos tag undefined");const o=`https://${t}-script.dotmetrics.net/door.js?d=${document.location.host}&t=${n}`;return(0,r.v)(o,{id:"ipsos",async:!0,type:"text/javascript"})};let Ei,Oi,Pi=0,ki=[];const Ci=(e,t=!1)=>{let n;return{bodySelector:".js-liveblog-body",slotSelector:" > .block",fromBottom:t,startAt:t?Oi:void 0,absoluteMinAbove:t?0:1.5*Ei,minAbove:0,minBelow:0,clearContentMeta:0,selectors:{},filter:r=>n?!!((t,n)=>Math.abs(n.top-t.top)>2*e)(n,r)&&(n=r,!0):(n=r,!t)}},Ai=(e,t)=>e&&0===t?"top-above-nav":e?`inline${t}`:`inline${t+1}`,ji=t=>{const n="mobile"===(0,Oe.bc)(),r=document.createElement("div");r.className="ad-slot-container";const o=(0,e.dQ)("inline",{name:Ai(n,Pi),classes:"liveblog-inline"});return r.appendChild(o),g.Z.mutate((()=>{t.parentNode&&t.parentNode.insertBefore(r,t.nextSibling)})).then((async()=>{const t=await Nn(o,!1,{phablet:[e.ZN.outstreamDesktop,e.ZN.outstreamGoogleDesktop],desktop:[e.ZN.outstreamDesktop,e.ZN.outstreamGoogleDesktop]});t&&ki.push(t)}))},xi=async e=>{const t=[];for(let n=0;n<e.length&&Pi<8;n+=1){const r=e[n];if(r.parentNode){const e=ji(r);t.push(e),Pi+=1}}await Promise.all(t)},Ti=e=>pn.e.fillSpace(e,xi,{pass:"inline1"}).then((()=>{if(Pi<8){const t=document.querySelector(`${e.bodySelector} > .ad-slot-container`);Oi=t&&t.previousSibling instanceof HTMLElement?t.previousSibling:void 0,document.addEventListener("liveblog:blocks-updated",Ni)}else Oi=void 0})).then((async()=>{ki.length&&dn()&&await Vt(ki),ki=[]})),Ni=()=>{document.removeEventListener("liveblog:blocks-updated",Ni);const e=Ci(Ei,!0);Ti(e)},Di=()=>{if(!ee.d.liveblogAdverts)return Promise.resolve();return"variant"===window.guardian.config.tests?.serverSideLiveblogInlineAdsVariant?((0,n.c)("commercial","Server side inline ads mode. No client-side inline ad slots inserted"),Promise.resolve()):g.Z.measure((()=>(Ei=((e=document)=>e.documentElement.clientHeight?e.documentElement.clientHeight:0)(),Ei))).then(Ci).then(Ti)};var Ii=a(9256);const Mi=()=>{(0,t.Uc)((e=>{"tcfv2"===e.framework&&(e.canTarget?(0,Ii.XJ)(Ii.LQ.ConsentOptOut):((0,Ii.eF)(Ii.LQ.ConsentOptOut),ae()))}))},Li=X((()=>Promise.resolve(Mi()))),Bi=()=>window.guardian.config.isDotcomRendering?(()=>{const t=document.querySelector(".mobilesticky-container");if(t){const n=(0,e.dQ)("mobile-sticky",{});t.appendChild(n)}return t})():(()=>{const t=document.createElement("div");t.className="mobilesticky-container";const n=(0,e.dQ)("mobile-sticky",{});return t.appendChild(n),t})(),Fi=()=>{if(qe()){const e=Bi();return g.Z.mutate((()=>{document.body&&e&&document.body.appendChild(e)})).then((()=>{if(e){const t=e.querySelector("#dfp-ad--mobile-sticky");t&&Nn(t,!0)}}))}return Promise.resolve()},Ri=e=>{const t=e.currentTarget,n=t.parentElement,r=nn(".js-button__label",t).get(0),o=t.getAttribute("data-text");n?.hasAttribute("open")?Ao().mutate((()=>{r.textContent=`More ${o??""}`})):Ao().mutate((()=>{r.textContent="Less"}))},$i=()=>{const e=nn(".dumathoin-more > summary").get();return e.forEach((e=>e.addEventListener("click",Ri))),e.forEach((e=>e.addEventListener("keydown",(e=>{return(t=Ri,e=>{"Enter"!==e.code&&"Space"!==e.code||t(e)})(e);var t})))),Promise.resolve()};var Zi=a(3339),Hi=a(4409);const Ui={books:"P5033A084-E9BF-453A-91D3-C558751D9A85",business:"P5B109609-6223-45BA-B052-55F34A79D7AD",commentisfree:"PA878EFC7-93C8-4352-905E-9E03883FD6BD",artanddesign:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",culture:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",stage:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",education:"P4A01DB74-5B97-435A-89F0-C07EA2C739EC",environment:"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1",cities:"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1","global-development":"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1","sustainable-business":"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1",fashion:"PCF345621-F34D-40B2-852C-6223C9C8F1E2",film:"P878ECFA5-14A7-4038-9924-3696C93706FC",law:"P1FA129DD-9B9E-49BB-98A4-AA7ED8523DFD",lifeandstyle:"PCFE04250-E5F6-48C7-91DB-5CED6854818C",media:"P1434DC6D-6585-4932-AE17-2864CD0AAE99",money:"PB71E7F1E-F231-4F73-9CC8-BE8822ADD0C2",music:"P78382DEE-CC9B-4B36-BD27-809007BFF300",international:"P505182AA-1D71-49D8-8287-AA222CD05424",au:"P505182AA-1D71-49D8-8287-AA222CD05424","australia-news":"P505182AA-1D71-49D8-8287-AA222CD05424",uk:"P505182AA-1D71-49D8-8287-AA222CD05424","uk-news":"P505182AA-1D71-49D8-8287-AA222CD05424",us:"P505182AA-1D71-49D8-8287-AA222CD05424","us-news":"P505182AA-1D71-49D8-8287-AA222CD05424",world:"P505182AA-1D71-49D8-8287-AA222CD05424",politics:"P5B7468E3-CE04-40FD-9444-22FB872FE83E",careers:"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","culture-professionals-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","global-development-professionals-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","government-computing-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","guardian-professional":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","healthcare-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","higher-education-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","housing-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","local-government-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","local-leaders-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","public-leaders-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","small-business-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","social-care-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","teacher-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","voluntary-sector-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","women-in-leadership":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA",science:"PDAD6BC22-C97B-4151-956B-7F069B2C56E9",society:"P7AF4A592-96FB-4255-B33F-352406F4C7D2",sport:"PCC1AEBB6-7D1A-4F34-8256-EFC314E5D0C3",football:"PCC1AEBB6-7D1A-4F34-8256-EFC314E5D0C3",technology:"P29EF991A-3FEE-4215-9F03-58EACA8286B9",travel:"PD1CEDC3E-2653-4CB6-A4FD-8A315DE07548","tv-and-radio":"P66E48909-8FC9-49E8-A7E6-0D31C61805AD","brand-only":"P0EE0F4F4-8D7C-4082-A2A4-82C84728DC59"},zi={shouldRun:!!window.guardian.config.switches.imrWorldwide&&Ne(),url:"//secure-dcr.imrworldwide.com/novms/js/2/ggcmb510.js",onLoad:()=>{const e=window.guardian.config.page.section.toLowerCase(),t=e in Ui?e:"The Guardian - brand only",n={sfcode:"dcr",apid:Ui[e]||Ui["brand-only"],apn:"theguardian"},r=window.NOLCMB.getInstance(n.apid);r.ggInitialize(n);const o={type:"static",assetid:window.guardian.config.page.pageId,section:t};r.ggPM("staticstart",o)}},qi={shouldRun:!!window.guardian.config.switches.imrWorldwide&&Ne(),url:"//secure-au.imrworldwide.com/v60.js",onLoad:()=>{window.nol_t({cid:"au-guardian",content:"0",server:"secure-gl"}).record().post()}},Gi=e=>{const t=document.scripts[0],n=document.createDocumentFragment();let r=!1;return e.forEach((e=>{if(!0!==e.loaded){if(e.beforeLoad&&e.beforeLoad(),!0===e.useImage&&void 0!==e.url)(new Image).src=e.url;else if(e.insertSnippet)e.insertSnippet();else{r=!0;const t=document.createElement("script");void 0!==e.url&&(t.src=e.url),t.onload=e.onLoad??null,!0===e.async&&t.setAttribute("async",""),e.attrs&&e.attrs.forEach((e=>{t.setAttribute(e.name,e.value)})),n.appendChild(t)}e.loaded=!0}})),r?g.Z.mutate((()=>{t.parentNode&&t.parentNode.insertBefore(n,t)})):Promise.resolve()},Vi=async(e,n)=>{await Gi(n);const r=await(0,t.B4)(),o=e.filter((e=>void 0!==e.name&&(0,t.Nl)(e.name,r)));o.length>0&&await Gi(o)},Wi=()=>{const t=[(0,e.Q$)({shouldRun:window.guardian.config.switches.remarketing??!1}),(0,e.eo)({shouldRun:window.guardian.config.switches.permutive??!1}),(0,e.qp)({shouldRun:window.guardian.config.switches.iasAdTargeting??!1}),(0,e.Iv)({shouldRun:window.guardian.config.switches.inizio??!1}),(0,e.km)({shouldRun:window.guardian.config.switches.twitterUwt??!1})].filter((e=>e.shouldRun)),n=[zi,qi].filter((e=>e.shouldRun));return Vi(t,n)},Ji=async()=>ee.d.thirdPartyTags?(await Wi(),Promise.resolve(!0)):Promise.resolve(!1),{isDotcomRendering:Ki,frontendAssetsFullURL:Yi,page:Qi}=window.guardian.config;a.p=`${Yi??Qi.assetsPath}javascripts/commercial/`;const Xi={feature:"commercial",bundle:"standalone"},ea=[],ta=[["cm-adFreeSlotRemoveFronts",ce],["cm-manageAdFreeCookieOnConsentChange",Li],["cm-closeDisabledSlots",se],["cm-comscore",()=>Or()],["cm-ipsosmori",async()=>{const e=await _i(),r=await(0,t.B4)(),o="AU"===e&&!!r.aus,i="GB"===e&&!!r.tcfv2;if(o||i||(0,n.c)("commercial","Skipping ipsos process outside GB or AU"),o)Si("au");else if(i){(0,t.Nl)("ipsos",r)?Si("uk"):(0,n.c)("commercial","No consent for ipsos in GB")}}],["cm-teadsCookieless",async()=>{const e=await(0,t.B4)();(0,t.Nl)("teads",e)&&["Article","LiveBlog"].includes(window.guardian.config.page.contentType)&&(window.teads_analytics=window.teads_analytics??{},window.teads_analytics.analytics_tag_id="PUB_2167",window.teads_analytics.share=window.teads_analytics.share??function(...e){window.teads_analytics&&(window.teads_analytics.shared_data=window.teads_analytics.shared_data??[]).push(...e)},await(0,r.v)("https://a.teads.tv/analytics/tag.js",{async:!1}))}],["cm-trackScrollDepth",async()=>{const r=await(0,t.B4)();"tcfv2"==r.framework&&r.tcfv2?.consents[8]||r.canTarget?((0,e.Ie)(),(0,n.c)("commercial","tracking scroll depth")):(0,n.c)("commercial","No consent to track scroll depth")}],["cm-trackLabsContainer",async()=>{const r=await(0,t.B4)();"tcfv2"==r.framework&&r.tcfv2?.consents[8]||r.canTarget?((0,e.Nw)(),(0,n.c)("commercial","Tracking labs container")):(0,n.c)("commercial","No consent to track labs container")}],["cm-trackGpcSignal",async()=>{const r=await(0,t.B4)();r.canTarget?((0,e.wJ)(r),(0,n.c)("commercial","tracking gpc signal")):(0,n.c)("commercial","No consent to track gpc signal")}]];ee.d.adFree||(ea.push(["cm-setAdTestCookie",Zi.S],["cm-setAdTestInLabelsCookie",Hi.S],["cm-prepare-prebid",Io],["cm-prepare-googletag",()=>(()=>{!function(e,t,n,r,o){if(!t){t=t||{},window.permutive=t,t.q=[],t.config={}||{},t.config.projectId="d6691a17-6fdb-4d26-85d6-b3dd27f55f08",t.config.apiKey="359ba275-5edd-4756-84f8-21a24369ce0b",t.config.environment=t.config.environment||"production";for(let e=["addon","identify","track","trigger","query","segment","segments","ready","on","once","user","consent"],n=0;n<e.length;n++){const r=e[n];t[r]=function(e){return function(){const n=Array.prototype.slice.call(arguments,0);t.q.push({functionName:e,arguments:n})}}(r)}}}(document,window.permutive),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>{if(0===window.googletag.pubads().getTargeting("permutive").length){const e=window.localStorage.getItem("_pdfps");window.googletag.pubads().setTargeting("permutive",e?JSON.parse(e):[])}}));const e={user:window.guardian.config.user,page:window.guardian.config.page,ophan:window.guardian.config.ophan};return ci(e,window.permutive,l.e),Promise.resolve()})().then(ri)],["cm-prepare-a9",jr]),ta.push(["cm-prepare-adverification",en],["cm-mobileSticky",Fi],["cm-highMerch",pi],["cm-articleAsideAdverts",sn],["cm-articleBodyAdverts",nr],["cm-liveblogAdverts",Di],["cm-thirdPartyTags",Ji],["cm-redplanet",di],["cm-paidContainers",$i],["cm-commentAdverts",pr],["cm-commentsExpandedAdverts",wr],["rr-adblock-ask",T]));const na=()=>{const t=e.ai.get();t.trigger("commercialModulesLoaded");const n=document.querySelectorAll(`[id^="${Pr}"]`).length;t.setProperty("adSlotsTotal",n);const r=document.querySelectorAll(`[id^="${Pr}inline"]`).length;t.setProperty("adSlotsInline",r)},ra=async()=>{(0,n.c)("commercial"," standalone.commercial.ts",a.p),e.ai.init(),m([["ga-user-timing-commercial-start",function(){e.ai.get().trigger("commercialStart")}]],Xi),window.googletag={cmd:[]};try{await(async()=>{if(!Ki)return;const e=await Promise.resolve().then(a.bind(a,5598));ta.push(["c-user-features",e.refresh])})();const t=[[ea,"commercialBaseModulesLoaded"],[ta,"commercialExtraModulesLoaded"]].map((t=>((t,n)=>{const r=[];return t.forEach((e=>{const[t,n]=e;m([[t,function(){const e=n();r.push(e)}]],Xi)})),Promise.allSettled(r).then((()=>{e.ai.get().trigger(n)}))})(...t)));await Promise.all(t).then(na)}catch(e){(0,l.e)(e,Xi,!1)}};(0,i.Ye)(c.$,"variant")&&a.e(942).then(a.bind(a,9062)).then((({initElementsManager:e})=>e())),(0,i.Ye)(s.S,"variant")?(async()=>{const e=await(0,t.B4)();if(e.tcfv2&&!(0,t.Nl)("googletag",e)){if((0,i.Ye)(c.$,"variant"))return;a.e(501).then(a.bind(a,3925)).then((({bootConsentless:t})=>t(e)))}else window.guardian.mustardCut||window.guardian.polyfilled?ra():window.guardian.queue.push(ra)})():window.guardian.mustardCut||window.guardian.polyfilled?ra():window.guardian.queue.push(ra)})()})();
//# sourceMappingURL=graun.standalone.commercial.js.map